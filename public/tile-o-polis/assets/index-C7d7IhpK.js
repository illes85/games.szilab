var mv=e=>{throw TypeError(e)};var Hh=(e,t,n)=>t.has(e)||mv("Cannot "+n);var le=(e,t,n)=>(Hh(e,t,"read from private field"),n?n.call(e):t.get(e)),kt=(e,t,n)=>t.has(e)?mv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),dt=(e,t,n,s)=>(Hh(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),Ln=(e,t,n)=>(Hh(e,t,"access private method"),n);var Mu=(e,t,n,s)=>({set _(a){dt(e,t,a,n)},get _(){return le(e,t,s)}});function A_(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function xw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wh={exports:{}},Kl={},Kh={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function I_(){if(gv)return St;gv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function S($,Z,ke){this.props=$,this.context=Z,this.refs=k,this.updater=ke||w}S.prototype.isReactComponent={},S.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function C(){}C.prototype=S.prototype;function N($,Z,ke){this.props=$,this.context=Z,this.refs=k,this.updater=ke||w}var j=N.prototype=new C;j.constructor=N,_(j,S.prototype),j.isPureReactComponent=!0;var T=Array.isArray,O=Object.prototype.hasOwnProperty,L={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function K($,Z,ke){var ge,Ce={},Le=null,ae=null;if(Z!=null)for(ge in Z.ref!==void 0&&(ae=Z.ref),Z.key!==void 0&&(Le=""+Z.key),Z)O.call(Z,ge)&&!U.hasOwnProperty(ge)&&(Ce[ge]=Z[ge]);var Pe=arguments.length-2;if(Pe===1)Ce.children=ke;else if(1<Pe){for(var Oe=Array(Pe),De=0;De<Pe;De++)Oe[De]=arguments[De+2];Ce.children=Oe}if($&&$.defaultProps)for(ge in Pe=$.defaultProps,Pe)Ce[ge]===void 0&&(Ce[ge]=Pe[ge]);return{$$typeof:e,type:$,key:Le,ref:ae,props:Ce,_owner:L.current}}function de($,Z){return{$$typeof:e,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function fe($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function ne($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ke){return Z[ke]})}var ee=/\/+/g;function re($,Z){return typeof $=="object"&&$!==null&&$.key!=null?ne(""+$.key):Z.toString(36)}function ce($,Z,ke,ge,Ce){var Le=typeof $;(Le==="undefined"||Le==="boolean")&&($=null);var ae=!1;if($===null)ae=!0;else switch(Le){case"string":case"number":ae=!0;break;case"object":switch($.$$typeof){case e:case t:ae=!0}}if(ae)return ae=$,Ce=Ce(ae),$=ge===""?"."+re(ae,0):ge,T(Ce)?(ke="",$!=null&&(ke=$.replace(ee,"$&/")+"/"),ce(Ce,Z,ke,"",function(De){return De})):Ce!=null&&(fe(Ce)&&(Ce=de(Ce,ke+(!Ce.key||ae&&ae.key===Ce.key?"":(""+Ce.key).replace(ee,"$&/")+"/")+$)),Z.push(Ce)),1;if(ae=0,ge=ge===""?".":ge+":",T($))for(var Pe=0;Pe<$.length;Pe++){Le=$[Pe];var Oe=ge+re(Le,Pe);ae+=ce(Le,Z,ke,Oe,Ce)}else if(Oe=x($),typeof Oe=="function")for($=Oe.call($),Pe=0;!(Le=$.next()).done;)Le=Le.value,Oe=ge+re(Le,Pe++),ae+=ce(Le,Z,ke,Oe,Ce);else if(Le==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ae}function Ee($,Z,ke){if($==null)return $;var ge=[],Ce=0;return ce($,ge,"","",function(Le){return Z.call(ke,Le,Ce++)}),ge}function me($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(ke){($._status===0||$._status===-1)&&($._status=1,$._result=ke)},function(ke){($._status===0||$._status===-1)&&($._status=2,$._result=ke)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var be={current:null},X={transition:null},G={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:X,ReactCurrentOwner:L};function he(){throw Error("act(...) is not supported in production builds of React.")}return St.Children={map:Ee,forEach:function($,Z,ke){Ee($,function(){Z.apply(this,arguments)},ke)},count:function($){var Z=0;return Ee($,function(){Z++}),Z},toArray:function($){return Ee($,function(Z){return Z})||[]},only:function($){if(!fe($))throw Error("React.Children.only expected to receive a single React element child.");return $}},St.Component=S,St.Fragment=n,St.Profiler=a,St.PureComponent=N,St.StrictMode=s,St.Suspense=h,St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,St.act=he,St.cloneElement=function($,Z,ke){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ge=_({},$.props),Ce=$.key,Le=$.ref,ae=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Le=Z.ref,ae=L.current),Z.key!==void 0&&(Ce=""+Z.key),$.type&&$.type.defaultProps)var Pe=$.type.defaultProps;for(Oe in Z)O.call(Z,Oe)&&!U.hasOwnProperty(Oe)&&(ge[Oe]=Z[Oe]===void 0&&Pe!==void 0?Pe[Oe]:Z[Oe])}var Oe=arguments.length-2;if(Oe===1)ge.children=ke;else if(1<Oe){Pe=Array(Oe);for(var De=0;De<Oe;De++)Pe[De]=arguments[De+2];ge.children=Pe}return{$$typeof:e,type:$.type,key:Ce,ref:Le,props:ge,_owner:ae}},St.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:i,_context:$},$.Consumer=$},St.createElement=K,St.createFactory=function($){var Z=K.bind(null,$);return Z.type=$,Z},St.createRef=function(){return{current:null}},St.forwardRef=function($){return{$$typeof:d,render:$}},St.isValidElement=fe,St.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:me}},St.memo=function($,Z){return{$$typeof:m,type:$,compare:Z===void 0?null:Z}},St.startTransition=function($){var Z=X.transition;X.transition={};try{$()}finally{X.transition=Z}},St.unstable_act=he,St.useCallback=function($,Z){return be.current.useCallback($,Z)},St.useContext=function($){return be.current.useContext($)},St.useDebugValue=function(){},St.useDeferredValue=function($){return be.current.useDeferredValue($)},St.useEffect=function($,Z){return be.current.useEffect($,Z)},St.useId=function(){return be.current.useId()},St.useImperativeHandle=function($,Z,ke){return be.current.useImperativeHandle($,Z,ke)},St.useInsertionEffect=function($,Z){return be.current.useInsertionEffect($,Z)},St.useLayoutEffect=function($,Z){return be.current.useLayoutEffect($,Z)},St.useMemo=function($,Z){return be.current.useMemo($,Z)},St.useReducer=function($,Z,ke){return be.current.useReducer($,Z,ke)},St.useRef=function($){return be.current.useRef($)},St.useState=function($){return be.current.useState($)},St.useSyncExternalStore=function($,Z,ke){return be.current.useSyncExternalStore($,Z,ke)},St.useTransition=function(){return be.current.useTransition()},St.version="18.3.1",St}var yv;function Sd(){return yv||(yv=1,Kh.exports=I_()),Kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function O_(){if(vv)return Kl;vv=1;var e=Sd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var y,v={},x=null,w=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(w=h.ref);for(y in h)s.call(h,y)&&!i.hasOwnProperty(y)&&(v[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:t,type:d,key:x,ref:w,props:v,_owner:a.current}}return Kl.Fragment=n,Kl.jsx=u,Kl.jsxs=u,Kl}var wv;function M_(){return wv||(wv=1,Wh.exports=O_()),Wh.exports}var l=M_(),zu={},qh={exports:{}},cr={},Gh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function z_(){return xv||(xv=1,(function(e){function t(X,G){var he=X.length;X.push(G);e:for(;0<he;){var $=he-1>>>1,Z=X[$];if(0<a(Z,G))X[$]=G,X[he]=Z,he=$;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var G=X[0],he=X.pop();if(he!==G){X[0]=he;e:for(var $=0,Z=X.length,ke=Z>>>1;$<ke;){var ge=2*($+1)-1,Ce=X[ge],Le=ge+1,ae=X[Le];if(0>a(Ce,he))Le<Z&&0>a(ae,Ce)?(X[$]=ae,X[Le]=he,$=Le):(X[$]=Ce,X[ge]=he,$=ge);else if(Le<Z&&0>a(ae,he))X[$]=ae,X[Le]=he,$=Le;else break e}}return G}function a(X,G){var he=X.sortIndex-G.sortIndex;return he!==0?he:X.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],y=1,v=null,x=3,w=!1,_=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(X){for(var G=n(m);G!==null;){if(G.callback===null)s(m);else if(G.startTime<=X)s(m),G.sortIndex=G.expirationTime,t(h,G);else break;G=n(m)}}function T(X){if(k=!1,j(X),!_)if(n(h)!==null)_=!0,me(O);else{var G=n(m);G!==null&&be(T,G.startTime-X)}}function O(X,G){_=!1,k&&(k=!1,C(K),K=-1),w=!0;var he=x;try{for(j(G),v=n(h);v!==null&&(!(v.expirationTime>G)||X&&!ne());){var $=v.callback;if(typeof $=="function"){v.callback=null,x=v.priorityLevel;var Z=$(v.expirationTime<=G);G=e.unstable_now(),typeof Z=="function"?v.callback=Z:v===n(h)&&s(h),j(G)}else s(h);v=n(h)}if(v!==null)var ke=!0;else{var ge=n(m);ge!==null&&be(T,ge.startTime-G),ke=!1}return ke}finally{v=null,x=he,w=!1}}var L=!1,U=null,K=-1,de=5,fe=-1;function ne(){return!(e.unstable_now()-fe<de)}function ee(){if(U!==null){var X=e.unstable_now();fe=X;var G=!0;try{G=U(!0,X)}finally{G?re():(L=!1,U=null)}}else L=!1}var re;if(typeof N=="function")re=function(){N(ee)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,Ee=ce.port2;ce.port1.onmessage=ee,re=function(){Ee.postMessage(null)}}else re=function(){S(ee,0)};function me(X){U=X,L||(L=!0,re())}function be(X,G){K=S(function(){X(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){_||w||(_=!0,me(O))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(X){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var he=x;x=G;try{return X()}finally{x=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,G){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=x;x=X;try{return G()}finally{x=he}},e.unstable_scheduleCallback=function(X,G,he){var $=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?$+he:$):he=$,X){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,X={id:y++,callback:G,priorityLevel:X,startTime:he,expirationTime:Z,sortIndex:-1},he>$?(X.sortIndex=he,t(m,X),n(h)===null&&X===n(m)&&(k?(C(K),K=-1):k=!0,be(T,he-$))):(X.sortIndex=Z,t(h,X),_||w||(_=!0,me(O))),X},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(X){var G=x;return function(){var he=x;x=G;try{return X.apply(this,arguments)}finally{x=he}}}})(Qh)),Qh}var bv;function D_(){return bv||(bv=1,Gh.exports=z_()),Gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function L_(){if(Sv)return cr;Sv=1;var e=Sd(),t=D_();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(r,o){u(r,o),u(r+"Capture",o)}function u(r,o){for(a[r]=o,r=0;r<o.length;r++)s.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(r){return h.call(v,r)?!0:h.call(y,r)?!1:m.test(r)?v[r]=!0:(y[r]=!0,!1)}function w(r,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function _(r,o,c,f){if(o===null||typeof o>"u"||w(r,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(r,o,c,f,g,b,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=r,this.type=o,this.sanitizeURL=b,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];S[o]=new k(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function N(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(C,N);S[o]=new k(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(C,N);S[o]=new k(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(C,N);S[o]=new k(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function j(r,o,c,f){var g=S.hasOwnProperty(o)?S[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(_(o,c,g,f)&&(c=null),f||g===null?x(o)&&(c===null?r.removeAttribute(o):r.setAttribute(o,""+c)):g.mustUseProperty?r[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,f=g.attributeNamespace,c===null?r.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?r.setAttributeNS(f,o,c):r.setAttribute(o,c))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),L=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),ne=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),X=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,$;function Z(r){if($===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+r}var ke=!1;function ge(r,o){if(!r||ke)return"";ke=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(te){var f=te}Reflect.construct(r,[],o)}else{try{o.call()}catch(te){f=te}r.call(o.prototype)}else{try{throw Error()}catch(te){f=te}r()}}catch(te){if(te&&f&&typeof te.stack=="string"){for(var g=te.stack.split(`
`),b=f.stack.split(`
`),E=g.length-1,A=b.length-1;1<=E&&0<=A&&g[E]!==b[A];)A--;for(;1<=E&&0<=A;E--,A--)if(g[E]!==b[A]){if(E!==1||A!==1)do if(E--,A--,0>A||g[E]!==b[A]){var F=`
`+g[E].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=E&&0<=A);break}}}finally{ke=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?Z(r):""}function Ce(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=ge(r.type,!1),r;case 11:return r=ge(r.type.render,!1),r;case 1:return r=ge(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case L:return"Portal";case de:return"Profiler";case K:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ne:return(r.displayName||"Context")+".Consumer";case fe:return(r._context.displayName||"Context")+".Provider";case ee:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ee:return o=r.displayName||null,o!==null?o:Le(r.type)||"Memo";case me:o=r._payload,r=r._init;try{return Le(r(o))}catch{}}return null}function ae(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Pe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oe(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(r){var o=Oe(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,b=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){f=""+E,b.call(this,E)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ke(r){r._valueTracker||(r._valueTracker=De(r))}function Ue(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=Oe(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function mt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $e(r,o){var c=o.checked;return he({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function Lt(r,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=Pe(o.value!=null?o.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Vt(r,o){o=o.checked,o!=null&&j(r,"checked",o,!1)}function Kt(r,o){Vt(r,o);var c=Pe(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?yn(r,o.type,c):o.hasOwnProperty("defaultValue")&&yn(r,o.type,Pe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Ot(r,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,c||o===r.value||(r.value=o),r.defaultValue=o}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function yn(r,o,c){(o!=="number"||mt(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var $t=Array.isArray;function B(r,o,c,f){if(r=r.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=o.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Pe(c),o=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function ue(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return he({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function je(r,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if($t(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}r._wrapperState={initialValue:Pe(c)}}function W(r,o){var c=Pe(o.value),f=Pe(o.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),o.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function ie(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function ye(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?ye(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ze,Ct=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,g){MSApp.execUnsafeLocalFunction(function(){return r(o,c,f,g)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ze.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Qe(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var lt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ie=["Webkit","ms","Moz","O"];Object.keys(lt).forEach(function(r){Ie.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),lt[o]=lt[r]})});function tn(r,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||lt.hasOwnProperty(r)&&lt[r]?(""+o).trim():o+"px"}function Fn(r,o){r=r.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=tn(c,o[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,g):r[c]=g}}var gt=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function et(r,o){if(o){if(gt[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function At(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xt=null;function on(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Yn=null,Xn=null,Jn=null;function Un(r){if(r=Rl(r)){if(typeof Yn!="function")throw Error(n(280));var o=r.stateNode;o&&(o=Yc(o),Yn(r.stateNode,r.type,o))}}function Aa(r){Xn?Jn?Jn.push(r):Jn=[r]:Xn=r}function ct(){if(Xn){var r=Xn,o=Jn;if(Jn=Xn=null,Un(r),o)for(r=0;r<o.length;r++)Un(o[r])}}function ft(r,o){return r(o)}function Rt(){}var Et=!1;function vn(r,o,c){if(Et)return r(o,c);Et=!0;try{return ft(r,o,c)}finally{Et=!1,(Xn!==null||Jn!==null)&&(Rt(),ct())}}function wn(r,o){var c=r.stateNode;if(c===null)return null;var f=Yc(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Bn=!1;if(d)try{var an={};Object.defineProperty(an,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{Bn=!1}function Vn(r,o,c,f,g,b,E,A,F){var te=Array.prototype.slice.call(arguments,3);try{o.apply(c,te)}catch(we){this.onError(we)}}var qr=!1,ms=null,Ho=!1,Ia=null,rf={onError:function(r){qr=!0,ms=r}};function Pc(r,o,c,f,g,b,E,A,F){qr=!1,ms=null,Vn.apply(rf,arguments)}function sf(r,o,c,f,g,b,E,A,F){if(Pc.apply(this,arguments),qr){if(qr){var te=ms;qr=!1,ms=null}else throw Error(n(198));Ho||(Ho=!0,Ia=te)}}function Mt(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function of(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Oa(r){if(Mt(r)!==r)throw Error(n(188))}function Rc(r){var o=r.alternate;if(!o){if(o=Mt(r),o===null)throw Error(n(188));return o!==r?null:r}for(var c=r,f=o;;){var g=c.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===c)return Oa(g),r;if(b===f)return Oa(g),o;b=b.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=b;else{for(var E=!1,A=g.child;A;){if(A===c){E=!0,c=g,f=b;break}if(A===f){E=!0,f=g,c=b;break}A=A.sibling}if(!E){for(A=b.child;A;){if(A===c){E=!0,c=b,f=g;break}if(A===f){E=!0,f=b,c=g;break}A=A.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?r:o}function dl(r){return r=Rc(r),r!==null?Ma(r):null}function Ma(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Ma(r);if(o!==null)return o;r=r.sibling}return null}var Wo=t.unstable_scheduleCallback,fn=t.unstable_cancelCallback,mg=t.unstable_shouldYield,za=t.unstable_requestPaint,Ht=t.unstable_now,Ac=t.unstable_getCurrentPriorityLevel,Ko=t.unstable_ImmediatePriority,fl=t.unstable_UserBlockingPriority,Da=t.unstable_NormalPriority,af=t.unstable_LowPriority,hl=t.unstable_IdlePriority,La=null,Zn=null;function lf(r){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(La,r,void 0,(r.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:Gr,Rn=Math.log,cf=Math.LN2;function Gr(r){return r>>>=0,r===0?32:31-(Rn(r)/cf|0)|0}var $a=64,Cn=4194304;function yr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ro(r,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,g=r.suspendedLanes,b=r.pingedLanes,E=c&268435455;if(E!==0){var A=E&~g;A!==0?f=yr(A):(b&=E,b!==0&&(f=yr(b)))}else E=c&~g,E!==0?f=yr(E):b!==0&&(f=yr(b));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,b=o&-o,g>=b||g===16&&(b&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=f;0<o;)c=31-gr(o),g=1<<c,f|=r[c],o&=~g;return f}function er(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,b=r.pendingLanes;0<b;){var E=31-gr(b),A=1<<E,F=g[E];F===-1?((A&c)===0||(A&f)!==0)&&(g[E]=er(A,o)):F<=o&&(r.expiredLanes|=A),b&=~A}}function Fa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ua(){var r=$a;return $a<<=1,($a&4194240)===0&&($a=64),r}function zr(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function qo(r,o,c){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-gr(o),r[o]=c}function Ba(r,o){var c=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var g=31-gr(c),b=1<<g;o[g]=0,f[g]=-1,r[g]=-1,c&=~b}}function so(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-gr(c),g=1<<f;g&o|r[f]&o&&(r[f]|=o),c&=~g}}var Nt=0;function pl(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ml,Va,gs,Hn,Ha,Wa=!1,Dr=[],vr=null,ys=null,En=null,Go=new Map,Fs=new Map,An=[],Ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(r,o){switch(r){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Go.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(o.pointerId)}}function oo(r,o,c,f,g,b){return r===null||r.nativeEvent!==b?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},o!==null&&(o=Rl(o),o!==null&&Va(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function uf(r,o,c,f,g){switch(o){case"focusin":return vr=oo(vr,r,o,c,f,g),!0;case"dragenter":return ys=oo(ys,r,o,c,f,g),!0;case"mouseover":return En=oo(En,r,o,c,f,g),!0;case"pointerover":var b=g.pointerId;return Go.set(b,oo(Go.get(b)||null,r,o,c,f,g)),!0;case"gotpointercapture":return b=g.pointerId,Fs.set(b,oo(Fs.get(b)||null,r,o,c,f,g)),!0}return!1}function gl(r){var o=ea(r.target);if(o!==null){var c=Mt(o);if(c!==null){if(o=c.tag,o===13){if(o=of(c),o!==null){r.blockedOn=o,Ha(r.priority,function(){gs(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ka(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Yo(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Xt=f,c.target.dispatchEvent(f),Xt=null}else return o=Rl(c),o!==null&&Va(o),r.blockedOn=c,!1;o.shift()}return!0}function qa(r,o,c){Ka(r)&&c.delete(o)}function tr(){Wa=!1,vr!==null&&Ka(vr)&&(vr=null),ys!==null&&Ka(ys)&&(ys=null),En!==null&&Ka(En)&&(En=null),Go.forEach(qa),Fs.forEach(qa)}function nr(r,o){r.blockedOn===o&&(r.blockedOn=null,Wa||(Wa=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tr)))}function ao(r){function o(g){return nr(g,r)}if(0<Dr.length){nr(Dr[0],r);for(var c=1;c<Dr.length;c++){var f=Dr[c];f.blockedOn===r&&(f.blockedOn=null)}}for(vr!==null&&nr(vr,r),ys!==null&&nr(ys,r),En!==null&&nr(En,r),Go.forEach(o),Fs.forEach(o),c=0;c<An.length;c++)f=An[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<An.length&&(c=An[0],c.blockedOn===null);)gl(c),c.blockedOn===null&&An.shift()}var io=T.ReactCurrentBatchConfig,rr=!0;function yl(r,o,c,f){var g=Nt,b=io.transition;io.transition=null;try{Nt=1,Qo(r,o,c,f)}finally{Nt=g,io.transition=b}}function df(r,o,c,f){var g=Nt,b=io.transition;io.transition=null;try{Nt=4,Qo(r,o,c,f)}finally{Nt=g,io.transition=b}}function Qo(r,o,c,f){if(rr){var g=Yo(r,o,c,f);if(g===null)Of(r,o,f,Ga,c),Oc(r,f);else if(uf(g,r,o,c,f))f.stopPropagation();else if(Oc(r,f),o&4&&-1<Ic.indexOf(r)){for(;g!==null;){var b=Rl(g);if(b!==null&&ml(b),b=Yo(r,o,c,f),b===null&&Of(r,o,f,Ga,c),b===g)break;g=b}g!==null&&f.stopPropagation()}else Of(r,o,f,null,c)}}var Ga=null;function Yo(r,o,c,f){if(Ga=null,r=on(f),r=ea(r),r!==null)if(o=Mt(r),o===null)r=null;else if(c=o.tag,c===13){if(r=of(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Ga=r,null}function Mc(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ac()){case Ko:return 1;case fl:return 4;case Da:case af:return 16;case hl:return 536870912;default:return 16}default:return 16}}var vs=null,Xo=null,Qa=null;function vl(){if(Qa)return Qa;var r,o=Xo,c=o.length,f,g="value"in vs?vs.value:vs.textContent,b=g.length;for(r=0;r<c&&o[r]===g[r];r++);var E=c-r;for(f=1;f<=E&&o[c-f]===g[b-f];f++);return Qa=g.slice(r,1<f?1-f:void 0)}function lo(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ya(){return!0}function wr(){return!1}function Pt(r){function o(c,f,g,b,E){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(c=r[A],this[A]=c?c(b):b[A]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ya:wr,this.isPropagationStopped=wr,this}return he(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),o}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Pt(ws),Jo=he({},ws,{view:0,detail:0}),ff=Pt(Jo),xl,bl,Zo,Xa=he({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zo&&(Zo&&r.type==="mousemove"?(xl=r.screenX-Zo.screenX,bl=r.screenY-Zo.screenY):bl=xl=0,Zo=r),xl)},movementY:function(r){return"movementY"in r?r.movementY:bl}}),zc=Pt(Xa),Ja=he({},Xa,{dataTransfer:0}),hf=Pt(Ja),pf=he({},Jo,{relatedTarget:0}),Sl=Pt(pf),Dc=he({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),mf=Pt(Dc),Lc=he({},ws,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),gf=Pt(Lc),$c=he({},ws,{data:0}),kl=Pt($c),yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xf(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=wf[r])?!!o[r]:!1}function _l(){return xf}var bf=he({},Jo,{key:function(r){if(r.key){var o=yf[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=lo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(r){return r.type==="keypress"?lo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?lo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Sf=Pt(bf),kf=he({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=Pt(kf),_f=he({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),Cf=Pt(_f),gg=he({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uc=Pt(gg),Ef=he({},Xa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bc=Pt(Ef),Vc=[9,13,27,32],Za=d&&"CompositionEvent"in window,R=null;d&&"documentMode"in document&&(R=document.documentMode);var P=d&&"TextEvent"in window&&!R,I=d&&(!Za||R&&8<R&&11>=R),z=" ",M=!1;function D(r,o){switch(r){case"keyup":return Vc.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var H=!1;function q(r,o){switch(r){case"compositionend":return Q(o);case"keypress":return o.which!==32?null:(M=!0,z);case"textInput":return r=o.data,r===z&&M?null:r;default:return null}}function se(r,o){if(H)return r==="compositionend"||!Za&&D(r,o)?(r=vl(),Qa=Xo=vs=null,H=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return I&&o.locale!=="ko"?null:o.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oe(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!xe[r.type]:o==="textarea"}function Fe(r,o,c,f){Aa(f),o=qc(o,"onChange"),0<o.length&&(c=new wl("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var Re=null,Ae=null;function tt(r){Rg(r,0)}function yt(r){var o=si(r);if(Ue(o))return r}function wt(r,o){if(r==="change")return o}var xt=!1;if(d){var bt;if(d){var In="oninput"in document;if(!In){var nn=document.createElement("div");nn.setAttribute("oninput","return;"),In=typeof nn.oninput=="function"}bt=In}else bt=!1;xt=bt&&(!document.documentMode||9<document.documentMode)}function co(){Re&&(Re.detachEvent("onpropertychange",yg),Ae=Re=null)}function yg(r){if(r.propertyName==="value"&&yt(Ae)){var o=[];Fe(o,Ae,r,on(r)),vn(tt,o)}}function Ok(r,o,c){r==="focusin"?(co(),Re=o,Ae=c,Re.attachEvent("onpropertychange",yg)):r==="focusout"&&co()}function Mk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yt(Ae)}function zk(r,o){if(r==="click")return yt(o)}function Dk(r,o){if(r==="input"||r==="change")return yt(o)}function Lk(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Yr=typeof Object.is=="function"?Object.is:Lk;function Cl(r,o){if(Yr(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!h.call(o,g)||!Yr(r[g],o[g]))return!1}return!0}function vg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wg(r,o){var c=vg(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vg(c)}}function xg(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?xg(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function bg(){for(var r=window,o=mt();o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=mt(r.document)}return o}function jf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function $k(r){var o=bg(),c=r.focusedElem,f=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&xg(c.ownerDocument.documentElement,c)){if(f!==null&&jf(c)){if(o=f.start,r=f.end,r===void 0&&(r=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(r,c.value.length);else if(r=(o=c.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var g=c.textContent.length,b=Math.min(f.start,g);f=f.end===void 0?b:Math.min(f.end,g),!r.extend&&b>f&&(g=f,f=b,b=g),g=wg(c,b);var E=wg(c,f);g&&E&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),r.removeAllRanges(),b>f?(r.addRange(o),r.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),r.addRange(o)))}}for(o=[],r=c;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)r=o[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Fk=d&&"documentMode"in document&&11>=document.documentMode,ei=null,Nf=null,El=null,Tf=!1;function Sg(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tf||ei==null||ei!==mt(f)||(f=ei,"selectionStart"in f&&jf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),El&&Cl(El,f)||(El=f,f=qc(Nf,"onSelect"),0<f.length&&(o=new wl("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=ei)))}function Hc(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var ti={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},Pf={},kg={};d&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function Wc(r){if(Pf[r])return Pf[r];if(!ti[r])return r;var o=ti[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in kg)return Pf[r]=o[c];return r}var _g=Wc("animationend"),Cg=Wc("animationiteration"),Eg=Wc("animationstart"),jg=Wc("transitionend"),Ng=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(r,o){Ng.set(r,o),i(o,[r])}for(var Rf=0;Rf<Tg.length;Rf++){var Af=Tg[Rf],Uk=Af.toLowerCase(),Bk=Af[0].toUpperCase()+Af.slice(1);uo(Uk,"on"+Bk)}uo(_g,"onAnimationEnd"),uo(Cg,"onAnimationIteration"),uo(Eg,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(jg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function Pg(r,o,c){var f=r.type||"unknown-event";r.currentTarget=c,sf(f,o,void 0,r),r.currentTarget=null}function Rg(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],g=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var E=f.length-1;0<=E;E--){var A=f[E],F=A.instance,te=A.currentTarget;if(A=A.listener,F!==b&&g.isPropagationStopped())break e;Pg(g,A,te),b=F}else for(E=0;E<f.length;E++){if(A=f[E],F=A.instance,te=A.currentTarget,A=A.listener,F!==b&&g.isPropagationStopped())break e;Pg(g,A,te),b=F}}}if(Ho)throw r=Ia,Ho=!1,Ia=null,r}function Ft(r,o){var c=o[Ff];c===void 0&&(c=o[Ff]=new Set);var f=r+"__bubble";c.has(f)||(Ag(o,r,2,!1),c.add(f))}function If(r,o,c){var f=0;o&&(f|=4),Ag(c,r,f,o)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Nl(r){if(!r[Kc]){r[Kc]=!0,s.forEach(function(c){c!=="selectionchange"&&(Vk.has(c)||If(c,!1,r),If(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Kc]||(o[Kc]=!0,If("selectionchange",!1,o))}}function Ag(r,o,c,f){switch(Mc(o)){case 1:var g=yl;break;case 4:g=df;break;default:g=Qo}c=g.bind(null,o,c,r),g=void 0,!Bn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(o,c,{capture:!0,passive:g}):r.addEventListener(o,c,!0):g!==void 0?r.addEventListener(o,c,{passive:g}):r.addEventListener(o,c,!1)}function Of(r,o,c,f,g){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var A=f.stateNode.containerInfo;if(A===g||A.nodeType===8&&A.parentNode===g)break;if(E===4)for(E=f.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;E=E.return}for(;A!==null;){if(E=ea(A),E===null)return;if(F=E.tag,F===5||F===6){f=b=E;continue e}A=A.parentNode}}f=f.return}vn(function(){var te=b,we=on(c),Se=[];e:{var ve=Ng.get(r);if(ve!==void 0){var Be=wl,qe=r;switch(r){case"keypress":if(lo(c)===0)break e;case"keydown":case"keyup":Be=Sf;break;case"focusin":qe="focus",Be=Sl;break;case"focusout":qe="blur",Be=Sl;break;case"beforeblur":case"afterblur":Be=Sl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Cf;break;case _g:case Cg:case Eg:Be=mf;break;case jg:Be=Uc;break;case"scroll":Be=ff;break;case"wheel":Be=Bc;break;case"copy":case"cut":case"paste":Be=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Fc}var Ge=(o&4)!==0,rn=!Ge&&r==="scroll",Y=Ge?ve!==null?ve+"Capture":null:ve;Ge=[];for(var V=te,J;V!==null;){J=V;var Ne=J.stateNode;if(J.tag===5&&Ne!==null&&(J=Ne,Y!==null&&(Ne=wn(V,Y),Ne!=null&&Ge.push(Tl(V,Ne,J)))),rn)break;V=V.return}0<Ge.length&&(ve=new Be(ve,qe,null,c,we),Se.push({event:ve,listeners:Ge}))}}if((o&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",Be=r==="mouseout"||r==="pointerout",ve&&c!==Xt&&(qe=c.relatedTarget||c.fromElement)&&(ea(qe)||qe[Us]))break e;if((Be||ve)&&(ve=we.window===we?we:(ve=we.ownerDocument)?ve.defaultView||ve.parentWindow:window,Be?(qe=c.relatedTarget||c.toElement,Be=te,qe=qe?ea(qe):null,qe!==null&&(rn=Mt(qe),qe!==rn||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(Be=null,qe=te),Be!==qe)){if(Ge=zc,Ne="onMouseLeave",Y="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Ge=Fc,Ne="onPointerLeave",Y="onPointerEnter",V="pointer"),rn=Be==null?ve:si(Be),J=qe==null?ve:si(qe),ve=new Ge(Ne,V+"leave",Be,c,we),ve.target=rn,ve.relatedTarget=J,Ne=null,ea(we)===te&&(Ge=new Ge(Y,V+"enter",qe,c,we),Ge.target=J,Ge.relatedTarget=rn,Ne=Ge),rn=Ne,Be&&qe)t:{for(Ge=Be,Y=qe,V=0,J=Ge;J;J=ni(J))V++;for(J=0,Ne=Y;Ne;Ne=ni(Ne))J++;for(;0<V-J;)Ge=ni(Ge),V--;for(;0<J-V;)Y=ni(Y),J--;for(;V--;){if(Ge===Y||Y!==null&&Ge===Y.alternate)break t;Ge=ni(Ge),Y=ni(Y)}Ge=null}else Ge=null;Be!==null&&Ig(Se,ve,Be,Ge,!1),qe!==null&&rn!==null&&Ig(Se,rn,qe,Ge,!0)}}e:{if(ve=te?si(te):window,Be=ve.nodeName&&ve.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ve.type==="file")var Ye=wt;else if(oe(ve))if(xt)Ye=Dk;else{Ye=Mk;var rt=Ok}else(Be=ve.nodeName)&&Be.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ye=zk);if(Ye&&(Ye=Ye(r,te))){Fe(Se,Ye,c,we);break e}rt&&rt(r,ve,te),r==="focusout"&&(rt=ve._wrapperState)&&rt.controlled&&ve.type==="number"&&yn(ve,"number",ve.value)}switch(rt=te?si(te):window,r){case"focusin":(oe(rt)||rt.contentEditable==="true")&&(ei=rt,Nf=te,El=null);break;case"focusout":El=Nf=ei=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Sg(Se,c,we);break;case"selectionchange":if(Fk)break;case"keydown":case"keyup":Sg(Se,c,we)}var st;if(Za)e:{switch(r){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else H?D(r,c)&&(ut="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ut="onCompositionStart");ut&&(I&&c.locale!=="ko"&&(H||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&H&&(st=vl()):(vs=we,Xo="value"in vs?vs.value:vs.textContent,H=!0)),rt=qc(te,ut),0<rt.length&&(ut=new kl(ut,r,null,c,we),Se.push({event:ut,listeners:rt}),st?ut.data=st:(st=Q(c),st!==null&&(ut.data=st)))),(st=P?q(r,c):se(r,c))&&(te=qc(te,"onBeforeInput"),0<te.length&&(we=new kl("onBeforeInput","beforeinput",null,c,we),Se.push({event:we,listeners:te}),we.data=st))}Rg(Se,o)})}function Tl(r,o,c){return{instance:r,listener:o,currentTarget:c}}function qc(r,o){for(var c=o+"Capture",f=[];r!==null;){var g=r,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=wn(r,c),b!=null&&f.unshift(Tl(r,b,g)),b=wn(r,o),b!=null&&f.push(Tl(r,b,g))),r=r.return}return f}function ni(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ig(r,o,c,f,g){for(var b=o._reactName,E=[];c!==null&&c!==f;){var A=c,F=A.alternate,te=A.stateNode;if(F!==null&&F===f)break;A.tag===5&&te!==null&&(A=te,g?(F=wn(c,b),F!=null&&E.unshift(Tl(c,F,A))):g||(F=wn(c,b),F!=null&&E.push(Tl(c,F,A)))),c=c.return}E.length!==0&&r.push({event:o,listeners:E})}var Hk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function Og(r){return(typeof r=="string"?r:""+r).replace(Hk,`
`).replace(Wk,"")}function Gc(r,o,c){if(o=Og(o),Og(r)!==o&&c)throw Error(n(425))}function Qc(){}var Mf=null,zf=null;function Df(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,qk=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(r){return Mg.resolve(null).then(r).catch(Gk)}:Lf;function Gk(r){setTimeout(function(){throw r})}function $f(r,o){var c=o,f=0;do{var g=c.nextSibling;if(r.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){r.removeChild(g),ao(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);ao(o)}function fo(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function zg(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}var ri=Math.random().toString(36).slice(2),xs="__reactFiber$"+ri,Pl="__reactProps$"+ri,Us="__reactContainer$"+ri,Ff="__reactEvents$"+ri,Qk="__reactListeners$"+ri,Yk="__reactHandles$"+ri;function ea(r){var o=r[xs];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Us]||c[xs]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=zg(r);r!==null;){if(c=r[xs])return c;r=zg(r)}return o}r=c,c=r.parentNode}return null}function Rl(r){return r=r[xs]||r[Us],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function si(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Yc(r){return r[Pl]||null}var Uf=[],oi=-1;function ho(r){return{current:r}}function Ut(r){0>oi||(r.current=Uf[oi],Uf[oi]=null,oi--)}function zt(r,o){oi++,Uf[oi]=r.current,r.current=o}var po={},On=ho(po),sr=ho(!1),ta=po;function ai(r,o){var c=r.type.contextTypes;if(!c)return po;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in c)g[b]=o[b];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=g),g}function or(r){return r=r.childContextTypes,r!=null}function Xc(){Ut(sr),Ut(On)}function Dg(r,o,c){if(On.current!==po)throw Error(n(168));zt(On,o),zt(sr,c)}function Lg(r,o,c){var f=r.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,ae(r)||"Unknown",g));return he({},c,f)}function Jc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||po,ta=On.current,zt(On,r),zt(sr,sr.current),!0}function $g(r,o,c){var f=r.stateNode;if(!f)throw Error(n(169));c?(r=Lg(r,o,ta),f.__reactInternalMemoizedMergedChildContext=r,Ut(sr),Ut(On),zt(On,r)):Ut(sr),zt(sr,c)}var Bs=null,Zc=!1,Bf=!1;function Fg(r){Bs===null?Bs=[r]:Bs.push(r)}function Xk(r){Zc=!0,Fg(r)}function mo(){if(!Bf&&Bs!==null){Bf=!0;var r=0,o=Nt;try{var c=Bs;for(Nt=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}Bs=null,Zc=!1}catch(g){throw Bs!==null&&(Bs=Bs.slice(r+1)),Wo(Ko,mo),g}finally{Nt=o,Bf=!1}}return null}var ii=[],li=0,eu=null,tu=0,Lr=[],$r=0,na=null,Vs=1,Hs="";function ra(r,o){ii[li++]=tu,ii[li++]=eu,eu=r,tu=o}function Ug(r,o,c){Lr[$r++]=Vs,Lr[$r++]=Hs,Lr[$r++]=na,na=r;var f=Vs;r=Hs;var g=32-gr(f)-1;f&=~(1<<g),c+=1;var b=32-gr(o)+g;if(30<b){var E=g-g%5;b=(f&(1<<E)-1).toString(32),f>>=E,g-=E,Vs=1<<32-gr(o)+g|c<<g|f,Hs=b+r}else Vs=1<<b|c<<g|f,Hs=r}function Vf(r){r.return!==null&&(ra(r,1),Ug(r,1,0))}function Hf(r){for(;r===eu;)eu=ii[--li],ii[li]=null,tu=ii[--li],ii[li]=null;for(;r===na;)na=Lr[--$r],Lr[$r]=null,Hs=Lr[--$r],Lr[$r]=null,Vs=Lr[--$r],Lr[$r]=null}var xr=null,br=null,Wt=!1,Xr=null;function Bg(r,o){var c=Vr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=r,o=r.deletions,o===null?(r.deletions=[c],r.flags|=16):o.push(c)}function Vg(r,o){switch(r.tag){case 5:var c=r.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,xr=r,br=fo(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,xr=r,br=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=na!==null?{id:Vs,overflow:Hs}:null,r.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Vr(18,null,null,0),c.stateNode=o,c.return=r,r.child=c,xr=r,br=null,!0):!1;default:return!1}}function Wf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Kf(r){if(Wt){var o=br;if(o){var c=o;if(!Vg(r,o)){if(Wf(r))throw Error(n(418));o=fo(c.nextSibling);var f=xr;o&&Vg(r,o)?Bg(f,c):(r.flags=r.flags&-4097|2,Wt=!1,xr=r)}}else{if(Wf(r))throw Error(n(418));r.flags=r.flags&-4097|2,Wt=!1,xr=r}}}function Hg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xr=r}function nu(r){if(r!==xr)return!1;if(!Wt)return Hg(r),Wt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Df(r.type,r.memoizedProps)),o&&(o=br)){if(Wf(r))throw Wg(),Error(n(418));for(;o;)Bg(r,o),o=fo(o.nextSibling)}if(Hg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(o===0){br=fo(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}r=r.nextSibling}br=null}}else br=xr?fo(r.stateNode.nextSibling):null;return!0}function Wg(){for(var r=br;r;)r=fo(r.nextSibling)}function ci(){br=xr=null,Wt=!1}function qf(r){Xr===null?Xr=[r]:Xr.push(r)}var Jk=T.ReactCurrentBatchConfig;function Al(r,o,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,r));var g=f,b=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(E){var A=g.refs;E===null?delete A[b]:A[b]=E},o._stringRef=b,o)}if(typeof r!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,r))}return r}function ru(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Kg(r){var o=r._init;return o(r._payload)}function qg(r){function o(Y,V){if(r){var J=Y.deletions;J===null?(Y.deletions=[V],Y.flags|=16):J.push(V)}}function c(Y,V){if(!r)return null;for(;V!==null;)o(Y,V),V=V.sibling;return null}function f(Y,V){for(Y=new Map;V!==null;)V.key!==null?Y.set(V.key,V):Y.set(V.index,V),V=V.sibling;return Y}function g(Y,V){return Y=ko(Y,V),Y.index=0,Y.sibling=null,Y}function b(Y,V,J){return Y.index=J,r?(J=Y.alternate,J!==null?(J=J.index,J<V?(Y.flags|=2,V):J):(Y.flags|=2,V)):(Y.flags|=1048576,V)}function E(Y){return r&&Y.alternate===null&&(Y.flags|=2),Y}function A(Y,V,J,Ne){return V===null||V.tag!==6?(V=Lh(J,Y.mode,Ne),V.return=Y,V):(V=g(V,J),V.return=Y,V)}function F(Y,V,J,Ne){var Ye=J.type;return Ye===U?we(Y,V,J.props.children,Ne,J.key):V!==null&&(V.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===me&&Kg(Ye)===V.type)?(Ne=g(V,J.props),Ne.ref=Al(Y,V,J),Ne.return=Y,Ne):(Ne=ju(J.type,J.key,J.props,null,Y.mode,Ne),Ne.ref=Al(Y,V,J),Ne.return=Y,Ne)}function te(Y,V,J,Ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==J.containerInfo||V.stateNode.implementation!==J.implementation?(V=$h(J,Y.mode,Ne),V.return=Y,V):(V=g(V,J.children||[]),V.return=Y,V)}function we(Y,V,J,Ne,Ye){return V===null||V.tag!==7?(V=da(J,Y.mode,Ne,Ye),V.return=Y,V):(V=g(V,J),V.return=Y,V)}function Se(Y,V,J){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Lh(""+V,Y.mode,J),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return J=ju(V.type,V.key,V.props,null,Y.mode,J),J.ref=Al(Y,null,V),J.return=Y,J;case L:return V=$h(V,Y.mode,J),V.return=Y,V;case me:var Ne=V._init;return Se(Y,Ne(V._payload),J)}if($t(V)||G(V))return V=da(V,Y.mode,J,null),V.return=Y,V;ru(Y,V)}return null}function ve(Y,V,J,Ne){var Ye=V!==null?V.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ye!==null?null:A(Y,V,""+J,Ne);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===Ye?F(Y,V,J,Ne):null;case L:return J.key===Ye?te(Y,V,J,Ne):null;case me:return Ye=J._init,ve(Y,V,Ye(J._payload),Ne)}if($t(J)||G(J))return Ye!==null?null:we(Y,V,J,Ne,null);ru(Y,J)}return null}function Be(Y,V,J,Ne,Ye){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return Y=Y.get(J)||null,A(V,Y,""+Ne,Ye);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case O:return Y=Y.get(Ne.key===null?J:Ne.key)||null,F(V,Y,Ne,Ye);case L:return Y=Y.get(Ne.key===null?J:Ne.key)||null,te(V,Y,Ne,Ye);case me:var rt=Ne._init;return Be(Y,V,J,rt(Ne._payload),Ye)}if($t(Ne)||G(Ne))return Y=Y.get(J)||null,we(V,Y,Ne,Ye,null);ru(V,Ne)}return null}function qe(Y,V,J,Ne){for(var Ye=null,rt=null,st=V,ut=V=0,Sn=null;st!==null&&ut<J.length;ut++){st.index>ut?(Sn=st,st=null):Sn=st.sibling;var Tt=ve(Y,st,J[ut],Ne);if(Tt===null){st===null&&(st=Sn);break}r&&st&&Tt.alternate===null&&o(Y,st),V=b(Tt,V,ut),rt===null?Ye=Tt:rt.sibling=Tt,rt=Tt,st=Sn}if(ut===J.length)return c(Y,st),Wt&&ra(Y,ut),Ye;if(st===null){for(;ut<J.length;ut++)st=Se(Y,J[ut],Ne),st!==null&&(V=b(st,V,ut),rt===null?Ye=st:rt.sibling=st,rt=st);return Wt&&ra(Y,ut),Ye}for(st=f(Y,st);ut<J.length;ut++)Sn=Be(st,Y,ut,J[ut],Ne),Sn!==null&&(r&&Sn.alternate!==null&&st.delete(Sn.key===null?ut:Sn.key),V=b(Sn,V,ut),rt===null?Ye=Sn:rt.sibling=Sn,rt=Sn);return r&&st.forEach(function(_o){return o(Y,_o)}),Wt&&ra(Y,ut),Ye}function Ge(Y,V,J,Ne){var Ye=G(J);if(typeof Ye!="function")throw Error(n(150));if(J=Ye.call(J),J==null)throw Error(n(151));for(var rt=Ye=null,st=V,ut=V=0,Sn=null,Tt=J.next();st!==null&&!Tt.done;ut++,Tt=J.next()){st.index>ut?(Sn=st,st=null):Sn=st.sibling;var _o=ve(Y,st,Tt.value,Ne);if(_o===null){st===null&&(st=Sn);break}r&&st&&_o.alternate===null&&o(Y,st),V=b(_o,V,ut),rt===null?Ye=_o:rt.sibling=_o,rt=_o,st=Sn}if(Tt.done)return c(Y,st),Wt&&ra(Y,ut),Ye;if(st===null){for(;!Tt.done;ut++,Tt=J.next())Tt=Se(Y,Tt.value,Ne),Tt!==null&&(V=b(Tt,V,ut),rt===null?Ye=Tt:rt.sibling=Tt,rt=Tt);return Wt&&ra(Y,ut),Ye}for(st=f(Y,st);!Tt.done;ut++,Tt=J.next())Tt=Be(st,Y,ut,Tt.value,Ne),Tt!==null&&(r&&Tt.alternate!==null&&st.delete(Tt.key===null?ut:Tt.key),V=b(Tt,V,ut),rt===null?Ye=Tt:rt.sibling=Tt,rt=Tt);return r&&st.forEach(function(R_){return o(Y,R_)}),Wt&&ra(Y,ut),Ye}function rn(Y,V,J,Ne){if(typeof J=="object"&&J!==null&&J.type===U&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:e:{for(var Ye=J.key,rt=V;rt!==null;){if(rt.key===Ye){if(Ye=J.type,Ye===U){if(rt.tag===7){c(Y,rt.sibling),V=g(rt,J.props.children),V.return=Y,Y=V;break e}}else if(rt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===me&&Kg(Ye)===rt.type){c(Y,rt.sibling),V=g(rt,J.props),V.ref=Al(Y,rt,J),V.return=Y,Y=V;break e}c(Y,rt);break}else o(Y,rt);rt=rt.sibling}J.type===U?(V=da(J.props.children,Y.mode,Ne,J.key),V.return=Y,Y=V):(Ne=ju(J.type,J.key,J.props,null,Y.mode,Ne),Ne.ref=Al(Y,V,J),Ne.return=Y,Y=Ne)}return E(Y);case L:e:{for(rt=J.key;V!==null;){if(V.key===rt)if(V.tag===4&&V.stateNode.containerInfo===J.containerInfo&&V.stateNode.implementation===J.implementation){c(Y,V.sibling),V=g(V,J.children||[]),V.return=Y,Y=V;break e}else{c(Y,V);break}else o(Y,V);V=V.sibling}V=$h(J,Y.mode,Ne),V.return=Y,Y=V}return E(Y);case me:return rt=J._init,rn(Y,V,rt(J._payload),Ne)}if($t(J))return qe(Y,V,J,Ne);if(G(J))return Ge(Y,V,J,Ne);ru(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,V!==null&&V.tag===6?(c(Y,V.sibling),V=g(V,J),V.return=Y,Y=V):(c(Y,V),V=Lh(J,Y.mode,Ne),V.return=Y,Y=V),E(Y)):c(Y,V)}return rn}var ui=qg(!0),Gg=qg(!1),su=ho(null),ou=null,di=null,Gf=null;function Qf(){Gf=di=ou=null}function Yf(r){var o=su.current;Ut(su),r._currentValue=o}function Xf(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function fi(r,o){ou=r,Gf=di=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(ar=!0),r.firstContext=null)}function Fr(r){var o=r._currentValue;if(Gf!==r)if(r={context:r,memoizedValue:o,next:null},di===null){if(ou===null)throw Error(n(308));di=r,ou.dependencies={lanes:0,firstContext:r}}else di=di.next=r;return o}var sa=null;function Jf(r){sa===null?sa=[r]:sa.push(r)}function Qg(r,o,c,f){var g=o.interleaved;return g===null?(c.next=c,Jf(o)):(c.next=g.next,g.next=c),o.interleaved=c,Ws(r,f)}function Ws(r,o){r.lanes|=o;var c=r.alternate;for(c!==null&&(c.lanes|=o),c=r,r=r.return;r!==null;)r.childLanes|=o,c=r.alternate,c!==null&&(c.childLanes|=o),c=r,r=r.return;return c.tag===3?c.stateNode:null}var go=!1;function Zf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ks(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function yo(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(jt&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Ws(r,c)}return g=f.interleaved,g===null?(o.next=o,Jf(f)):(o.next=g.next,g.next=o),f.interleaved=o,Ws(r,c)}function au(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,so(r,c)}}function Xg(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?g=b=E:b=b.next=E,c=c.next}while(c!==null);b===null?g=b=o:b=b.next=o}else g=b=o;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}function iu(r,o,c,f){var g=r.updateQueue;go=!1;var b=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var F=A,te=F.next;F.next=null,E===null?b=te:E.next=te,E=F;var we=r.alternate;we!==null&&(we=we.updateQueue,A=we.lastBaseUpdate,A!==E&&(A===null?we.firstBaseUpdate=te:A.next=te,we.lastBaseUpdate=F))}if(b!==null){var Se=g.baseState;E=0,we=te=F=null,A=b;do{var ve=A.lane,Be=A.eventTime;if((f&ve)===ve){we!==null&&(we=we.next={eventTime:Be,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var qe=r,Ge=A;switch(ve=o,Be=c,Ge.tag){case 1:if(qe=Ge.payload,typeof qe=="function"){Se=qe.call(Be,Se,ve);break e}Se=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ge.payload,ve=typeof qe=="function"?qe.call(Be,Se,ve):qe,ve==null)break e;Se=he({},Se,ve);break e;case 2:go=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ve=g.effects,ve===null?g.effects=[A]:ve.push(A))}else Be={eventTime:Be,lane:ve,tag:A.tag,payload:A.payload,callback:A.callback,next:null},we===null?(te=we=Be,F=Se):we=we.next=Be,E|=ve;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;ve=A,A=ve.next,ve.next=null,g.lastBaseUpdate=ve,g.shared.pending=null}}while(!0);if(we===null&&(F=Se),g.baseState=F,g.firstBaseUpdate=te,g.lastBaseUpdate=we,o=g.shared.interleaved,o!==null){g=o;do E|=g.lane,g=g.next;while(g!==o)}else b===null&&(g.shared.lanes=0);ia|=E,r.lanes=E,r.memoizedState=Se}}function Jg(r,o,c){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var f=r[o],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Il={},bs=ho(Il),Ol=ho(Il),Ml=ho(Il);function oa(r){if(r===Il)throw Error(n(174));return r}function eh(r,o){switch(zt(Ml,o),zt(Ol,r),zt(bs,Il),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:We(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=We(o,r)}Ut(bs),zt(bs,o)}function hi(){Ut(bs),Ut(Ol),Ut(Ml)}function Zg(r){oa(Ml.current);var o=oa(bs.current),c=We(o,r.type);o!==c&&(zt(Ol,r),zt(bs,c))}function th(r){Ol.current===r&&(Ut(bs),Ut(Ol))}var qt=ho(0);function lu(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var nh=[];function rh(){for(var r=0;r<nh.length;r++)nh[r]._workInProgressVersionPrimary=null;nh.length=0}var cu=T.ReactCurrentDispatcher,sh=T.ReactCurrentBatchConfig,aa=0,Gt=null,hn=null,xn=null,uu=!1,zl=!1,Dl=0,Zk=0;function Mn(){throw Error(n(321))}function oh(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!Yr(r[c],o[c]))return!1;return!0}function ah(r,o,c,f,g,b){if(aa=b,Gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,cu.current=r===null||r.memoizedState===null?r_:s_,r=c(f,g),zl){b=0;do{if(zl=!1,Dl=0,25<=b)throw Error(n(301));b+=1,xn=hn=null,o.updateQueue=null,cu.current=o_,r=c(f,g)}while(zl)}if(cu.current=hu,o=hn!==null&&hn.next!==null,aa=0,xn=hn=Gt=null,uu=!1,o)throw Error(n(300));return r}function ih(){var r=Dl!==0;return Dl=0,r}function Ss(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Gt.memoizedState=xn=r:xn=xn.next=r,xn}function Ur(){if(hn===null){var r=Gt.alternate;r=r!==null?r.memoizedState:null}else r=hn.next;var o=xn===null?Gt.memoizedState:xn.next;if(o!==null)xn=o,hn=r;else{if(r===null)throw Error(n(310));hn=r,r={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},xn===null?Gt.memoizedState=xn=r:xn=xn.next=r}return xn}function Ll(r,o){return typeof o=="function"?o(r):o}function lh(r){var o=Ur(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=hn,g=f.baseQueue,b=c.pending;if(b!==null){if(g!==null){var E=g.next;g.next=b.next,b.next=E}f.baseQueue=g=b,c.pending=null}if(g!==null){b=g.next,f=f.baseState;var A=E=null,F=null,te=b;do{var we=te.lane;if((aa&we)===we)F!==null&&(F=F.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),f=te.hasEagerState?te.eagerState:r(f,te.action);else{var Se={lane:we,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};F===null?(A=F=Se,E=f):F=F.next=Se,Gt.lanes|=we,ia|=we}te=te.next}while(te!==null&&te!==b);F===null?E=f:F.next=A,Yr(f,o.memoizedState)||(ar=!0),o.memoizedState=f,o.baseState=E,o.baseQueue=F,c.lastRenderedState=f}if(r=c.interleaved,r!==null){g=r;do b=g.lane,Gt.lanes|=b,ia|=b,g=g.next;while(g!==r)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function ch(r){var o=Ur(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=r;var f=c.dispatch,g=c.pending,b=o.memoizedState;if(g!==null){c.pending=null;var E=g=g.next;do b=r(b,E.action),E=E.next;while(E!==g);Yr(b,o.memoizedState)||(ar=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,f]}function ey(){}function ty(r,o){var c=Gt,f=Ur(),g=o(),b=!Yr(f.memoizedState,g);if(b&&(f.memoizedState=g,ar=!0),f=f.queue,uh(sy.bind(null,c,f,r),[r]),f.getSnapshot!==o||b||xn!==null&&xn.memoizedState.tag&1){if(c.flags|=2048,$l(9,ry.bind(null,c,f,g,o),void 0,null),bn===null)throw Error(n(349));(aa&30)!==0||ny(c,o,g)}return g}function ny(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Gt.updateQueue,o===null?(o={lastEffect:null,stores:null},Gt.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function ry(r,o,c,f){o.value=c,o.getSnapshot=f,oy(o)&&ay(r)}function sy(r,o,c){return c(function(){oy(o)&&ay(r)})}function oy(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!Yr(r,c)}catch{return!0}}function ay(r){var o=Ws(r,1);o!==null&&ts(o,r,1,-1)}function iy(r){var o=Ss();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:r},o.queue=r,r=r.dispatch=n_.bind(null,Gt,r),[o.memoizedState,r]}function $l(r,o,c,f){return r={tag:r,create:o,destroy:c,deps:f,next:null},o=Gt.updateQueue,o===null?(o={lastEffect:null,stores:null},Gt.updateQueue=o,o.lastEffect=r.next=r):(c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r)),r}function ly(){return Ur().memoizedState}function du(r,o,c,f){var g=Ss();Gt.flags|=r,g.memoizedState=$l(1|o,c,void 0,f===void 0?null:f)}function fu(r,o,c,f){var g=Ur();f=f===void 0?null:f;var b=void 0;if(hn!==null){var E=hn.memoizedState;if(b=E.destroy,f!==null&&oh(f,E.deps)){g.memoizedState=$l(o,c,b,f);return}}Gt.flags|=r,g.memoizedState=$l(1|o,c,b,f)}function cy(r,o){return du(8390656,8,r,o)}function uh(r,o){return fu(2048,8,r,o)}function uy(r,o){return fu(4,2,r,o)}function dy(r,o){return fu(4,4,r,o)}function fy(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function hy(r,o,c){return c=c!=null?c.concat([r]):null,fu(4,4,fy.bind(null,o,r),c)}function dh(){}function py(r,o){var c=Ur();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&oh(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function my(r,o){var c=Ur();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&oh(o,f[1])?f[0]:(r=r(),c.memoizedState=[r,o],r)}function gy(r,o,c){return(aa&21)===0?(r.baseState&&(r.baseState=!1,ar=!0),r.memoizedState=c):(Yr(c,o)||(c=Ua(),Gt.lanes|=c,ia|=c,r.baseState=!0),o)}function e_(r,o){var c=Nt;Nt=c!==0&&4>c?c:4,r(!0);var f=sh.transition;sh.transition={};try{r(!1),o()}finally{Nt=c,sh.transition=f}}function yy(){return Ur().memoizedState}function t_(r,o,c){var f=bo(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},vy(r))wy(o,c);else if(c=Qg(r,o,c,f),c!==null){var g=Kn();ts(c,r,f,g),xy(c,o,f)}}function n_(r,o,c){var f=bo(r),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(vy(r))wy(o,g);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var E=o.lastRenderedState,A=b(E,c);if(g.hasEagerState=!0,g.eagerState=A,Yr(A,E)){var F=o.interleaved;F===null?(g.next=g,Jf(o)):(g.next=F.next,F.next=g),o.interleaved=g;return}}catch{}finally{}c=Qg(r,o,g,f),c!==null&&(g=Kn(),ts(c,r,f,g),xy(c,o,f))}}function vy(r){var o=r.alternate;return r===Gt||o!==null&&o===Gt}function wy(r,o){zl=uu=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function xy(r,o,c){if((c&4194240)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,so(r,c)}}var hu={readContext:Fr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},r_={readContext:Fr,useCallback:function(r,o){return Ss().memoizedState=[r,o===void 0?null:o],r},useContext:Fr,useEffect:cy,useImperativeHandle:function(r,o,c){return c=c!=null?c.concat([r]):null,du(4194308,4,fy.bind(null,o,r),c)},useLayoutEffect:function(r,o){return du(4194308,4,r,o)},useInsertionEffect:function(r,o){return du(4,2,r,o)},useMemo:function(r,o){var c=Ss();return o=o===void 0?null:o,r=r(),c.memoizedState=[r,o],r},useReducer:function(r,o,c){var f=Ss();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},f.queue=r,r=r.dispatch=t_.bind(null,Gt,r),[f.memoizedState,r]},useRef:function(r){var o=Ss();return r={current:r},o.memoizedState=r},useState:iy,useDebugValue:dh,useDeferredValue:function(r){return Ss().memoizedState=r},useTransition:function(){var r=iy(!1),o=r[0];return r=e_.bind(null,r[1]),Ss().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,c){var f=Gt,g=Ss();if(Wt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),bn===null)throw Error(n(349));(aa&30)!==0||ny(f,o,c)}g.memoizedState=c;var b={value:c,getSnapshot:o};return g.queue=b,cy(sy.bind(null,f,b,r),[r]),f.flags|=2048,$l(9,ry.bind(null,f,b,c,o),void 0,null),c},useId:function(){var r=Ss(),o=bn.identifierPrefix;if(Wt){var c=Hs,f=Vs;c=(f&~(1<<32-gr(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=Dl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=Zk++,o=":"+o+"r"+c.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},s_={readContext:Fr,useCallback:py,useContext:Fr,useEffect:uh,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:dy,useMemo:my,useReducer:lh,useRef:ly,useState:function(){return lh(Ll)},useDebugValue:dh,useDeferredValue:function(r){var o=Ur();return gy(o,hn.memoizedState,r)},useTransition:function(){var r=lh(Ll)[0],o=Ur().memoizedState;return[r,o]},useMutableSource:ey,useSyncExternalStore:ty,useId:yy,unstable_isNewReconciler:!1},o_={readContext:Fr,useCallback:py,useContext:Fr,useEffect:uh,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:dy,useMemo:my,useReducer:ch,useRef:ly,useState:function(){return ch(Ll)},useDebugValue:dh,useDeferredValue:function(r){var o=Ur();return hn===null?o.memoizedState=r:gy(o,hn.memoizedState,r)},useTransition:function(){var r=ch(Ll)[0],o=Ur().memoizedState;return[r,o]},useMutableSource:ey,useSyncExternalStore:ty,useId:yy,unstable_isNewReconciler:!1};function Jr(r,o){if(r&&r.defaultProps){o=he({},o),r=r.defaultProps;for(var c in r)o[c]===void 0&&(o[c]=r[c]);return o}return o}function fh(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:he({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var pu={isMounted:function(r){return(r=r._reactInternals)?Mt(r)===r:!1},enqueueSetState:function(r,o,c){r=r._reactInternals;var f=Kn(),g=bo(r),b=Ks(f,g);b.payload=o,c!=null&&(b.callback=c),o=yo(r,b,g),o!==null&&(ts(o,r,g,f),au(o,r,g))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=Kn(),g=bo(r),b=Ks(f,g);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=yo(r,b,g),o!==null&&(ts(o,r,g,f),au(o,r,g))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Kn(),f=bo(r),g=Ks(c,f);g.tag=2,o!=null&&(g.callback=o),o=yo(r,g,f),o!==null&&(ts(o,r,f,c),au(o,r,f))}};function by(r,o,c,f,g,b,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,E):o.prototype&&o.prototype.isPureReactComponent?!Cl(c,f)||!Cl(g,b):!0}function Sy(r,o,c){var f=!1,g=po,b=o.contextType;return typeof b=="object"&&b!==null?b=Fr(b):(g=or(o)?ta:On.current,f=o.contextTypes,b=(f=f!=null)?ai(r,g):po),o=new o(c,b),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=pu,r.stateNode=o,o._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=b),o}function ky(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&pu.enqueueReplaceState(o,o.state,null)}function hh(r,o,c,f){var g=r.stateNode;g.props=c,g.state=r.memoizedState,g.refs={},Zf(r);var b=o.contextType;typeof b=="object"&&b!==null?g.context=Fr(b):(b=or(o)?ta:On.current,g.context=ai(r,b)),g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(fh(r,o,b,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&pu.enqueueReplaceState(g,g.state,null),iu(r,c,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function pi(r,o){try{var c="",f=o;do c+=Ce(f),f=f.return;while(f);var g=c}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:o,stack:g,digest:null}}function ph(r,o,c){return{value:r,source:null,stack:c??null,digest:o??null}}function mh(r,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var a_=typeof WeakMap=="function"?WeakMap:Map;function _y(r,o,c){c=Ks(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){bu||(bu=!0,Ph=f),mh(r,o)},c}function Cy(r,o,c){c=Ks(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;c.payload=function(){return f(g)},c.callback=function(){mh(r,o)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){mh(r,o),typeof f!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),c}function Ey(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new a_;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(c)||(g.add(c),r=x_.bind(null,r,o,c),o.then(r,r))}function jy(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Ny(r,o,c,f,g){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ks(-1,1),o.tag=2,yo(c,o,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var i_=T.ReactCurrentOwner,ar=!1;function Wn(r,o,c,f){o.child=r===null?Gg(o,null,c,f):ui(o,r.child,c,f)}function Ty(r,o,c,f,g){c=c.render;var b=o.ref;return fi(o,g),f=ah(r,o,c,f,b,g),c=ih(),r!==null&&!ar?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~g,qs(r,o,g)):(Wt&&c&&Vf(o),o.flags|=1,Wn(r,o,f,g),o.child)}function Py(r,o,c,f,g){if(r===null){var b=c.type;return typeof b=="function"&&!Dh(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=b,Ry(r,o,b,f,g)):(r=ju(c.type,null,f,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(b=r.child,(r.lanes&g)===0){var E=b.memoizedProps;if(c=c.compare,c=c!==null?c:Cl,c(E,f)&&r.ref===o.ref)return qs(r,o,g)}return o.flags|=1,r=ko(b,f),r.ref=o.ref,r.return=o,o.child=r}function Ry(r,o,c,f,g){if(r!==null){var b=r.memoizedProps;if(Cl(b,f)&&r.ref===o.ref)if(ar=!1,o.pendingProps=f=b,(r.lanes&g)!==0)(r.flags&131072)!==0&&(ar=!0);else return o.lanes=r.lanes,qs(r,o,g)}return gh(r,o,c,f,g)}function Ay(r,o,c){var f=o.pendingProps,g=f.children,b=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(gi,Sr),Sr|=c;else{if((c&1073741824)===0)return r=b!==null?b.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,zt(gi,Sr),Sr|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=b!==null?b.baseLanes:c,zt(gi,Sr),Sr|=f}else b!==null?(f=b.baseLanes|c,o.memoizedState=null):f=c,zt(gi,Sr),Sr|=f;return Wn(r,o,g,c),o.child}function Iy(r,o){var c=o.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function gh(r,o,c,f,g){var b=or(c)?ta:On.current;return b=ai(o,b),fi(o,g),c=ah(r,o,c,f,b,g),f=ih(),r!==null&&!ar?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~g,qs(r,o,g)):(Wt&&f&&Vf(o),o.flags|=1,Wn(r,o,c,g),o.child)}function Oy(r,o,c,f,g){if(or(c)){var b=!0;Jc(o)}else b=!1;if(fi(o,g),o.stateNode===null)gu(r,o),Sy(o,c,f),hh(o,c,f,g),f=!0;else if(r===null){var E=o.stateNode,A=o.memoizedProps;E.props=A;var F=E.context,te=c.contextType;typeof te=="object"&&te!==null?te=Fr(te):(te=or(c)?ta:On.current,te=ai(o,te));var we=c.getDerivedStateFromProps,Se=typeof we=="function"||typeof E.getSnapshotBeforeUpdate=="function";Se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==f||F!==te)&&ky(o,E,f,te),go=!1;var ve=o.memoizedState;E.state=ve,iu(o,f,E,g),F=o.memoizedState,A!==f||ve!==F||sr.current||go?(typeof we=="function"&&(fh(o,c,we,f),F=o.memoizedState),(A=go||by(o,c,A,f,ve,F,te))?(Se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),E.props=f,E.state=F,E.context=te,f=A):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,Yg(r,o),A=o.memoizedProps,te=o.type===o.elementType?A:Jr(o.type,A),E.props=te,Se=o.pendingProps,ve=E.context,F=c.contextType,typeof F=="object"&&F!==null?F=Fr(F):(F=or(c)?ta:On.current,F=ai(o,F));var Be=c.getDerivedStateFromProps;(we=typeof Be=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==Se||ve!==F)&&ky(o,E,f,F),go=!1,ve=o.memoizedState,E.state=ve,iu(o,f,E,g);var qe=o.memoizedState;A!==Se||ve!==qe||sr.current||go?(typeof Be=="function"&&(fh(o,c,Be,f),qe=o.memoizedState),(te=go||by(o,c,te,f,ve,qe,F)||!1)?(we||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,qe,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,qe,F)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=qe),E.props=f,E.state=qe,E.context=F,f=te):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),f=!1)}return yh(r,o,c,f,b,g)}function yh(r,o,c,f,g,b){Iy(r,o);var E=(o.flags&128)!==0;if(!f&&!E)return g&&$g(o,c,!1),qs(r,o,b);f=o.stateNode,i_.current=o;var A=E&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,r!==null&&E?(o.child=ui(o,r.child,null,b),o.child=ui(o,null,A,b)):Wn(r,o,A,b),o.memoizedState=f.state,g&&$g(o,c,!0),o.child}function My(r){var o=r.stateNode;o.pendingContext?Dg(r,o.pendingContext,o.pendingContext!==o.context):o.context&&Dg(r,o.context,!1),eh(r,o.containerInfo)}function zy(r,o,c,f,g){return ci(),qf(g),o.flags|=256,Wn(r,o,c,f),o.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function wh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Dy(r,o,c){var f=o.pendingProps,g=qt.current,b=!1,E=(o.flags&128)!==0,A;if((A=E)||(A=r!==null&&r.memoizedState===null?!1:(g&2)!==0),A?(b=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),zt(qt,g&1),r===null)return Kf(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=f.children,r=f.fallback,b?(f=o.mode,b=o.child,E={mode:"hidden",children:E},(f&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=E):b=Nu(E,f,0,null),r=da(r,f,c,null),b.return=o,r.return=o,b.sibling=r,o.child=b,o.child.memoizedState=wh(c),o.memoizedState=vh,r):xh(o,E));if(g=r.memoizedState,g!==null&&(A=g.dehydrated,A!==null))return l_(r,o,E,f,A,g,c);if(b){b=f.fallback,E=o.mode,g=r.child,A=g.sibling;var F={mode:"hidden",children:f.children};return(E&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=ko(g,F),f.subtreeFlags=g.subtreeFlags&14680064),A!==null?b=ko(A,b):(b=da(b,E,c,null),b.flags|=2),b.return=o,f.return=o,f.sibling=b,o.child=f,f=b,b=o.child,E=r.child.memoizedState,E=E===null?wh(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},b.memoizedState=E,b.childLanes=r.childLanes&~c,o.memoizedState=vh,f}return b=r.child,r=b.sibling,f=ko(b,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,r!==null&&(c=o.deletions,c===null?(o.deletions=[r],o.flags|=16):c.push(r)),o.child=f,o.memoizedState=null,f}function xh(r,o){return o=Nu({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function mu(r,o,c,f){return f!==null&&qf(f),ui(o,r.child,null,c),r=xh(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function l_(r,o,c,f,g,b,E){if(c)return o.flags&256?(o.flags&=-257,f=ph(Error(n(422))),mu(r,o,E,f)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(b=f.fallback,g=o.mode,f=Nu({mode:"visible",children:f.children},g,0,null),b=da(b,g,E,null),b.flags|=2,f.return=o,b.return=o,f.sibling=b,o.child=f,(o.mode&1)!==0&&ui(o,r.child,null,E),o.child.memoizedState=wh(E),o.memoizedState=vh,b);if((o.mode&1)===0)return mu(r,o,E,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var A=f.dgst;return f=A,b=Error(n(419)),f=ph(b,f,void 0),mu(r,o,E,f)}if(A=(E&r.childLanes)!==0,ar||A){if(f=bn,f!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|E))!==0?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,Ws(r,g),ts(f,r,g,-1))}return zh(),f=ph(Error(n(421))),mu(r,o,E,f)}return g.data==="$?"?(o.flags|=128,o.child=r.child,o=b_.bind(null,r),g._reactRetry=o,null):(r=b.treeContext,br=fo(g.nextSibling),xr=o,Wt=!0,Xr=null,r!==null&&(Lr[$r++]=Vs,Lr[$r++]=Hs,Lr[$r++]=na,Vs=r.id,Hs=r.overflow,na=o),o=xh(o,f.children),o.flags|=4096,o)}function Ly(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),Xf(r.return,o,c)}function bh(r,o,c,f,g){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=c,b.tailMode=g)}function $y(r,o,c){var f=o.pendingProps,g=f.revealOrder,b=f.tail;if(Wn(r,o,f.children,c),f=qt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ly(r,c,o);else if(r.tag===19)Ly(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(zt(qt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)r=c.alternate,r!==null&&lu(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),bh(o,!1,g,c,b);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&lu(r)===null){o.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}bh(o,!0,c,null,b);break;case"together":bh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function gu(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function qs(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),ia|=o.lanes,(c&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,c=ko(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=ko(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function c_(r,o,c){switch(o.tag){case 3:My(o),ci();break;case 5:Zg(o);break;case 1:or(o.type)&&Jc(o);break;case 4:eh(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;zt(su,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(zt(qt,qt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Dy(r,o,c):(zt(qt,qt.current&1),r=qs(r,o,c),r!==null?r.sibling:null);zt(qt,qt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(r.flags&128)!==0){if(f)return $y(r,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),zt(qt,qt.current),f)break;return null;case 22:case 23:return o.lanes=0,Ay(r,o,c)}return qs(r,o,c)}var Fy,Sh,Uy,By;Fy=function(r,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Sh=function(){},Uy=function(r,o,c,f){var g=r.memoizedProps;if(g!==f){r=o.stateNode,oa(bs.current);var b=null;switch(c){case"input":g=$e(r,g),f=$e(r,f),b=[];break;case"select":g=he({},g,{value:void 0}),f=he({},f,{value:void 0}),b=[];break;case"textarea":g=ue(r,g),f=ue(r,f),b=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Qc)}et(c,f);var E;c=null;for(te in g)if(!f.hasOwnProperty(te)&&g.hasOwnProperty(te)&&g[te]!=null)if(te==="style"){var A=g[te];for(E in A)A.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(a.hasOwnProperty(te)?b||(b=[]):(b=b||[]).push(te,null));for(te in f){var F=f[te];if(A=g!=null?g[te]:void 0,f.hasOwnProperty(te)&&F!==A&&(F!=null||A!=null))if(te==="style")if(A){for(E in A)!A.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in F)F.hasOwnProperty(E)&&A[E]!==F[E]&&(c||(c={}),c[E]=F[E])}else c||(b||(b=[]),b.push(te,c)),c=F;else te==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,A=A?A.__html:void 0,F!=null&&A!==F&&(b=b||[]).push(te,F)):te==="children"?typeof F!="string"&&typeof F!="number"||(b=b||[]).push(te,""+F):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(a.hasOwnProperty(te)?(F!=null&&te==="onScroll"&&Ft("scroll",r),b||A===F||(b=[])):(b=b||[]).push(te,F))}c&&(b=b||[]).push("style",c);var te=b;(o.updateQueue=te)&&(o.flags|=4)}},By=function(r,o,c,f){c!==f&&(o.flags|=4)};function Fl(r,o){if(!Wt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function zn(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function u_(r,o,c){var f=o.pendingProps;switch(Hf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(o),null;case 1:return or(o.type)&&Xc(),zn(o),null;case 3:return f=o.stateNode,hi(),Ut(sr),Ut(On),rh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(nu(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xr!==null&&(Ih(Xr),Xr=null))),Sh(r,o),zn(o),null;case 5:th(o);var g=oa(Ml.current);if(c=o.type,r!==null&&o.stateNode!=null)Uy(r,o,c,f,g),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return zn(o),null}if(r=oa(bs.current),nu(o)){f=o.stateNode,c=o.type;var b=o.memoizedProps;switch(f[xs]=o,f[Pl]=b,r=(o.mode&1)!==0,c){case"dialog":Ft("cancel",f),Ft("close",f);break;case"iframe":case"object":case"embed":Ft("load",f);break;case"video":case"audio":for(g=0;g<jl.length;g++)Ft(jl[g],f);break;case"source":Ft("error",f);break;case"img":case"image":case"link":Ft("error",f),Ft("load",f);break;case"details":Ft("toggle",f);break;case"input":Lt(f,b),Ft("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!b.multiple},Ft("invalid",f);break;case"textarea":je(f,b),Ft("invalid",f)}et(c,b),g=null;for(var E in b)if(b.hasOwnProperty(E)){var A=b[E];E==="children"?typeof A=="string"?f.textContent!==A&&(b.suppressHydrationWarning!==!0&&Gc(f.textContent,A,r),g=["children",A]):typeof A=="number"&&f.textContent!==""+A&&(b.suppressHydrationWarning!==!0&&Gc(f.textContent,A,r),g=["children",""+A]):a.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Ft("scroll",f)}switch(c){case"input":Ke(f),Ot(f,b,!0);break;case"textarea":Ke(f),ie(f);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(f.onclick=Qc)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ye(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=E.createElement(c,{is:f.is}):(r=E.createElement(c),c==="select"&&(E=r,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):r=E.createElementNS(r,c),r[xs]=o,r[Pl]=f,Fy(r,o,!1,!1),o.stateNode=r;e:{switch(E=At(c,f),c){case"dialog":Ft("cancel",r),Ft("close",r),g=f;break;case"iframe":case"object":case"embed":Ft("load",r),g=f;break;case"video":case"audio":for(g=0;g<jl.length;g++)Ft(jl[g],r);g=f;break;case"source":Ft("error",r),g=f;break;case"img":case"image":case"link":Ft("error",r),Ft("load",r),g=f;break;case"details":Ft("toggle",r),g=f;break;case"input":Lt(r,f),g=$e(r,f),Ft("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=he({},f,{value:void 0}),Ft("invalid",r);break;case"textarea":je(r,f),g=ue(r,f),Ft("invalid",r);break;default:g=f}et(c,g),A=g;for(b in A)if(A.hasOwnProperty(b)){var F=A[b];b==="style"?Fn(r,F):b==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ct(r,F)):b==="children"?typeof F=="string"?(c!=="textarea"||F!=="")&&Qe(r,F):typeof F=="number"&&Qe(r,""+F):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?F!=null&&b==="onScroll"&&Ft("scroll",r):F!=null&&j(r,b,F,E))}switch(c){case"input":Ke(r),Ot(r,f,!1);break;case"textarea":Ke(r),ie(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Pe(f.value));break;case"select":r.multiple=!!f.multiple,b=f.value,b!=null?B(r,!!f.multiple,b,!1):f.defaultValue!=null&&B(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Qc)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return zn(o),null;case 6:if(r&&o.stateNode!=null)By(r,o,r.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=oa(Ml.current),oa(bs.current),nu(o)){if(f=o.stateNode,c=o.memoizedProps,f[xs]=o,(b=f.nodeValue!==c)&&(r=xr,r!==null))switch(r.tag){case 3:Gc(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Gc(f.nodeValue,c,(r.mode&1)!==0)}b&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[xs]=o,o.stateNode=f}return zn(o),null;case 13:if(Ut(qt),f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Wt&&br!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Wg(),ci(),o.flags|=98560,b=!1;else if(b=nu(o),f!==null&&f.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[xs]=o}else ci(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zn(o),b=!1}else Xr!==null&&(Ih(Xr),Xr=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(qt.current&1)!==0?pn===0&&(pn=3):zh())),o.updateQueue!==null&&(o.flags|=4),zn(o),null);case 4:return hi(),Sh(r,o),r===null&&Nl(o.stateNode.containerInfo),zn(o),null;case 10:return Yf(o.type._context),zn(o),null;case 17:return or(o.type)&&Xc(),zn(o),null;case 19:if(Ut(qt),b=o.memoizedState,b===null)return zn(o),null;if(f=(o.flags&128)!==0,E=b.rendering,E===null)if(f)Fl(b,!1);else{if(pn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(E=lu(r),E!==null){for(o.flags|=128,Fl(b,!1),f=E.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)b=c,r=f,b.flags&=14680066,E=b.alternate,E===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=E.childLanes,b.lanes=E.lanes,b.child=E.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=E.memoizedProps,b.memoizedState=E.memoizedState,b.updateQueue=E.updateQueue,b.type=E.type,r=E.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return zt(qt,qt.current&1|2),o.child}r=r.sibling}b.tail!==null&&Ht()>yi&&(o.flags|=128,f=!0,Fl(b,!1),o.lanes=4194304)}else{if(!f)if(r=lu(E),r!==null){if(o.flags|=128,f=!0,c=r.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Fl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!E.alternate&&!Wt)return zn(o),null}else 2*Ht()-b.renderingStartTime>yi&&c!==1073741824&&(o.flags|=128,f=!0,Fl(b,!1),o.lanes=4194304);b.isBackwards?(E.sibling=o.child,o.child=E):(c=b.last,c!==null?c.sibling=E:o.child=E,b.last=E)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Ht(),o.sibling=null,c=qt.current,zt(qt,f?c&1|2:c&1),o):(zn(o),null);case 22:case 23:return Mh(),f=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Sr&1073741824)!==0&&(zn(o),o.subtreeFlags&6&&(o.flags|=8192)):zn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function d_(r,o){switch(Hf(o),o.tag){case 1:return or(o.type)&&Xc(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return hi(),Ut(sr),Ut(On),rh(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return th(o),null;case 13:if(Ut(qt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ci()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Ut(qt),null;case 4:return hi(),null;case 10:return Yf(o.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var yu=!1,Dn=!1,f_=typeof WeakSet=="function"?WeakSet:Set,He=null;function mi(r,o){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Jt(r,o,f)}else c.current=null}function kh(r,o,c){try{c()}catch(f){Jt(r,o,f)}}var Vy=!1;function h_(r,o){if(Mf=rr,r=bg(),jf(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var E=0,A=-1,F=-1,te=0,we=0,Se=r,ve=null;t:for(;;){for(var Be;Se!==c||g!==0&&Se.nodeType!==3||(A=E+g),Se!==b||f!==0&&Se.nodeType!==3||(F=E+f),Se.nodeType===3&&(E+=Se.nodeValue.length),(Be=Se.firstChild)!==null;)ve=Se,Se=Be;for(;;){if(Se===r)break t;if(ve===c&&++te===g&&(A=E),ve===b&&++we===f&&(F=E),(Be=Se.nextSibling)!==null)break;Se=ve,ve=Se.parentNode}Se=Be}c=A===-1||F===-1?null:{start:A,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(zf={focusedElem:r,selectionRange:c},rr=!1,He=o;He!==null;)if(o=He,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,He=r;else for(;He!==null;){o=He;try{var qe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var Ge=qe.memoizedProps,rn=qe.memoizedState,Y=o.stateNode,V=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Ge:Jr(o.type,Ge),rn);Y.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ne){Jt(o,o.return,Ne)}if(r=o.sibling,r!==null){r.return=o.return,He=r;break}He=o.return}return qe=Vy,Vy=!1,qe}function Ul(r,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var b=g.destroy;g.destroy=void 0,b!==void 0&&kh(o,c,b)}g=g.next}while(g!==f)}}function vu(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function _h(r){var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof o=="function"?o(r):o.current=r}}function Hy(r){var o=r.alternate;o!==null&&(r.alternate=null,Hy(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[xs],delete o[Pl],delete o[Ff],delete o[Qk],delete o[Yk])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wy(r){return r.tag===5||r.tag===3||r.tag===4}function Ky(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ch(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(r,o):c.insertBefore(r,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(r,c)):(o=c,o.appendChild(r)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Qc));else if(f!==4&&(r=r.child,r!==null))for(Ch(r,o,c),r=r.sibling;r!==null;)Ch(r,o,c),r=r.sibling}function Eh(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Eh(r,o,c),r=r.sibling;r!==null;)Eh(r,o,c),r=r.sibling}var jn=null,Zr=!1;function vo(r,o,c){for(c=c.child;c!==null;)qy(r,o,c),c=c.sibling}function qy(r,o,c){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(La,c)}catch{}switch(c.tag){case 5:Dn||mi(c,o);case 6:var f=jn,g=Zr;jn=null,vo(r,o,c),jn=f,Zr=g,jn!==null&&(Zr?(r=jn,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):jn.removeChild(c.stateNode));break;case 18:jn!==null&&(Zr?(r=jn,c=c.stateNode,r.nodeType===8?$f(r.parentNode,c):r.nodeType===1&&$f(r,c),ao(r)):$f(jn,c.stateNode));break;case 4:f=jn,g=Zr,jn=c.stateNode.containerInfo,Zr=!0,vo(r,o,c),jn=f,Zr=g;break;case 0:case 11:case 14:case 15:if(!Dn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var b=g,E=b.destroy;b=b.tag,E!==void 0&&((b&2)!==0||(b&4)!==0)&&kh(c,o,E),g=g.next}while(g!==f)}vo(r,o,c);break;case 1:if(!Dn&&(mi(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(A){Jt(c,o,A)}vo(r,o,c);break;case 21:vo(r,o,c);break;case 22:c.mode&1?(Dn=(f=Dn)||c.memoizedState!==null,vo(r,o,c),Dn=f):vo(r,o,c);break;default:vo(r,o,c)}}function Gy(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new f_),o.forEach(function(f){var g=S_.bind(null,r,f);c.has(f)||(c.add(f),f.then(g,g))})}}function es(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var b=r,E=o,A=E;e:for(;A!==null;){switch(A.tag){case 5:jn=A.stateNode,Zr=!1;break e;case 3:jn=A.stateNode.containerInfo,Zr=!0;break e;case 4:jn=A.stateNode.containerInfo,Zr=!0;break e}A=A.return}if(jn===null)throw Error(n(160));qy(b,E,g),jn=null,Zr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(te){Jt(g,o,te)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qy(o,r),o=o.sibling}function Qy(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(es(o,r),ks(r),f&4){try{Ul(3,r,r.return),vu(3,r)}catch(Ge){Jt(r,r.return,Ge)}try{Ul(5,r,r.return)}catch(Ge){Jt(r,r.return,Ge)}}break;case 1:es(o,r),ks(r),f&512&&c!==null&&mi(c,c.return);break;case 5:if(es(o,r),ks(r),f&512&&c!==null&&mi(c,c.return),r.flags&32){var g=r.stateNode;try{Qe(g,"")}catch(Ge){Jt(r,r.return,Ge)}}if(f&4&&(g=r.stateNode,g!=null)){var b=r.memoizedProps,E=c!==null?c.memoizedProps:b,A=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{A==="input"&&b.type==="radio"&&b.name!=null&&Vt(g,b),At(A,E);var te=At(A,b);for(E=0;E<F.length;E+=2){var we=F[E],Se=F[E+1];we==="style"?Fn(g,Se):we==="dangerouslySetInnerHTML"?Ct(g,Se):we==="children"?Qe(g,Se):j(g,we,Se,te)}switch(A){case"input":Kt(g,b);break;case"textarea":W(g,b);break;case"select":var ve=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var Be=b.value;Be!=null?B(g,!!b.multiple,Be,!1):ve!==!!b.multiple&&(b.defaultValue!=null?B(g,!!b.multiple,b.defaultValue,!0):B(g,!!b.multiple,b.multiple?[]:"",!1))}g[Pl]=b}catch(Ge){Jt(r,r.return,Ge)}}break;case 6:if(es(o,r),ks(r),f&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,b=r.memoizedProps;try{g.nodeValue=b}catch(Ge){Jt(r,r.return,Ge)}}break;case 3:if(es(o,r),ks(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{ao(o.containerInfo)}catch(Ge){Jt(r,r.return,Ge)}break;case 4:es(o,r),ks(r);break;case 13:es(o,r),ks(r),g=r.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(Th=Ht())),f&4&&Gy(r);break;case 22:if(we=c!==null&&c.memoizedState!==null,r.mode&1?(Dn=(te=Dn)||we,es(o,r),Dn=te):es(o,r),ks(r),f&8192){if(te=r.memoizedState!==null,(r.stateNode.isHidden=te)&&!we&&(r.mode&1)!==0)for(He=r,we=r.child;we!==null;){for(Se=He=we;He!==null;){switch(ve=He,Be=ve.child,ve.tag){case 0:case 11:case 14:case 15:Ul(4,ve,ve.return);break;case 1:mi(ve,ve.return);var qe=ve.stateNode;if(typeof qe.componentWillUnmount=="function"){f=ve,c=ve.return;try{o=f,qe.props=o.memoizedProps,qe.state=o.memoizedState,qe.componentWillUnmount()}catch(Ge){Jt(f,c,Ge)}}break;case 5:mi(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Jy(Se);continue}}Be!==null?(Be.return=ve,He=Be):Jy(Se)}we=we.sibling}e:for(we=null,Se=r;;){if(Se.tag===5){if(we===null){we=Se;try{g=Se.stateNode,te?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(A=Se.stateNode,F=Se.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,A.style.display=tn("display",E))}catch(Ge){Jt(r,r.return,Ge)}}}else if(Se.tag===6){if(we===null)try{Se.stateNode.nodeValue=te?"":Se.memoizedProps}catch(Ge){Jt(r,r.return,Ge)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===r)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===r)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===r)break e;we===Se&&(we=null),Se=Se.return}we===Se&&(we=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:es(o,r),ks(r),f&4&&Gy(r);break;case 21:break;default:es(o,r),ks(r)}}function ks(r){var o=r.flags;if(o&2){try{e:{for(var c=r.return;c!==null;){if(Wy(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Qe(g,""),f.flags&=-33);var b=Ky(r);Eh(r,b,g);break;case 3:case 4:var E=f.stateNode.containerInfo,A=Ky(r);Ch(r,A,E);break;default:throw Error(n(161))}}catch(F){Jt(r,r.return,F)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function p_(r,o,c){He=r,Yy(r)}function Yy(r,o,c){for(var f=(r.mode&1)!==0;He!==null;){var g=He,b=g.child;if(g.tag===22&&f){var E=g.memoizedState!==null||yu;if(!E){var A=g.alternate,F=A!==null&&A.memoizedState!==null||Dn;A=yu;var te=Dn;if(yu=E,(Dn=F)&&!te)for(He=g;He!==null;)E=He,F=E.child,E.tag===22&&E.memoizedState!==null?Zy(g):F!==null?(F.return=E,He=F):Zy(g);for(;b!==null;)He=b,Yy(b),b=b.sibling;He=g,yu=A,Dn=te}Xy(r)}else(g.subtreeFlags&8772)!==0&&b!==null?(b.return=g,He=b):Xy(r)}}function Xy(r){for(;He!==null;){var o=He;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Dn||vu(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Dn)if(c===null)f.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:Jr(o.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&Jg(o,b,f);break;case 3:var E=o.updateQueue;if(E!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Jg(o,E,c)}break;case 5:var A=o.stateNode;if(c===null&&o.flags&4){c=A;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&c.focus();break;case"img":F.src&&(c.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var te=o.alternate;if(te!==null){var we=te.memoizedState;if(we!==null){var Se=we.dehydrated;Se!==null&&ao(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||o.flags&512&&_h(o)}catch(ve){Jt(o,o.return,ve)}}if(o===r){He=null;break}if(c=o.sibling,c!==null){c.return=o.return,He=c;break}He=o.return}}function Jy(r){for(;He!==null;){var o=He;if(o===r){He=null;break}var c=o.sibling;if(c!==null){c.return=o.return,He=c;break}He=o.return}}function Zy(r){for(;He!==null;){var o=He;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{vu(4,o)}catch(F){Jt(o,c,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(F){Jt(o,g,F)}}var b=o.return;try{_h(o)}catch(F){Jt(o,b,F)}break;case 5:var E=o.return;try{_h(o)}catch(F){Jt(o,E,F)}}}catch(F){Jt(o,o.return,F)}if(o===r){He=null;break}var A=o.sibling;if(A!==null){A.return=o.return,He=A;break}He=o.return}}var m_=Math.ceil,wu=T.ReactCurrentDispatcher,jh=T.ReactCurrentOwner,Br=T.ReactCurrentBatchConfig,jt=0,bn=null,ln=null,Nn=0,Sr=0,gi=ho(0),pn=0,Bl=null,ia=0,xu=0,Nh=0,Vl=null,ir=null,Th=0,yi=1/0,Gs=null,bu=!1,Ph=null,wo=null,Su=!1,xo=null,ku=0,Hl=0,Rh=null,_u=-1,Cu=0;function Kn(){return(jt&6)!==0?Ht():_u!==-1?_u:_u=Ht()}function bo(r){return(r.mode&1)===0?1:(jt&2)!==0&&Nn!==0?Nn&-Nn:Jk.transition!==null?(Cu===0&&(Cu=Ua()),Cu):(r=Nt,r!==0||(r=window.event,r=r===void 0?16:Mc(r.type)),r)}function ts(r,o,c,f){if(50<Hl)throw Hl=0,Rh=null,Error(n(185));qo(r,c,f),((jt&2)===0||r!==bn)&&(r===bn&&((jt&2)===0&&(xu|=c),pn===4&&So(r,Nn)),lr(r,f),c===1&&jt===0&&(o.mode&1)===0&&(yi=Ht()+500,Zc&&mo()))}function lr(r,o){var c=r.callbackNode;Qr(r,o);var f=ro(r,r===bn?Nn:0);if(f===0)c!==null&&fn(c),r.callbackNode=null,r.callbackPriority=0;else if(o=f&-f,r.callbackPriority!==o){if(c!=null&&fn(c),o===1)r.tag===0?Xk(tv.bind(null,r)):Fg(tv.bind(null,r)),qk(function(){(jt&6)===0&&mo()}),c=null;else{switch(pl(f)){case 1:c=Ko;break;case 4:c=fl;break;case 16:c=Da;break;case 536870912:c=hl;break;default:c=Da}c=cv(c,ev.bind(null,r))}r.callbackPriority=o,r.callbackNode=c}}function ev(r,o){if(_u=-1,Cu=0,(jt&6)!==0)throw Error(n(327));var c=r.callbackNode;if(vi()&&r.callbackNode!==c)return null;var f=ro(r,r===bn?Nn:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||o)o=Eu(r,f);else{o=f;var g=jt;jt|=2;var b=rv();(bn!==r||Nn!==o)&&(Gs=null,yi=Ht()+500,ca(r,o));do try{v_();break}catch(A){nv(r,A)}while(!0);Qf(),wu.current=b,jt=g,ln!==null?o=0:(bn=null,Nn=0,o=pn)}if(o!==0){if(o===2&&(g=Fa(r),g!==0&&(f=g,o=Ah(r,g))),o===1)throw c=Bl,ca(r,0),So(r,f),lr(r,Ht()),c;if(o===6)So(r,f);else{if(g=r.current.alternate,(f&30)===0&&!g_(g)&&(o=Eu(r,f),o===2&&(b=Fa(r),b!==0&&(f=b,o=Ah(r,b))),o===1))throw c=Bl,ca(r,0),So(r,f),lr(r,Ht()),c;switch(r.finishedWork=g,r.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ua(r,ir,Gs);break;case 3:if(So(r,f),(f&130023424)===f&&(o=Th+500-Ht(),10<o)){if(ro(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){Kn(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=Lf(ua.bind(null,r,ir,Gs),o);break}ua(r,ir,Gs);break;case 4:if(So(r,f),(f&4194240)===f)break;for(o=r.eventTimes,g=-1;0<f;){var E=31-gr(f);b=1<<E,E=o[E],E>g&&(g=E),f&=~b}if(f=g,f=Ht()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*m_(f/1960))-f,10<f){r.timeoutHandle=Lf(ua.bind(null,r,ir,Gs),f);break}ua(r,ir,Gs);break;case 5:ua(r,ir,Gs);break;default:throw Error(n(329))}}}return lr(r,Ht()),r.callbackNode===c?ev.bind(null,r):null}function Ah(r,o){var c=Vl;return r.current.memoizedState.isDehydrated&&(ca(r,o).flags|=256),r=Eu(r,o),r!==2&&(o=ir,ir=c,o!==null&&Ih(o)),r}function Ih(r){ir===null?ir=r:ir.push.apply(ir,r)}function g_(r){for(var o=r;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],b=g.getSnapshot;g=g.value;try{if(!Yr(b(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function So(r,o){for(o&=~Nh,o&=~xu,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var c=31-gr(o),f=1<<c;r[c]=-1,o&=~f}}function tv(r){if((jt&6)!==0)throw Error(n(327));vi();var o=ro(r,0);if((o&1)===0)return lr(r,Ht()),null;var c=Eu(r,o);if(r.tag!==0&&c===2){var f=Fa(r);f!==0&&(o=f,c=Ah(r,f))}if(c===1)throw c=Bl,ca(r,0),So(r,o),lr(r,Ht()),c;if(c===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,ua(r,ir,Gs),lr(r,Ht()),null}function Oh(r,o){var c=jt;jt|=1;try{return r(o)}finally{jt=c,jt===0&&(yi=Ht()+500,Zc&&mo())}}function la(r){xo!==null&&xo.tag===0&&(jt&6)===0&&vi();var o=jt;jt|=1;var c=Br.transition,f=Nt;try{if(Br.transition=null,Nt=1,r)return r()}finally{Nt=f,Br.transition=c,jt=o,(jt&6)===0&&mo()}}function Mh(){Sr=gi.current,Ut(gi)}function ca(r,o){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Kk(c)),ln!==null)for(c=ln.return;c!==null;){var f=c;switch(Hf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Xc();break;case 3:hi(),Ut(sr),Ut(On),rh();break;case 5:th(f);break;case 4:hi();break;case 13:Ut(qt);break;case 19:Ut(qt);break;case 10:Yf(f.type._context);break;case 22:case 23:Mh()}c=c.return}if(bn=r,ln=r=ko(r.current,null),Nn=Sr=o,pn=0,Bl=null,Nh=xu=ia=0,ir=Vl=null,sa!==null){for(o=0;o<sa.length;o++)if(c=sa[o],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,b=c.pending;if(b!==null){var E=b.next;b.next=g,f.next=E}c.pending=f}sa=null}return r}function nv(r,o){do{var c=ln;try{if(Qf(),cu.current=hu,uu){for(var f=Gt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}uu=!1}if(aa=0,xn=hn=Gt=null,zl=!1,Dl=0,jh.current=null,c===null||c.return===null){pn=1,Bl=o,ln=null;break}e:{var b=r,E=c.return,A=c,F=o;if(o=Nn,A.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var te=F,we=A,Se=we.tag;if((we.mode&1)===0&&(Se===0||Se===11||Se===15)){var ve=we.alternate;ve?(we.updateQueue=ve.updateQueue,we.memoizedState=ve.memoizedState,we.lanes=ve.lanes):(we.updateQueue=null,we.memoizedState=null)}var Be=jy(E);if(Be!==null){Be.flags&=-257,Ny(Be,E,A,b,o),Be.mode&1&&Ey(b,te,o),o=Be,F=te;var qe=o.updateQueue;if(qe===null){var Ge=new Set;Ge.add(F),o.updateQueue=Ge}else qe.add(F);break e}else{if((o&1)===0){Ey(b,te,o),zh();break e}F=Error(n(426))}}else if(Wt&&A.mode&1){var rn=jy(E);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),Ny(rn,E,A,b,o),qf(pi(F,A));break e}}b=F=pi(F,A),pn!==4&&(pn=2),Vl===null?Vl=[b]:Vl.push(b),b=E;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var Y=_y(b,F,o);Xg(b,Y);break e;case 1:A=F;var V=b.type,J=b.stateNode;if((b.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(wo===null||!wo.has(J)))){b.flags|=65536,o&=-o,b.lanes|=o;var Ne=Cy(b,A,o);Xg(b,Ne);break e}}b=b.return}while(b!==null)}ov(c)}catch(Ye){o=Ye,ln===c&&c!==null&&(ln=c=c.return);continue}break}while(!0)}function rv(){var r=wu.current;return wu.current=hu,r===null?hu:r}function zh(){(pn===0||pn===3||pn===2)&&(pn=4),bn===null||(ia&268435455)===0&&(xu&268435455)===0||So(bn,Nn)}function Eu(r,o){var c=jt;jt|=2;var f=rv();(bn!==r||Nn!==o)&&(Gs=null,ca(r,o));do try{y_();break}catch(g){nv(r,g)}while(!0);if(Qf(),jt=c,wu.current=f,ln!==null)throw Error(n(261));return bn=null,Nn=0,pn}function y_(){for(;ln!==null;)sv(ln)}function v_(){for(;ln!==null&&!mg();)sv(ln)}function sv(r){var o=lv(r.alternate,r,Sr);r.memoizedProps=r.pendingProps,o===null?ov(r):ln=o,jh.current=null}function ov(r){var o=r;do{var c=o.alternate;if(r=o.return,(o.flags&32768)===0){if(c=u_(c,o,Sr),c!==null){ln=c;return}}else{if(c=d_(c,o),c!==null){c.flags&=32767,ln=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{pn=6,ln=null;return}}if(o=o.sibling,o!==null){ln=o;return}ln=o=r}while(o!==null);pn===0&&(pn=5)}function ua(r,o,c){var f=Nt,g=Br.transition;try{Br.transition=null,Nt=1,w_(r,o,c,f)}finally{Br.transition=g,Nt=f}return null}function w_(r,o,c,f){do vi();while(xo!==null);if((jt&6)!==0)throw Error(n(327));c=r.finishedWork;var g=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=c.lanes|c.childLanes;if(Ba(r,b),r===bn&&(ln=bn=null,Nn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Su||(Su=!0,cv(Da,function(){return vi(),null})),b=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||b){b=Br.transition,Br.transition=null;var E=Nt;Nt=1;var A=jt;jt|=4,jh.current=null,h_(r,c),Qy(c,r),$k(zf),rr=!!Mf,zf=Mf=null,r.current=c,p_(c),za(),jt=A,Nt=E,Br.transition=b}else r.current=c;if(Su&&(Su=!1,xo=r,ku=g),b=r.pendingLanes,b===0&&(wo=null),lf(c.stateNode),lr(r,Ht()),o!==null)for(f=r.onRecoverableError,c=0;c<o.length;c++)g=o[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(bu)throw bu=!1,r=Ph,Ph=null,r;return(ku&1)!==0&&r.tag!==0&&vi(),b=r.pendingLanes,(b&1)!==0?r===Rh?Hl++:(Hl=0,Rh=r):Hl=0,mo(),null}function vi(){if(xo!==null){var r=pl(ku),o=Br.transition,c=Nt;try{if(Br.transition=null,Nt=16>r?16:r,xo===null)var f=!1;else{if(r=xo,xo=null,ku=0,(jt&6)!==0)throw Error(n(331));var g=jt;for(jt|=4,He=r.current;He!==null;){var b=He,E=b.child;if((He.flags&16)!==0){var A=b.deletions;if(A!==null){for(var F=0;F<A.length;F++){var te=A[F];for(He=te;He!==null;){var we=He;switch(we.tag){case 0:case 11:case 15:Ul(8,we,b)}var Se=we.child;if(Se!==null)Se.return=we,He=Se;else for(;He!==null;){we=He;var ve=we.sibling,Be=we.return;if(Hy(we),we===te){He=null;break}if(ve!==null){ve.return=Be,He=ve;break}He=Be}}}var qe=b.alternate;if(qe!==null){var Ge=qe.child;if(Ge!==null){qe.child=null;do{var rn=Ge.sibling;Ge.sibling=null,Ge=rn}while(Ge!==null)}}He=b}}if((b.subtreeFlags&2064)!==0&&E!==null)E.return=b,He=E;else e:for(;He!==null;){if(b=He,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Ul(9,b,b.return)}var Y=b.sibling;if(Y!==null){Y.return=b.return,He=Y;break e}He=b.return}}var V=r.current;for(He=V;He!==null;){E=He;var J=E.child;if((E.subtreeFlags&2064)!==0&&J!==null)J.return=E,He=J;else e:for(E=V;He!==null;){if(A=He,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:vu(9,A)}}catch(Ye){Jt(A,A.return,Ye)}if(A===E){He=null;break e}var Ne=A.sibling;if(Ne!==null){Ne.return=A.return,He=Ne;break e}He=A.return}}if(jt=g,mo(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(La,r)}catch{}f=!0}return f}finally{Nt=c,Br.transition=o}}return!1}function av(r,o,c){o=pi(c,o),o=_y(r,o,1),r=yo(r,o,1),o=Kn(),r!==null&&(qo(r,1,o),lr(r,o))}function Jt(r,o,c){if(r.tag===3)av(r,r,c);else for(;o!==null;){if(o.tag===3){av(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(wo===null||!wo.has(f))){r=pi(c,r),r=Cy(o,r,1),o=yo(o,r,1),r=Kn(),o!==null&&(qo(o,1,r),lr(o,r));break}}o=o.return}}function x_(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),o=Kn(),r.pingedLanes|=r.suspendedLanes&c,bn===r&&(Nn&c)===c&&(pn===4||pn===3&&(Nn&130023424)===Nn&&500>Ht()-Th?ca(r,0):Nh|=c),lr(r,o)}function iv(r,o){o===0&&((r.mode&1)===0?o=1:(o=Cn,Cn<<=1,(Cn&130023424)===0&&(Cn=4194304)));var c=Kn();r=Ws(r,o),r!==null&&(qo(r,o,c),lr(r,c))}function b_(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),iv(r,c)}function S_(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),iv(r,c)}var lv;lv=function(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps||sr.current)ar=!0;else{if((r.lanes&c)===0&&(o.flags&128)===0)return ar=!1,c_(r,o,c);ar=(r.flags&131072)!==0}else ar=!1,Wt&&(o.flags&1048576)!==0&&Ug(o,tu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;gu(r,o),r=o.pendingProps;var g=ai(o,On.current);fi(o,c),g=ah(null,o,f,r,g,c);var b=ih();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,or(f)?(b=!0,Jc(o)):b=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Zf(o),g.updater=pu,o.stateNode=g,g._reactInternals=o,hh(o,f,r,c),o=yh(null,o,f,!0,b,c)):(o.tag=0,Wt&&b&&Vf(o),Wn(null,o,g,c),o=o.child),o;case 16:f=o.elementType;e:{switch(gu(r,o),r=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=__(f),r=Jr(f,r),g){case 0:o=gh(null,o,f,r,c);break e;case 1:o=Oy(null,o,f,r,c);break e;case 11:o=Ty(null,o,f,r,c);break e;case 14:o=Py(null,o,f,Jr(f.type,r),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Jr(f,g),gh(r,o,f,g,c);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Jr(f,g),Oy(r,o,f,g,c);case 3:e:{if(My(o),r===null)throw Error(n(387));f=o.pendingProps,b=o.memoizedState,g=b.element,Yg(r,o),iu(o,f,null,c);var E=o.memoizedState;if(f=E.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){g=pi(Error(n(423)),o),o=zy(r,o,f,c,g);break e}else if(f!==g){g=pi(Error(n(424)),o),o=zy(r,o,f,c,g);break e}else for(br=fo(o.stateNode.containerInfo.firstChild),xr=o,Wt=!0,Xr=null,c=Gg(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ci(),f===g){o=qs(r,o,c);break e}Wn(r,o,f,c)}o=o.child}return o;case 5:return Zg(o),r===null&&Kf(o),f=o.type,g=o.pendingProps,b=r!==null?r.memoizedProps:null,E=g.children,Df(f,g)?E=null:b!==null&&Df(f,b)&&(o.flags|=32),Iy(r,o),Wn(r,o,E,c),o.child;case 6:return r===null&&Kf(o),null;case 13:return Dy(r,o,c);case 4:return eh(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=ui(o,null,f,c):Wn(r,o,f,c),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Jr(f,g),Ty(r,o,f,g,c);case 7:return Wn(r,o,o.pendingProps,c),o.child;case 8:return Wn(r,o,o.pendingProps.children,c),o.child;case 12:return Wn(r,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,b=o.memoizedProps,E=g.value,zt(su,f._currentValue),f._currentValue=E,b!==null)if(Yr(b.value,E)){if(b.children===g.children&&!sr.current){o=qs(r,o,c);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var A=b.dependencies;if(A!==null){E=b.child;for(var F=A.firstContext;F!==null;){if(F.context===f){if(b.tag===1){F=Ks(-1,c&-c),F.tag=2;var te=b.updateQueue;if(te!==null){te=te.shared;var we=te.pending;we===null?F.next=F:(F.next=we.next,we.next=F),te.pending=F}}b.lanes|=c,F=b.alternate,F!==null&&(F.lanes|=c),Xf(b.return,c,o),A.lanes|=c;break}F=F.next}}else if(b.tag===10)E=b.type===o.type?null:b.child;else if(b.tag===18){if(E=b.return,E===null)throw Error(n(341));E.lanes|=c,A=E.alternate,A!==null&&(A.lanes|=c),Xf(E,c,o),E=b.sibling}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===o){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}Wn(r,o,g.children,c),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,fi(o,c),g=Fr(g),f=f(g),o.flags|=1,Wn(r,o,f,c),o.child;case 14:return f=o.type,g=Jr(f,o.pendingProps),g=Jr(f.type,g),Py(r,o,f,g,c);case 15:return Ry(r,o,o.type,o.pendingProps,c);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Jr(f,g),gu(r,o),o.tag=1,or(f)?(r=!0,Jc(o)):r=!1,fi(o,c),Sy(o,f,g),hh(o,f,g,c),yh(null,o,f,!0,r,c);case 19:return $y(r,o,c);case 22:return Ay(r,o,c)}throw Error(n(156,o.tag))};function cv(r,o){return Wo(r,o)}function k_(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(r,o,c,f){return new k_(r,o,c,f)}function Dh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function __(r){if(typeof r=="function")return Dh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===Ee)return 14}return 2}function ko(r,o){var c=r.alternate;return c===null?(c=Vr(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function ju(r,o,c,f,g,b){var E=2;if(f=r,typeof r=="function")Dh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case U:return da(c.children,g,b,o);case K:E=8,g|=8;break;case de:return r=Vr(12,c,o,g|2),r.elementType=de,r.lanes=b,r;case re:return r=Vr(13,c,o,g),r.elementType=re,r.lanes=b,r;case ce:return r=Vr(19,c,o,g),r.elementType=ce,r.lanes=b,r;case be:return Nu(c,g,b,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case fe:E=10;break e;case ne:E=9;break e;case ee:E=11;break e;case Ee:E=14;break e;case me:E=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=Vr(E,c,o,g),o.elementType=r,o.type=f,o.lanes=b,o}function da(r,o,c,f){return r=Vr(7,r,f,o),r.lanes=c,r}function Nu(r,o,c,f){return r=Vr(22,r,f,o),r.elementType=be,r.lanes=c,r.stateNode={isHidden:!1},r}function Lh(r,o,c){return r=Vr(6,r,null,o),r.lanes=c,r}function $h(r,o,c){return o=Vr(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function C_(r,o,c,f,g){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Fh(r,o,c,f,g,b,E,A,F){return r=new C_(r,o,c,A,F),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Vr(3,null,null,o),r.current=b,b.stateNode=r,b.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(b),r}function E_(r,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:f==null?null:""+f,children:r,containerInfo:o,implementation:c}}function uv(r){if(!r)return po;r=r._reactInternals;e:{if(Mt(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(or(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var c=r.type;if(or(c))return Lg(r,c,o)}return o}function dv(r,o,c,f,g,b,E,A,F){return r=Fh(c,f,!0,r,g,b,E,A,F),r.context=uv(null),c=r.current,f=Kn(),g=bo(c),b=Ks(f,g),b.callback=o??null,yo(c,b,g),r.current.lanes=g,qo(r,g,f),lr(r,f),r}function Tu(r,o,c,f){var g=o.current,b=Kn(),E=bo(g);return c=uv(c),o.context===null?o.context=c:o.pendingContext=c,o=Ks(b,E),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=yo(g,o,E),r!==null&&(ts(r,g,E,b),au(r,g,E)),E}function Pu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fv(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Uh(r,o){fv(r,o),(r=r.alternate)&&fv(r,o)}function j_(){return null}var hv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bh(r){this._internalRoot=r}Ru.prototype.render=Bh.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));Tu(r,o,null,null)},Ru.prototype.unmount=Bh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;la(function(){Tu(null,r,null,null)}),o[Us]=null}};function Ru(r){this._internalRoot=r}Ru.prototype.unstable_scheduleHydration=function(r){if(r){var o=Hn();r={blockedOn:null,target:r,priority:o};for(var c=0;c<An.length&&o!==0&&o<An[c].priority;c++);An.splice(c,0,r),c===0&&gl(r)}};function Vh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Au(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function pv(){}function N_(r,o,c,f,g){if(g){if(typeof f=="function"){var b=f;f=function(){var te=Pu(E);b.call(te)}}var E=dv(o,f,r,0,null,!1,!1,"",pv);return r._reactRootContainer=E,r[Us]=E.current,Nl(r.nodeType===8?r.parentNode:r),la(),E}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var A=f;f=function(){var te=Pu(F);A.call(te)}}var F=Fh(r,0,!1,null,null,!1,!1,"",pv);return r._reactRootContainer=F,r[Us]=F.current,Nl(r.nodeType===8?r.parentNode:r),la(function(){Tu(o,F,c,f)}),F}function Iu(r,o,c,f,g){var b=c._reactRootContainer;if(b){var E=b;if(typeof g=="function"){var A=g;g=function(){var F=Pu(E);A.call(F)}}Tu(o,E,r,g)}else E=N_(c,o,r,g,f);return Pu(E)}ml=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var c=yr(o.pendingLanes);c!==0&&(so(o,c|1),lr(o,Ht()),(jt&6)===0&&(yi=Ht()+500,mo()))}break;case 13:la(function(){var f=Ws(r,1);if(f!==null){var g=Kn();ts(f,r,1,g)}}),Uh(r,1)}},Va=function(r){if(r.tag===13){var o=Ws(r,134217728);if(o!==null){var c=Kn();ts(o,r,134217728,c)}Uh(r,134217728)}},gs=function(r){if(r.tag===13){var o=bo(r),c=Ws(r,o);if(c!==null){var f=Kn();ts(c,r,o,f)}Uh(r,o)}},Hn=function(){return Nt},Ha=function(r,o){var c=Nt;try{return Nt=r,o()}finally{Nt=c}},Yn=function(r,o,c){switch(o){case"input":if(Kt(r,c),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var g=Yc(f);if(!g)throw Error(n(90));Ue(f),Kt(f,g)}}}break;case"textarea":W(r,c);break;case"select":o=c.value,o!=null&&B(r,!!c.multiple,o,!1)}},ft=Oh,Rt=la;var T_={usingClientEntryPoint:!1,Events:[Rl,si,Yc,Aa,ct,Oh]},Wl={findFiberByHostInstance:ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P_={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=dl(r),r===null?null:r.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||j_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{La=Ou.inject(P_),Zn=Ou}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T_,cr.createPortal=function(r,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(o))throw Error(n(200));return E_(r,o,null,c)},cr.createRoot=function(r,o){if(!Vh(r))throw Error(n(299));var c=!1,f="",g=hv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Fh(r,1,!1,null,null,c,!1,f,g),r[Us]=o.current,Nl(r.nodeType===8?r.parentNode:r),new Bh(o)},cr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=dl(o),r=r===null?null:r.stateNode,r},cr.flushSync=function(r){return la(r)},cr.hydrate=function(r,o,c){if(!Au(o))throw Error(n(200));return Iu(null,r,o,!0,c)},cr.hydrateRoot=function(r,o,c){if(!Vh(r))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,b="",E=hv;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),o=dv(o,null,r,1,c??null,g,!1,b,E),r[Us]=o.current,Nl(r),f)for(r=0;r<f.length;r++)c=f[r],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Ru(o)},cr.render=function(r,o,c){if(!Au(o))throw Error(n(200));return Iu(null,r,o,!1,c)},cr.unmountComponentAtNode=function(r){if(!Au(r))throw Error(n(40));return r._reactRootContainer?(la(function(){Iu(null,null,r,!1,function(){r._reactRootContainer=null,r[Us]=null})}),!0):!1},cr.unstable_batchedUpdates=Oh,cr.unstable_renderSubtreeIntoContainer=function(r,o,c,f){if(!Au(c))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Iu(r,o,c,!1,f)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var kv;function bw(){if(kv)return qh.exports;kv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qh.exports=L_(),qh.exports}var _v;function $_(){if(_v)return zu;_v=1;var e=bw();return zu.createRoot=e.createRoot,zu.hydrateRoot=e.hydrateRoot,zu}var F_=$_(),p=Sd();const Te=xw(p),kd=A_({__proto__:null,default:Te},[p]),U_=1,B_=1e6;let Yh=0;function V_(){return Yh=(Yh+1)%Number.MAX_SAFE_INTEGER,Yh.toString()}const Xh=new Map,Cv=e=>{if(Xh.has(e))return;const t=setTimeout(()=>{Xh.delete(e),ec({type:"REMOVE_TOAST",toastId:e})},B_);Xh.set(e,t)},H_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,U_)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Cv(n):e.toasts.forEach(s=>{Cv(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Xu=[];let Ju={toasts:[]};function ec(e){Ju=H_(Ju,e),Xu.forEach(t=>{t(Ju)})}function W_({...e}){const t=V_(),n=a=>ec({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>ec({type:"DISMISS_TOAST",toastId:t});return ec({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:n}}function K_(){const[e,t]=p.useState(Ju);return p.useEffect(()=>(Xu.push(t),()=>{const n=Xu.indexOf(t);n>-1&&Xu.splice(n,1)}),[e]),{...e,toast:W_,dismiss:n=>ec({type:"DISMISS_TOAST",toastId:n})}}var Ji=bw();const Sw=xw(Ji);function Ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Ev(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Zi(...e){return t=>{let n=!1;const s=e.map(a=>{const i=Ev(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():Ev(e[a],null)}}}}function pt(...e){return p.useCallback(Zi(...e),e)}function q_(e,t){const n=p.createContext(t),s=i=>{const{children:u,...d}=i,h=p.useMemo(()=>d,Object.values(d));return l.jsx(n.Provider,{value:h,children:u})};s.displayName=e+"Provider";function a(i){const u=p.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function fr(e,t=[]){let n=[];function s(i,u){const d=p.createContext(u),h=n.length;n=[...n,u];const m=v=>{var C;const{scope:x,children:w,..._}=v,k=((C=x==null?void 0:x[e])==null?void 0:C[h])||d,S=p.useMemo(()=>_,Object.values(_));return l.jsx(k.Provider,{value:S,children:w})};m.displayName=i+"Provider";function y(v,x){var k;const w=((k=x==null?void 0:x[e])==null?void 0:k[h])||d,_=p.useContext(w);if(_)return _;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${i}\``)}return[m,y]}const a=()=>{const i=n.map(u=>p.createContext(u));return function(d){const h=(d==null?void 0:d[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return a.scopeName=e,[s,G_(a,...t)]}function G_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const v=h(i)[`__scope${m}`];return{...d,...v}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function jv(e){const t=Q_(e),n=p.forwardRef((s,a)=>{const{children:i,...u}=s,d=p.Children.toArray(i),h=d.find(X_);if(h){const m=h.props.children,y=d.map(v=>v===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:v);return l.jsx(t,{...u,ref:a,children:p.isValidElement(m)?p.cloneElement(m,void 0,y):null})}return l.jsx(t,{...u,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function Q_(e){const t=p.forwardRef((n,s)=>{const{children:a,...i}=n;if(p.isValidElement(a)){const u=Z_(a),d=J_(i,a.props);return a.type!==p.Fragment&&(d.ref=s?Zi(s,u):u),p.cloneElement(a,d)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Y_=Symbol("radix.slottable");function X_(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Y_}function J_(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...d)=>{const h=i(...d);return a(...d),h}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Z_(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _d(e){const t=e+"CollectionProvider",[n,s]=fr(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=k=>{const{scope:S,children:C}=k,N=Te.useRef(null),j=Te.useRef(new Map).current;return l.jsx(a,{scope:S,itemMap:j,collectionRef:N,children:C})};u.displayName=t;const d=e+"CollectionSlot",h=jv(d),m=Te.forwardRef((k,S)=>{const{scope:C,children:N}=k,j=i(d,C),T=pt(S,j.collectionRef);return l.jsx(h,{ref:T,children:N})});m.displayName=d;const y=e+"CollectionItemSlot",v="data-radix-collection-item",x=jv(y),w=Te.forwardRef((k,S)=>{const{scope:C,children:N,...j}=k,T=Te.useRef(null),O=pt(S,T),L=i(y,C);return Te.useEffect(()=>(L.itemMap.set(T,{ref:T,...j}),()=>void L.itemMap.delete(T))),l.jsx(x,{[v]:"",ref:O,children:N})});w.displayName=y;function _(k){const S=i(e+"CollectionConsumer",k);return Te.useCallback(()=>{const N=S.collectionRef.current;if(!N)return[];const j=Array.from(N.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((L,U)=>j.indexOf(L.ref.current)-j.indexOf(U.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:u,Slot:m,ItemSlot:w},_,s]}function eC(e){const t=tC(e),n=p.forwardRef((s,a)=>{const{children:i,...u}=s,d=p.Children.toArray(i),h=d.find(rC);if(h){const m=h.props.children,y=d.map(v=>v===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:v);return l.jsx(t,{...u,ref:a,children:p.isValidElement(m)?p.cloneElement(m,void 0,y):null})}return l.jsx(t,{...u,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function tC(e){const t=p.forwardRef((n,s)=>{const{children:a,...i}=n;if(p.isValidElement(a)){const u=oC(a),d=sC(i,a.props);return a.type!==p.Fragment&&(d.ref=s?Zi(s,u):u),p.cloneElement(a,d)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nC=Symbol("radix.slottable");function rC(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nC}function sC(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...d)=>{const h=i(...d);return a(...d),h}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function oC(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=aC.reduce((e,t)=>{const n=eC(`Primitive.${t}`),s=p.forwardRef((a,i)=>{const{asChild:u,...d}=a,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function kw(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function un(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function iC(e,t=globalThis==null?void 0:globalThis.document){const n=un(e);p.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var lC="DismissableLayer",jp="dismissableLayer.update",cC="dismissableLayer.pointerDownOutside",uC="dismissableLayer.focusOutside",Nv,_w=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:u,onDismiss:d,...h}=e,m=p.useContext(_w),[y,v]=p.useState(null),x=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=p.useState({}),_=pt(t,U=>v(U)),k=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=k.indexOf(S),N=y?k.indexOf(y):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,T=N>=C,O=fC(U=>{const K=U.target,de=[...m.branches].some(fe=>fe.contains(K));!T||de||(a==null||a(U),u==null||u(U),U.defaultPrevented||d==null||d())},x),L=hC(U=>{const K=U.target;[...m.branches].some(fe=>fe.contains(K))||(i==null||i(U),u==null||u(U),U.defaultPrevented||d==null||d())},x);return iC(U=>{N===m.layers.size-1&&(s==null||s(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},x),p.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Nv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Tv(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Nv)}},[y,x,n,m]),p.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Tv())},[y,m]),p.useEffect(()=>{const U=()=>w({});return document.addEventListener(jp,U),()=>document.removeEventListener(jp,U)},[]),l.jsx(Ze.div,{...h,ref:_,style:{pointerEvents:j?T?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,O.onPointerDownCapture)})});bc.displayName=lC;var dC="DismissableLayerBranch",Cw=p.forwardRef((e,t)=>{const n=p.useContext(_w),s=p.useRef(null),a=pt(t,s);return p.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Ze.div,{...e,ref:a})});Cw.displayName=dC;function fC(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),s=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const i=d=>{if(d.target&&!s.current){let h=function(){Ew(cC,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function hC(e,t=globalThis==null?void 0:globalThis.document){const n=un(e),s=p.useRef(!1);return p.useEffect(()=>{const a=i=>{i.target&&!s.current&&Ew(uC,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Tv(){const e=new CustomEvent(jp);document.dispatchEvent(e)}function Ew(e,t,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?kw(a,i):a.dispatchEvent(i)}var pC=bc,mC=Cw,sn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},gC="Portal",Cd=p.forwardRef((e,t)=>{var d;const{container:n,...s}=e,[a,i]=p.useState(!1);sn(()=>i(!0),[]);const u=n||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?Sw.createPortal(l.jsx(Ze.div,{...s,ref:t}),u):null});Cd.displayName=gC;function yC(e,t){return p.useReducer((n,s)=>t[n][s]??n,e)}var Ir=e=>{const{present:t,children:n}=e,s=vC(t),a=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),i=pt(s.ref,wC(a));return typeof n=="function"||s.isPresent?p.cloneElement(a,{ref:i}):null};Ir.displayName="Presence";function vC(e){const[t,n]=p.useState(),s=p.useRef(null),a=p.useRef(e),i=p.useRef("none"),u=e?"mounted":"unmounted",[d,h]=yC(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=Du(s.current);i.current=d==="mounted"?m:"none"},[d]),sn(()=>{const m=s.current,y=a.current;if(y!==e){const x=i.current,w=Du(m);e?h("MOUNT"):w==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(y&&x!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),sn(()=>{if(t){let m;const y=t.ownerDocument.defaultView??window,v=w=>{const k=Du(s.current).includes(CSS.escape(w.animationName));if(w.target===t&&k&&(h("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",m=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},x=w=>{w.target===t&&(i.current=Du(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{y.clearTimeout(m),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(m=>{s.current=m?getComputedStyle(m):null,n(m)},[])}}function Du(e){return(e==null?void 0:e.animationName)||"none"}function wC(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xC=kd[" useInsertionEffect ".trim().toString()]||sn;function Ms({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,i,u]=bC({defaultProp:t,onChange:n}),d=e!==void 0,h=d?e:a;{const y=p.useRef(e!==void 0);p.useEffect(()=>{const v=y.current;v!==d&&console.warn(`${s} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,s])}const m=p.useCallback(y=>{var v;if(d){const x=SC(y)?y(e):y;x!==e&&((v=u.current)==null||v.call(u,x))}else i(y)},[d,e,i,u]);return[h,m]}function bC({defaultProp:e,onChange:t}){const[n,s]=p.useState(e),a=p.useRef(n),i=p.useRef(t);return xC(()=>{i.current=t},[t]),p.useEffect(()=>{var u;a.current!==n&&((u=i.current)==null||u.call(i,n),a.current=n)},[n,a]),[n,s,i]}function SC(e){return typeof e=="function"}var jw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kC="VisuallyHidden",Ed=p.forwardRef((e,t)=>l.jsx(Ze.span,{...e,ref:t,style:{...jw,...e.style}}));Ed.displayName=kC;var _C=Ed,ym="ToastProvider",[vm,CC,EC]=_d("Toast"),[Nw]=fr("Toast",[EC]),[jC,jd]=Nw(ym),Tw=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:u}=e,[d,h]=p.useState(null),[m,y]=p.useState(0),v=p.useRef(!1),x=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ym}\`. Expected non-empty \`string\`.`),l.jsx(vm.Provider,{scope:t,children:l.jsx(jC,{scope:t,label:n,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:p.useCallback(()=>y(w=>w+1),[]),onToastRemove:p.useCallback(()=>y(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:x,children:u})})};Tw.displayName=ym;var Pw="ToastViewport",NC=["F8"],Np="toast.viewportPause",Tp="toast.viewportResume",Rw=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=NC,label:a="Notifications ({hotkey})",...i}=e,u=jd(Pw,n),d=CC(n),h=p.useRef(null),m=p.useRef(null),y=p.useRef(null),v=p.useRef(null),x=pt(t,v,u.onViewportChange),w=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=u.toastCount>0;p.useEffect(()=>{const S=C=>{var j;s.length!==0&&s.every(T=>C[T]||C.code===T)&&((j=v.current)==null||j.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[s]),p.useEffect(()=>{const S=h.current,C=v.current;if(_&&S&&C){const N=()=>{if(!u.isClosePausedRef.current){const L=new CustomEvent(Np);C.dispatchEvent(L),u.isClosePausedRef.current=!0}},j=()=>{if(u.isClosePausedRef.current){const L=new CustomEvent(Tp);C.dispatchEvent(L),u.isClosePausedRef.current=!1}},T=L=>{!S.contains(L.relatedTarget)&&j()},O=()=>{S.contains(document.activeElement)||j()};return S.addEventListener("focusin",N),S.addEventListener("focusout",T),S.addEventListener("pointermove",N),S.addEventListener("pointerleave",O),window.addEventListener("blur",N),window.addEventListener("focus",j),()=>{S.removeEventListener("focusin",N),S.removeEventListener("focusout",T),S.removeEventListener("pointermove",N),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",N),window.removeEventListener("focus",j)}}},[_,u.isClosePausedRef]);const k=p.useCallback(({tabbingDirection:S})=>{const N=d().map(j=>{const T=j.ref.current,O=[T,...UC(T)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?N.reverse():N).flat()},[d]);return p.useEffect(()=>{const S=v.current;if(S){const C=N=>{var O,L,U;const j=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!j){const K=document.activeElement,de=N.shiftKey;if(N.target===S&&de){(O=m.current)==null||O.focus();return}const ee=k({tabbingDirection:de?"backwards":"forwards"}),re=ee.findIndex(ce=>ce===K);Jh(ee.slice(re+1))?N.preventDefault():de?(L=m.current)==null||L.focus():(U=y.current)==null||U.focus()}};return S.addEventListener("keydown",C),()=>S.removeEventListener("keydown",C)}},[d,k]),l.jsxs(mC,{ref:h,role:"region","aria-label":a.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&l.jsx(Pp,{ref:m,onFocusFromOutsideViewport:()=>{const S=k({tabbingDirection:"forwards"});Jh(S)}}),l.jsx(vm.Slot,{scope:n,children:l.jsx(Ze.ol,{tabIndex:-1,...i,ref:x})}),_&&l.jsx(Pp,{ref:y,onFocusFromOutsideViewport:()=>{const S=k({tabbingDirection:"backwards"});Jh(S)}})]})});Rw.displayName=Pw;var Aw="ToastFocusProxy",Pp=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=e,i=jd(Aw,n);return l.jsx(Ed,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:u=>{var m;const d=u.relatedTarget;!((m=i.viewport)!=null&&m.contains(d))&&s()}})});Pp.displayName=Aw;var Sc="Toast",TC="toast.swipeStart",PC="toast.swipeMove",RC="toast.swipeCancel",AC="toast.swipeEnd",Iw=p.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:i,...u}=e,[d,h]=Ms({prop:s,defaultProp:a??!0,onChange:i,caller:Sc});return l.jsx(Ir,{present:n||d,children:l.jsx(MC,{open:d,...u,ref:t,onClose:()=>h(!1),onPause:un(e.onPause),onResume:un(e.onResume),onSwipeStart:Ve(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(e.onSwipeMove,m=>{const{x:y,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Ve(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(e.onSwipeEnd,m=>{const{x:y,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),h(!1)})})})});Iw.displayName=Sc;var[IC,OC]=Nw(Sc,{onClose(){}}),MC=p.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:i,onClose:u,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:x,onSwipeEnd:w,..._}=e,k=jd(Sc,n),[S,C]=p.useState(null),N=pt(t,ce=>C(ce)),j=p.useRef(null),T=p.useRef(null),O=a||k.duration,L=p.useRef(0),U=p.useRef(O),K=p.useRef(0),{onToastAdd:de,onToastRemove:fe}=k,ne=un(()=>{var Ee;(S==null?void 0:S.contains(document.activeElement))&&((Ee=k.viewport)==null||Ee.focus()),u()}),ee=p.useCallback(ce=>{!ce||ce===1/0||(window.clearTimeout(K.current),L.current=new Date().getTime(),K.current=window.setTimeout(ne,ce))},[ne]);p.useEffect(()=>{const ce=k.viewport;if(ce){const Ee=()=>{ee(U.current),m==null||m()},me=()=>{const be=new Date().getTime()-L.current;U.current=U.current-be,window.clearTimeout(K.current),h==null||h()};return ce.addEventListener(Np,me),ce.addEventListener(Tp,Ee),()=>{ce.removeEventListener(Np,me),ce.removeEventListener(Tp,Ee)}}},[k.viewport,O,h,m,ee]),p.useEffect(()=>{i&&!k.isClosePausedRef.current&&ee(O)},[i,O,k.isClosePausedRef,ee]),p.useEffect(()=>(de(),()=>fe()),[de,fe]);const re=p.useMemo(()=>S?Fw(S):null,[S]);return k.viewport?l.jsxs(l.Fragment,{children:[re&&l.jsx(zC,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:re}),l.jsx(IC,{scope:n,onClose:ne,children:Ji.createPortal(l.jsx(vm.ItemSlot,{scope:n,children:l.jsx(pC,{asChild:!0,onEscapeKeyDown:Ve(d,()=>{k.isFocusedToastEscapeKeyDownRef.current||ne(),k.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Ze.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":k.swipeDirection,..._,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ve(e.onKeyDown,ce=>{ce.key==="Escape"&&(d==null||d(ce.nativeEvent),ce.nativeEvent.defaultPrevented||(k.isFocusedToastEscapeKeyDownRef.current=!0,ne()))}),onPointerDown:Ve(e.onPointerDown,ce=>{ce.button===0&&(j.current={x:ce.clientX,y:ce.clientY})}),onPointerMove:Ve(e.onPointerMove,ce=>{if(!j.current)return;const Ee=ce.clientX-j.current.x,me=ce.clientY-j.current.y,be=!!T.current,X=["left","right"].includes(k.swipeDirection),G=["left","up"].includes(k.swipeDirection)?Math.min:Math.max,he=X?G(0,Ee):0,$=X?0:G(0,me),Z=ce.pointerType==="touch"?10:2,ke={x:he,y:$},ge={originalEvent:ce,delta:ke};be?(T.current=ke,Lu(PC,v,ge,{discrete:!1})):Pv(ke,k.swipeDirection,Z)?(T.current=ke,Lu(TC,y,ge,{discrete:!1}),ce.target.setPointerCapture(ce.pointerId)):(Math.abs(Ee)>Z||Math.abs(me)>Z)&&(j.current=null)}),onPointerUp:Ve(e.onPointerUp,ce=>{const Ee=T.current,me=ce.target;if(me.hasPointerCapture(ce.pointerId)&&me.releasePointerCapture(ce.pointerId),T.current=null,j.current=null,Ee){const be=ce.currentTarget,X={originalEvent:ce,delta:Ee};Pv(Ee,k.swipeDirection,k.swipeThreshold)?Lu(AC,w,X,{discrete:!0}):Lu(RC,x,X,{discrete:!0}),be.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),k.viewport)})]}):null}),zC=e=>{const{__scopeToast:t,children:n,...s}=e,a=jd(Sc,t),[i,u]=p.useState(!1),[d,h]=p.useState(!1);return $C(()=>u(!0)),p.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:l.jsx(Cd,{asChild:!0,children:l.jsx(Ed,{...s,children:i&&l.jsxs(l.Fragment,{children:[a.label," ",n]})})})},DC="ToastTitle",Ow=p.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return l.jsx(Ze.div,{...s,ref:t})});Ow.displayName=DC;var LC="ToastDescription",Mw=p.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return l.jsx(Ze.div,{...s,ref:t})});Mw.displayName=LC;var zw="ToastAction",Dw=p.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?l.jsx($w,{altText:n,asChild:!0,children:l.jsx(wm,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${zw}\`. Expected non-empty \`string\`.`),null)});Dw.displayName=zw;var Lw="ToastClose",wm=p.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,a=OC(Lw,n);return l.jsx($w,{asChild:!0,children:l.jsx(Ze.button,{type:"button",...s,ref:t,onClick:Ve(e.onClick,a.onClose)})})});wm.displayName=Lw;var $w=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...a}=e;return l.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Fw(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),FC(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const u=s.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...Fw(s))}}),t}function Lu(e,t,n,{discrete:s}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?kw(a,i):a.dispatchEvent(i)}var Pv=(e,t,n=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>n:!i&&a>n};function $C(e=()=>{}){const t=un(e);sn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function FC(e){return e.nodeType===e.ELEMENT_NODE}function UC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Jh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var BC=Tw,Uw=Rw,Bw=Iw,Vw=Ow,Hw=Mw,Ww=Dw,Kw=wm;function qw(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=qw(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Gw(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=qw(e))&&(s&&(s+=" "),s+=t);return s}const Rv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Av=Gw,xm=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Av(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,u=Object.keys(a).map(m=>{const y=n==null?void 0:n[m],v=i==null?void 0:i[m];if(y===null)return null;const x=Rv(y)||Rv(v);return a[m][x]}),d=n&&Object.entries(n).reduce((m,y)=>{let[v,x]=y;return x===void 0||(m[v]=x),m},{}),h=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,y)=>{let{class:v,className:x,...w}=y;return Object.entries(w).every(_=>{let[k,S]=_;return Array.isArray(S)?S.includes({...i,...d}[k]):{...i,...d}[k]===S})?[...m,v,x]:m},[]);return Av(e,u,h,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qw=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:u,...d},h)=>p.createElement("svg",{ref:h,...HC,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:Qw("lucide",a),...d},[...u.map(([m,y])=>p.createElement(m,y)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(e,t)=>{const n=p.forwardRef(({className:s,...a},i)=>p.createElement(WC,{ref:i,iconNode:t,className:Qw(`lucide-${VC(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=nt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=nt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=nt("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=nt("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=nt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=nt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=nt("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=nt("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=nt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=nt("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=nt("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=nt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=nt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=nt("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=nt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=nt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=nt("Pickaxe",[["path",{d:"M14.531 12.469 6.619 20.38a1 1 0 1 1-3-3l7.912-7.912",key:"we99rg"}],["path",{d:"M15.686 4.314A12.5 12.5 0 0 0 5.461 2.958 1 1 0 0 0 5.58 4.71a22 22 0 0 1 6.318 3.393",key:"1w6hck"}],["path",{d:"M17.7 3.7a1 1 0 0 0-1.4 0l-4.6 4.6a1 1 0 0 0 0 1.4l2.6 2.6a1 1 0 0 0 1.4 0l4.6-4.6a1 1 0 0 0 0-1.4z",key:"15hgfx"}],["path",{d:"M19.686 8.314a12.501 12.501 0 0 1 1.356 10.225 1 1 0 0 1-1.751-.119 22 22 0 0 0-3.393-6.319",key:"452b4h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=nt("Popcorn",[["path",{d:"M18 8a2 2 0 0 0 0-4 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0-4 0 2 2 0 0 0 0 4",key:"10td1f"}],["path",{d:"M10 22 9 8",key:"yjptiv"}],["path",{d:"m14 22 1-14",key:"8jwc8b"}],["path",{d:"M20 8c.5 0 .9.4.8 1l-2.6 12c-.1.5-.7 1-1.2 1H7c-.6 0-1.1-.4-1.2-1L3.2 9c-.1-.6.3-1 .8-1Z",key:"1qo33t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=nt("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=nt("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=nt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=nt("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=nt("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=nt("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=nt("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=nt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=nt("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=nt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=nt("Volume1",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=nt("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=nt("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=nt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=nt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=nt("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nm="-",hE=e=>{const t=mE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:u=>{const d=u.split(Nm);return d[0]===""&&d.length!==1&&d.shift(),rx(d,t)||pE(u)},getConflictingClassGroupIds:(u,d)=>{const h=n[u]||[];return d&&s[u]?[...h,...s[u]]:h}}},rx=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?rx(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Nm);return(u=t.validators.find(({validator:d})=>d(i)))==null?void 0:u.classGroupId},Dv=/^\[(.+)\]$/,pE=e=>{if(Dv.test(e)){const t=Dv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},mE=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return yE(Object.entries(e.classGroups),n).forEach(([i,u])=>{zp(u,s,i,t)}),s},zp=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Lv(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(gE(a)){zp(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,u])=>{zp(u,Lv(t,i),n,s)})})},Lv=(e,t)=>{let n=e;return t.split(Nm).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},gE=e=>e.isThemeGetter,yE=(e,t)=>t?e.map(([n,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([u,d])=>[t+u,d])):i);return[n,a]}):e,vE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(i,u)=>{n.set(i,u),t++,t>e&&(t=0,s=n,n=new Map)};return{get(i){let u=n.get(i);if(u!==void 0)return u;if((u=s.get(i))!==void 0)return a(i,u),u},set(i,u){n.has(i)?n.set(i,u):a(i,u)}}},sx="!",wE=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],i=t.length,u=d=>{const h=[];let m=0,y=0,v;for(let S=0;S<d.length;S++){let C=d[S];if(m===0){if(C===a&&(s||d.slice(S,S+i)===t)){h.push(d.slice(y,S)),y=S+i;continue}if(C==="/"){v=S;continue}}C==="["?m++:C==="]"&&m--}const x=h.length===0?d:d.substring(y),w=x.startsWith(sx),_=w?x.substring(1):x,k=v&&v>y?v-y:void 0;return{modifiers:h,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:k}};return n?d=>n({className:d,parseClassName:u}):u},xE=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},bE=e=>({cache:vE(e.cacheSize),parseClassName:wE(e),...hE(e)}),SE=/\s+/,kE=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],u=e.trim().split(SE);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:y,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:w}=n(m);let _=!!w,k=s(_?x.substring(0,w):x);if(!k){if(!_){d=m+(d.length>0?" "+d:d);continue}if(k=s(x),!k){d=m+(d.length>0?" "+d:d);continue}_=!1}const S=xE(y).join(":"),C=v?S+sx:S,N=C+k;if(i.includes(N))continue;i.push(N);const j=a(k,_);for(let T=0;T<j.length;++T){const O=j[T];i.push(C+O)}d=m+(d.length>0?" "+d:d)}return d};function _E(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ox(t))&&(s&&(s+=" "),s+=n);return s}const ox=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=ox(e[s]))&&(n&&(n+=" "),n+=t);return n};function CE(e,...t){let n,s,a,i=u;function u(h){const m=t.reduce((y,v)=>v(y),e());return n=bE(m),s=n.cache.get,a=n.cache.set,i=d,d(h)}function d(h){const m=s(h);if(m)return m;const y=kE(h,n);return a(h,y),y}return function(){return i(_E.apply(null,arguments))}}const Bt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},ax=/^\[(?:([a-z-]+):)?(.+)\]$/i,EE=/^\d+\/\d+$/,jE=new Set(["px","full","screen"]),NE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=e=>Di(e)||jE.has(e)||EE.test(e),Co=e=>el(e,"length",FE),Di=e=>!!e&&!Number.isNaN(Number(e)),Zh=e=>el(e,"number",Di),ql=e=>!!e&&Number.isInteger(Number(e)),IE=e=>e.endsWith("%")&&Di(e.slice(0,-1)),vt=e=>ax.test(e),Eo=e=>NE.test(e),OE=new Set(["length","size","percentage"]),ME=e=>el(e,OE,ix),zE=e=>el(e,"position",ix),DE=new Set(["image","url"]),LE=e=>el(e,DE,BE),$E=e=>el(e,"",UE),Gl=()=>!0,el=(e,t,n)=>{const s=ax.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},FE=e=>TE.test(e)&&!PE.test(e),ix=()=>!1,UE=e=>RE.test(e),BE=e=>AE.test(e),VE=()=>{const e=Bt("colors"),t=Bt("spacing"),n=Bt("blur"),s=Bt("brightness"),a=Bt("borderColor"),i=Bt("borderRadius"),u=Bt("borderSpacing"),d=Bt("borderWidth"),h=Bt("contrast"),m=Bt("grayscale"),y=Bt("hueRotate"),v=Bt("invert"),x=Bt("gap"),w=Bt("gradientColorStops"),_=Bt("gradientColorStopPositions"),k=Bt("inset"),S=Bt("margin"),C=Bt("opacity"),N=Bt("padding"),j=Bt("saturate"),T=Bt("scale"),O=Bt("sepia"),L=Bt("skew"),U=Bt("space"),K=Bt("translate"),de=()=>["auto","contain","none"],fe=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",vt,t],ee=()=>[vt,t],re=()=>["",Qs,Co],ce=()=>["auto",Di,vt],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",vt],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Di,vt];return{cacheSize:500,separator:":",theme:{colors:[Gl],spacing:[Qs,Co],blur:["none","",Eo,vt],brightness:$(),borderColor:[e],borderRadius:["none","","full",Eo,vt],borderSpacing:ee(),borderWidth:re(),contrast:$(),grayscale:G(),hueRotate:$(),invert:G(),gap:ee(),gradientColorStops:[e],gradientColorStopPositions:[IE,Co],inset:ne(),margin:ne(),opacity:$(),padding:ee(),saturate:$(),scale:$(),sepia:G(),skew:$(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",vt]}],container:["container"],columns:[{columns:[Eo]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),vt]}],overflow:[{overflow:fe()}],"overflow-x":[{"overflow-x":fe()}],"overflow-y":[{"overflow-y":fe()}],overscroll:[{overscroll:de()}],"overscroll-x":[{"overscroll-x":de()}],"overscroll-y":[{"overscroll-y":de()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ql,vt]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",ql,vt]}],"grid-cols":[{"grid-cols":[Gl]}],"col-start-end":[{col:["auto",{span:["full",ql,vt]},vt]}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":[Gl]}],"row-start-end":[{row:["auto",{span:[ql,vt]},vt]}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vt]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vt,t]}],"min-w":[{"min-w":[vt,t,"min","max","fit"]}],"max-w":[{"max-w":[vt,t,"none","full","min","max","fit","prose",{screen:[Eo]},Eo]}],h:[{h:[vt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Eo,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zh]}],"font-family":[{font:[Gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vt]}],"line-clamp":[{"line-clamp":["none",Di,Zh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,vt]}],"list-image":[{"list-image":["none",vt]}],"list-style-type":[{list:["none","disc","decimal",vt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,Co]}],"underline-offset":[{"underline-offset":["auto",Qs,vt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),zE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ME]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:me()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[Qs,vt]}],"outline-w":[{outline:[Qs,Co]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Qs,Co]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Eo,$E]}],"shadow-color":[{shadow:[Gl]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Eo,vt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[j]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",vt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",vt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[ql,vt]}],"translate-x":[{"translate-x":[K]}],"translate-y":[{"translate-y":[K]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qs,Co,Zh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},HE=CE(VE);function ot(...e){return HE(Gw(e))}const WE=BC,lx=p.forwardRef(({className:e,...t},n)=>l.jsx(Uw,{ref:n,className:ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));lx.displayName=Uw.displayName;const KE=xm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cx=p.forwardRef(({className:e,variant:t,...n},s)=>l.jsx(Bw,{ref:s,className:ot(KE({variant:t}),e),...n}));cx.displayName=Bw.displayName;const qE=p.forwardRef(({className:e,...t},n)=>l.jsx(Ww,{ref:n,className:ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qE.displayName=Ww.displayName;const ux=p.forwardRef(({className:e,...t},n)=>l.jsx(Kw,{ref:n,className:ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(jm,{className:"h-4 w-4"})}));ux.displayName=Kw.displayName;const dx=p.forwardRef(({className:e,...t},n)=>l.jsx(Vw,{ref:n,className:ot("text-sm font-semibold",e),...t}));dx.displayName=Vw.displayName;const fx=p.forwardRef(({className:e,...t},n)=>l.jsx(Hw,{ref:n,className:ot("text-sm opacity-90",e),...t}));fx.displayName=Hw.displayName;function GE(){const{toasts:e}=K_();return l.jsxs(WE,{children:[e.map(function({id:t,title:n,description:s,action:a,...i}){return l.jsxs(cx,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(dx,{children:n}),s&&l.jsx(fx,{children:s})]}),a,l.jsx(ux,{})]},t)}),l.jsx(lx,{})]})}var $v=["light","dark"],QE="(prefers-color-scheme: dark)",YE=p.createContext(void 0),XE={setTheme:e=>{},themes:[]},JE=()=>{var e;return(e=p.useContext(YE))!=null?e:XE};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:u,attrs:d,nonce:h})=>{let m=i==="system",y=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${d.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,v=a?$v.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(_,k=!1,S=!0)=>{let C=u?u[_]:_,N=k?_+"|| ''":`'${C}'`,j="";return a&&S&&!k&&$v.includes(_)&&(j+=`d.style.colorScheme = '${_}';`),n==="class"?k||C?j+=`c.add(${N})`:j+="null":C&&(j+=`d[s](n,${N})`),j},w=e?`!function(){${y}${x(e)}}()`:s?`!function(){try{${y}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${m})){var t='${QE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${x(u?"x[e]":"e",!0)}}${m?"":"else{"+x(i,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${t}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${x(u?"x[e]":"e",!0)}}else{${x(i,!1,!1)};}${v}}catch(t){}}();`;return p.createElement("script",{nonce:h,dangerouslySetInnerHTML:{__html:w}})});var ZE=e=>{switch(e){case"success":return nj;case"info":return sj;case"warning":return rj;case"error":return oj;default:return null}},ej=Array(12).fill(0),tj=({visible:e,className:t})=>Te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Te.createElement("div",{className:"sonner-spinner"},ej.map((n,s)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),nj=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rj=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sj=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oj=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aj=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ij=()=>{let[e,t]=Te.useState(document.hidden);return Te.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Dp=1,lj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Dp++,i=this.toasts.find(d=>d.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:n}),{...d,...e,id:a,dismissible:u,title:n}):d):this.addToast({title:n,...s,dismissible:u,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0,i,u=s.then(async h=>{if(i=["resolve",h],Te.isValidElement(h))a=!1,this.create({id:n,type:"default",message:h});else if(uj(h)&&!h.ok){a=!1;let m=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description;this.create({id:n,type:"error",message:m,description:y})}else if(t.success!==void 0){a=!1;let m=typeof t.success=="function"?await t.success(h):t.success,y=typeof t.description=="function"?await t.description(h):t.description;this.create({id:n,type:"success",message:m,description:y})}}).catch(async h=>{if(i=["reject",h],t.error!==void 0){a=!1;let m=typeof t.error=="function"?await t.error(h):t.error,y=typeof t.description=="function"?await t.description(h):t.description;this.create({id:n,type:"error",message:m,description:y})}}).finally(()=>{var h;a&&(this.dismiss(n),n=void 0),(h=t.finally)==null||h.call(t)}),d=()=>new Promise((h,m)=>u.then(()=>i[0]==="reject"?m(i[1]):h(i[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Dp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ur=new lj,cj=(e,t)=>{let n=(t==null?void 0:t.id)||Dp++;return ur.addToast({title:e,...t,id:n}),n},uj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",dj=cj,fj=()=>ur.toasts,hj=()=>ur.getActiveToasts(),Nd=Object.assign(dj,{success:ur.success,info:ur.info,warning:ur.warning,error:ur.error,custom:ur.custom,message:ur.message,promise:ur.promise,dismiss:ur.dismiss,loading:ur.loading},{getHistory:fj,getToasts:hj});function pj(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}pj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $u(e){return e.label!==void 0}var mj=3,gj="32px",yj="16px",Fv=4e3,vj=356,wj=14,xj=20,bj=200;function ns(...e){return e.filter(Boolean).join(" ")}function Sj(e){let[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}var kj=e=>{var t,n,s,a,i,u,d,h,m,y,v;let{invert:x,toast:w,unstyled:_,interacting:k,setHeights:S,visibleToasts:C,heights:N,index:j,toasts:T,expanded:O,removeToast:L,defaultRichColors:U,closeButton:K,style:de,cancelButtonStyle:fe,actionButtonStyle:ne,className:ee="",descriptionClassName:re="",duration:ce,position:Ee,gap:me,loadingIcon:be,expandByDefault:X,classNames:G,icons:he,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:Z}=e,[ke,ge]=Te.useState(null),[Ce,Le]=Te.useState(null),[ae,Pe]=Te.useState(!1),[Oe,De]=Te.useState(!1),[Ke,Ue]=Te.useState(!1),[mt,$e]=Te.useState(!1),[Lt,Vt]=Te.useState(!1),[Kt,Ot]=Te.useState(0),[yn,$t]=Te.useState(0),B=Te.useRef(w.duration||ce||Fv),ue=Te.useRef(null),je=Te.useRef(null),W=j===0,ie=j+1<=C,ye=w.type,We=w.dismissible!==!1,ze=w.className||"",Ct=w.descriptionClassName||"",Qe=Te.useMemo(()=>N.findIndex(ct=>ct.toastId===w.id)||0,[N,w.id]),lt=Te.useMemo(()=>{var ct;return(ct=w.closeButton)!=null?ct:K},[w.closeButton,K]),Ie=Te.useMemo(()=>w.duration||ce||Fv,[w.duration,ce]),tn=Te.useRef(0),Fn=Te.useRef(0),gt=Te.useRef(0),et=Te.useRef(null),[At,Xt]=Ee.split("-"),on=Te.useMemo(()=>N.reduce((ct,ft,Rt)=>Rt>=Qe?ct:ct+ft.height,0),[N,Qe]),Yn=ij(),Xn=w.invert||x,Jn=ye==="loading";Fn.current=Te.useMemo(()=>Qe*me+on,[Qe,on]),Te.useEffect(()=>{B.current=Ie},[Ie]),Te.useEffect(()=>{Pe(!0)},[]),Te.useEffect(()=>{let ct=je.current;if(ct){let ft=ct.getBoundingClientRect().height;return $t(ft),S(Rt=>[{toastId:w.id,height:ft,position:w.position},...Rt]),()=>S(Rt=>Rt.filter(Et=>Et.toastId!==w.id))}},[S,w.id]),Te.useLayoutEffect(()=>{if(!ae)return;let ct=je.current,ft=ct.style.height;ct.style.height="auto";let Rt=ct.getBoundingClientRect().height;ct.style.height=ft,$t(Rt),S(Et=>Et.find(vn=>vn.toastId===w.id)?Et.map(vn=>vn.toastId===w.id?{...vn,height:Rt}:vn):[{toastId:w.id,height:Rt,position:w.position},...Et])},[ae,w.title,w.description,S,w.id]);let Un=Te.useCallback(()=>{De(!0),Ot(Fn.current),S(ct=>ct.filter(ft=>ft.toastId!==w.id)),setTimeout(()=>{L(w)},bj)},[w,L,S,Fn]);Te.useEffect(()=>{if(w.promise&&ye==="loading"||w.duration===1/0||w.type==="loading")return;let ct;return O||k||Z&&Yn?(()=>{if(gt.current<tn.current){let ft=new Date().getTime()-tn.current;B.current=B.current-ft}gt.current=new Date().getTime()})():B.current!==1/0&&(tn.current=new Date().getTime(),ct=setTimeout(()=>{var ft;(ft=w.onAutoClose)==null||ft.call(w,w),Un()},B.current)),()=>clearTimeout(ct)},[O,k,w,ye,Z,Yn,Un]),Te.useEffect(()=>{w.delete&&Un()},[Un,w.delete]);function Aa(){var ct,ft,Rt;return he!=null&&he.loading?Te.createElement("div",{className:ns(G==null?void 0:G.loader,(ct=w==null?void 0:w.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":ye==="loading"},he.loading):be?Te.createElement("div",{className:ns(G==null?void 0:G.loader,(ft=w==null?void 0:w.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":ye==="loading"},be):Te.createElement(tj,{className:ns(G==null?void 0:G.loader,(Rt=w==null?void 0:w.classNames)==null?void 0:Rt.loader),visible:ye==="loading"})}return Te.createElement("li",{tabIndex:0,ref:je,className:ns(ee,ze,G==null?void 0:G.toast,(t=w==null?void 0:w.classNames)==null?void 0:t.toast,G==null?void 0:G.default,G==null?void 0:G[ye],(n=w==null?void 0:w.classNames)==null?void 0:n[ye]),"data-sonner-toast":"","data-rich-colors":(s=w.richColors)!=null?s:U,"data-styled":!(w.jsx||w.unstyled||_),"data-mounted":ae,"data-promise":!!w.promise,"data-swiped":Lt,"data-removed":Oe,"data-visible":ie,"data-y-position":At,"data-x-position":Xt,"data-index":j,"data-front":W,"data-swiping":Ke,"data-dismissible":We,"data-type":ye,"data-invert":Xn,"data-swipe-out":mt,"data-swipe-direction":Ce,"data-expanded":!!(O||X&&ae),style:{"--index":j,"--toasts-before":j,"--z-index":T.length-j,"--offset":`${Oe?Kt:Fn.current}px`,"--initial-height":X?"auto":`${yn}px`,...de,...w.style},onDragEnd:()=>{Ue(!1),ge(null),et.current=null},onPointerDown:ct=>{Jn||!We||(ue.current=new Date,Ot(Fn.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(Ue(!0),et.current={x:ct.clientX,y:ct.clientY}))},onPointerUp:()=>{var ct,ft,Rt,Et;if(mt||!We)return;et.current=null;let vn=Number(((ct=je.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wn=Number(((ft=je.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Bn=new Date().getTime()-((Rt=ue.current)==null?void 0:Rt.getTime()),an=ke==="x"?vn:wn,Vn=Math.abs(an)/Bn;if(Math.abs(an)>=xj||Vn>.11){Ot(Fn.current),(Et=w.onDismiss)==null||Et.call(w,w),Le(ke==="x"?vn>0?"right":"left":wn>0?"down":"up"),Un(),$e(!0),Vt(!1);return}Ue(!1),ge(null)},onPointerMove:ct=>{var ft,Rt,Et,vn;if(!et.current||!We||((ft=window.getSelection())==null?void 0:ft.toString().length)>0)return;let wn=ct.clientY-et.current.y,Bn=ct.clientX-et.current.x,an=(Rt=e.swipeDirections)!=null?Rt:Sj(Ee);!ke&&(Math.abs(Bn)>1||Math.abs(wn)>1)&&ge(Math.abs(Bn)>Math.abs(wn)?"x":"y");let Vn={x:0,y:0};ke==="y"?(an.includes("top")||an.includes("bottom"))&&(an.includes("top")&&wn<0||an.includes("bottom")&&wn>0)&&(Vn.y=wn):ke==="x"&&(an.includes("left")||an.includes("right"))&&(an.includes("left")&&Bn<0||an.includes("right")&&Bn>0)&&(Vn.x=Bn),(Math.abs(Vn.x)>0||Math.abs(Vn.y)>0)&&Vt(!0),(Et=je.current)==null||Et.style.setProperty("--swipe-amount-x",`${Vn.x}px`),(vn=je.current)==null||vn.style.setProperty("--swipe-amount-y",`${Vn.y}px`)}},lt&&!w.jsx?Te.createElement("button",{"aria-label":$,"data-disabled":Jn,"data-close-button":!0,onClick:Jn||!We?()=>{}:()=>{var ct;Un(),(ct=w.onDismiss)==null||ct.call(w,w)},className:ns(G==null?void 0:G.closeButton,(a=w==null?void 0:w.classNames)==null?void 0:a.closeButton)},(i=he==null?void 0:he.close)!=null?i:aj):null,w.jsx||p.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:Te.createElement(Te.Fragment,null,ye||w.icon||w.promise?Te.createElement("div",{"data-icon":"",className:ns(G==null?void 0:G.icon,(u=w==null?void 0:w.classNames)==null?void 0:u.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Aa():null,w.type!=="loading"?w.icon||(he==null?void 0:he[ye])||ZE(ye):null):null,Te.createElement("div",{"data-content":"",className:ns(G==null?void 0:G.content,(d=w==null?void 0:w.classNames)==null?void 0:d.content)},Te.createElement("div",{"data-title":"",className:ns(G==null?void 0:G.title,(h=w==null?void 0:w.classNames)==null?void 0:h.title)},typeof w.title=="function"?w.title():w.title),w.description?Te.createElement("div",{"data-description":"",className:ns(re,Ct,G==null?void 0:G.description,(m=w==null?void 0:w.classNames)==null?void 0:m.description)},typeof w.description=="function"?w.description():w.description):null),p.isValidElement(w.cancel)?w.cancel:w.cancel&&$u(w.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||fe,onClick:ct=>{var ft,Rt;$u(w.cancel)&&We&&((Rt=(ft=w.cancel).onClick)==null||Rt.call(ft,ct),Un())},className:ns(G==null?void 0:G.cancelButton,(y=w==null?void 0:w.classNames)==null?void 0:y.cancelButton)},w.cancel.label):null,p.isValidElement(w.action)?w.action:w.action&&$u(w.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||ne,onClick:ct=>{var ft,Rt;$u(w.action)&&((Rt=(ft=w.action).onClick)==null||Rt.call(ft,ct),!ct.defaultPrevented&&Un())},className:ns(G==null?void 0:G.actionButton,(v=w==null?void 0:w.classNames)==null?void 0:v.actionButton)},w.action.label):null))};function Uv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function _j(e,t){let n={};return[e,t].forEach((s,a)=>{let i=a===1,u=i?"--mobile-offset":"--offset",d=i?yj:gj;function h(m){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?n[`${u}-${m}`]=d:n[`${u}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):h(d)}),n}var Cj=p.forwardRef(function(e,t){let{invert:n,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:u,className:d,offset:h,mobileOffset:m,theme:y="light",richColors:v,duration:x,style:w,visibleToasts:_=mj,toastOptions:k,dir:S=Uv(),gap:C=wj,loadingIcon:N,icons:j,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:O}=e,[L,U]=Te.useState([]),K=Te.useMemo(()=>Array.from(new Set([s].concat(L.filter(Z=>Z.position).map(Z=>Z.position)))),[L,s]),[de,fe]=Te.useState([]),[ne,ee]=Te.useState(!1),[re,ce]=Te.useState(!1),[Ee,me]=Te.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),be=Te.useRef(null),X=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=Te.useRef(null),he=Te.useRef(!1),$=Te.useCallback(Z=>{U(ke=>{var ge;return(ge=ke.find(Ce=>Ce.id===Z.id))!=null&&ge.delete||ur.dismiss(Z.id),ke.filter(({id:Ce})=>Ce!==Z.id)})},[]);return Te.useEffect(()=>ur.subscribe(Z=>{if(Z.dismiss){U(ke=>ke.map(ge=>ge.id===Z.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{Sw.flushSync(()=>{U(ke=>{let ge=ke.findIndex(Ce=>Ce.id===Z.id);return ge!==-1?[...ke.slice(0,ge),{...ke[ge],...Z},...ke.slice(ge+1)]:[Z,...ke]})})})}),[]),Te.useEffect(()=>{if(y!=="system"){me(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ke})=>{me(ke?"dark":"light")})}catch{Z.addListener(({matches:ge})=>{try{me(ge?"dark":"light")}catch(Ce){console.error(Ce)}})}},[y]),Te.useEffect(()=>{L.length<=1&&ee(!1)},[L]),Te.useEffect(()=>{let Z=ke=>{var ge,Ce;a.every(Le=>ke[Le]||ke.code===Le)&&(ee(!0),(ge=be.current)==null||ge.focus()),ke.code==="Escape"&&(document.activeElement===be.current||(Ce=be.current)!=null&&Ce.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[a]),Te.useEffect(()=>{if(be.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,he.current=!1)}},[be.current]),Te.createElement("section",{ref:t,"aria-label":`${T} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((Z,ke)=>{var ge;let[Ce,Le]=Z.split("-");return L.length?Te.createElement("ol",{key:Z,dir:S==="auto"?Uv():S,tabIndex:-1,ref:be,className:d,"data-sonner-toaster":!0,"data-theme":Ee,"data-y-position":Ce,"data-lifted":ne&&L.length>1&&!i,"data-x-position":Le,style:{"--front-toast-height":`${((ge=de[0])==null?void 0:ge.height)||0}px`,"--width":`${vj}px`,"--gap":`${C}px`,...w,..._j(h,m)},onBlur:ae=>{he.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(he.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||he.current||(he.current=!0,G.current=ae.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{re||ee(!1)},onDragEnd:()=>ee(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ce(!0)},onPointerUp:()=>ce(!1)},L.filter(ae=>!ae.position&&ke===0||ae.position===Z).map((ae,Pe)=>{var Oe,De;return Te.createElement(kj,{key:ae.id,icons:j,index:Pe,toast:ae,defaultRichColors:v,duration:(Oe=k==null?void 0:k.duration)!=null?Oe:x,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:n,visibleToasts:_,closeButton:(De=k==null?void 0:k.closeButton)!=null?De:u,interacting:re,position:Z,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:$,toasts:L.filter(Ke=>Ke.position==ae.position),heights:de.filter(Ke=>Ke.position==ae.position),setHeights:fe,expandByDefault:i,gap:C,loadingIcon:N,expanded:ne,pauseWhenPageIsHidden:O,swipeDirections:e.swipeDirections})})):null}))});const Ej=({...e})=>{const{theme:t="system"}=JE();return l.jsx(Cj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var jj=kd[" useId ".trim().toString()]||(()=>{}),Nj=0;function Lo(e){const[t,n]=p.useState(jj());return sn(()=>{n(s=>s??String(Nj++))},[e]),t?`radix-${t}`:""}const Tj=["top","right","bottom","left"],Fo=Math.min,Cr=Math.max,ld=Math.round,Fu=Math.floor,Os=e=>({x:e,y:e}),Pj={left:"right",right:"left",bottom:"top",top:"bottom"},Rj={start:"end",end:"start"};function Lp(e,t,n){return Cr(e,Fo(t,n))}function eo(e,t){return typeof e=="function"?e(t):e}function to(e){return e.split("-")[0]}function tl(e){return e.split("-")[1]}function Tm(e){return e==="x"?"y":"x"}function Pm(e){return e==="y"?"height":"width"}const Aj=new Set(["top","bottom"]);function As(e){return Aj.has(to(e))?"y":"x"}function Rm(e){return Tm(As(e))}function Ij(e,t,n){n===void 0&&(n=!1);const s=tl(e),a=Rm(e),i=Pm(a);let u=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(u=cd(u)),[u,cd(u)]}function Oj(e){const t=cd(e);return[$p(e),t,$p(t)]}function $p(e){return e.replace(/start|end/g,t=>Rj[t])}const Bv=["left","right"],Vv=["right","left"],Mj=["top","bottom"],zj=["bottom","top"];function Dj(e,t,n){switch(e){case"top":case"bottom":return n?t?Vv:Bv:t?Bv:Vv;case"left":case"right":return t?Mj:zj;default:return[]}}function Lj(e,t,n,s){const a=tl(e);let i=Dj(to(e),n==="start",s);return a&&(i=i.map(u=>u+"-"+a),t&&(i=i.concat(i.map($p)))),i}function cd(e){return e.replace(/left|right|bottom|top/g,t=>Pj[t])}function $j(e){return{top:0,right:0,bottom:0,left:0,...e}}function hx(e){return typeof e!="number"?$j(e):{top:e,right:e,bottom:e,left:e}}function ud(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Hv(e,t,n){let{reference:s,floating:a}=e;const i=As(t),u=Rm(t),d=Pm(u),h=to(t),m=i==="y",y=s.x+s.width/2-a.width/2,v=s.y+s.height/2-a.height/2,x=s[d]/2-a[d]/2;let w;switch(h){case"top":w={x:y,y:s.y-a.height};break;case"bottom":w={x:y,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:v};break;case"left":w={x:s.x-a.width,y:v};break;default:w={x:s.x,y:s.y}}switch(tl(t)){case"start":w[u]-=x*(n&&m?-1:1);break;case"end":w[u]+=x*(n&&m?-1:1);break}return w}const Fj=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:u}=n,d=i.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:a}),{x:y,y:v}=Hv(m,s,h),x=s,w={},_=0;for(let k=0;k<d.length;k++){const{name:S,fn:C}=d[k],{x:N,y:j,data:T,reset:O}=await C({x:y,y:v,initialPlacement:s,placement:x,strategy:a,middlewareData:w,rects:m,platform:u,elements:{reference:e,floating:t}});y=N??y,v=j??v,w={...w,[S]:{...w[S],...T}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(x=O.placement),O.rects&&(m=O.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:y,y:v}=Hv(m,x,h)),k=-1)}return{x:y,y:v,placement:x,strategy:a,middlewareData:w}};async function oc(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:u,elements:d,strategy:h}=e,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:x=!1,padding:w=0}=eo(t,e),_=hx(w),S=d[x?v==="floating"?"reference":"floating":v],C=ud(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:h})),N=v==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),T=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},O=ud(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:N,offsetParent:j,strategy:h}):N);return{top:(C.top-O.top+_.top)/T.y,bottom:(O.bottom-C.bottom+_.bottom)/T.y,left:(C.left-O.left+_.left)/T.x,right:(O.right-C.right+_.right)/T.x}}const Uj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:i,platform:u,elements:d,middlewareData:h}=t,{element:m,padding:y=0}=eo(e,t)||{};if(m==null)return{};const v=hx(y),x={x:n,y:s},w=Rm(a),_=Pm(w),k=await u.getDimensions(m),S=w==="y",C=S?"top":"left",N=S?"bottom":"right",j=S?"clientHeight":"clientWidth",T=i.reference[_]+i.reference[w]-x[w]-i.floating[_],O=x[w]-i.reference[w],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let U=L?L[j]:0;(!U||!await(u.isElement==null?void 0:u.isElement(L)))&&(U=d.floating[j]||i.floating[_]);const K=T/2-O/2,de=U/2-k[_]/2-1,fe=Fo(v[C],de),ne=Fo(v[N],de),ee=fe,re=U-k[_]-ne,ce=U/2-k[_]/2+K,Ee=Lp(ee,ce,re),me=!h.arrow&&tl(a)!=null&&ce!==Ee&&i.reference[_]/2-(ce<ee?fe:ne)-k[_]/2<0,be=me?ce<ee?ce-ee:ce-re:0;return{[w]:x[w]+be,data:{[w]:Ee,centerOffset:ce-Ee-be,...me&&{alignmentOffset:be}},reset:me}}}),Bj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:i,rects:u,initialPlacement:d,platform:h,elements:m}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:k=!0,...S}=eo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=to(a),N=As(d),j=to(d)===d,T=await(h.isRTL==null?void 0:h.isRTL(m.floating)),O=x||(j||!k?[cd(d)]:Oj(d)),L=_!=="none";!x&&L&&O.push(...Lj(d,k,_,T));const U=[d,...O],K=await oc(t,S),de=[];let fe=((s=i.flip)==null?void 0:s.overflows)||[];if(y&&de.push(K[C]),v){const ce=Ij(a,u,T);de.push(K[ce[0]],K[ce[1]])}if(fe=[...fe,{placement:a,overflows:de}],!de.every(ce=>ce<=0)){var ne,ee;const ce=(((ne=i.flip)==null?void 0:ne.index)||0)+1,Ee=U[ce];if(Ee&&(!(v==="alignment"?N!==As(Ee):!1)||fe.every(X=>As(X.placement)===N?X.overflows[0]>0:!0)))return{data:{index:ce,overflows:fe},reset:{placement:Ee}};let me=(ee=fe.filter(be=>be.overflows[0]<=0).sort((be,X)=>be.overflows[1]-X.overflows[1])[0])==null?void 0:ee.placement;if(!me)switch(w){case"bestFit":{var re;const be=(re=fe.filter(X=>{if(L){const G=As(X.placement);return G===N||G==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(G=>G>0).reduce((G,he)=>G+he,0)]).sort((X,G)=>X[1]-G[1])[0])==null?void 0:re[0];be&&(me=be);break}case"initialPlacement":me=d;break}if(a!==me)return{reset:{placement:me}}}return{}}}};function Wv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Kv(e){return Tj.some(t=>e[t]>=0)}const Vj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=eo(e,t);switch(s){case"referenceHidden":{const i=await oc(t,{...a,elementContext:"reference"}),u=Wv(i,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Kv(u)}}}case"escaped":{const i=await oc(t,{...a,altBoundary:!0}),u=Wv(i,n.floating);return{data:{escapedOffsets:u,escaped:Kv(u)}}}default:return{}}}}},px=new Set(["left","top"]);async function Hj(e,t){const{placement:n,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=to(n),d=tl(n),h=As(n)==="y",m=px.has(u)?-1:1,y=i&&h?-1:1,v=eo(t,e);let{mainAxis:x,crossAxis:w,alignmentAxis:_}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof _=="number"&&(w=d==="end"?_*-1:_),h?{x:w*y,y:x*m}:{x:x*m,y:w*y}}const Wj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:i,placement:u,middlewareData:d}=t,h=await Hj(t,e);return u===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:a+h.x,y:i+h.y,data:{...h,placement:u}}}}},Kj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:u=!1,limiter:d={fn:S=>{let{x:C,y:N}=S;return{x:C,y:N}}},...h}=eo(e,t),m={x:n,y:s},y=await oc(t,h),v=As(to(a)),x=Tm(v);let w=m[x],_=m[v];if(i){const S=x==="y"?"top":"left",C=x==="y"?"bottom":"right",N=w+y[S],j=w-y[C];w=Lp(N,w,j)}if(u){const S=v==="y"?"top":"left",C=v==="y"?"bottom":"right",N=_+y[S],j=_-y[C];_=Lp(N,_,j)}const k=d.fn({...t,[x]:w,[v]:_});return{...k,data:{x:k.x-n,y:k.y-s,enabled:{[x]:i,[v]:u}}}}}},qj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:i,middlewareData:u}=t,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=eo(e,t),y={x:n,y:s},v=As(a),x=Tm(v);let w=y[x],_=y[v];const k=eo(d,t),S=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(h){const j=x==="y"?"height":"width",T=i.reference[x]-i.floating[j]+S.mainAxis,O=i.reference[x]+i.reference[j]-S.mainAxis;w<T?w=T:w>O&&(w=O)}if(m){var C,N;const j=x==="y"?"width":"height",T=px.has(to(a)),O=i.reference[v]-i.floating[j]+(T&&((C=u.offset)==null?void 0:C[v])||0)+(T?0:S.crossAxis),L=i.reference[v]+i.reference[j]+(T?0:((N=u.offset)==null?void 0:N[v])||0)-(T?S.crossAxis:0);_<O?_=O:_>L&&(_=L)}return{[x]:w,[v]:_}}}},Gj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:i,platform:u,elements:d}=t,{apply:h=()=>{},...m}=eo(e,t),y=await oc(t,m),v=to(a),x=tl(a),w=As(a)==="y",{width:_,height:k}=i.floating;let S,C;v==="top"||v==="bottom"?(S=v,C=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(C=v,S=x==="end"?"top":"bottom");const N=k-y.top-y.bottom,j=_-y.left-y.right,T=Fo(k-y[S],N),O=Fo(_-y[C],j),L=!t.middlewareData.shift;let U=T,K=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(K=j),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(U=N),L&&!x){const fe=Cr(y.left,0),ne=Cr(y.right,0),ee=Cr(y.top,0),re=Cr(y.bottom,0);w?K=_-2*(fe!==0||ne!==0?fe+ne:Cr(y.left,y.right)):U=k-2*(ee!==0||re!==0?ee+re:Cr(y.top,y.bottom))}await h({...t,availableWidth:K,availableHeight:U});const de=await u.getDimensions(d.floating);return _!==de.width||k!==de.height?{reset:{rects:!0}}:{}}}};function Td(){return typeof window<"u"}function nl(e){return mx(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ls(e){var t;return(t=(mx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mx(e){return Td()?e instanceof Node||e instanceof Tr(e).Node:!1}function fs(e){return Td()?e instanceof Element||e instanceof Tr(e).Element:!1}function zs(e){return Td()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function qv(e){return!Td()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}const Qj=new Set(["inline","contents"]);function kc(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=hs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!Qj.has(a)}const Yj=new Set(["table","td","th"]);function Xj(e){return Yj.has(nl(e))}const Jj=[":popover-open",":modal"];function Pd(e){return Jj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Zj=["transform","translate","scale","rotate","perspective"],eN=["transform","translate","scale","rotate","perspective","filter"],tN=["paint","layout","strict","content"];function Am(e){const t=Im(),n=fs(e)?hs(e):e;return Zj.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||eN.some(s=>(n.willChange||"").includes(s))||tN.some(s=>(n.contain||"").includes(s))}function nN(e){let t=Uo(e);for(;zs(t)&&!Qi(t);){if(Am(t))return t;if(Pd(t))return null;t=Uo(t)}return null}function Im(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rN=new Set(["html","body","#document"]);function Qi(e){return rN.has(nl(e))}function hs(e){return Tr(e).getComputedStyle(e)}function Rd(e){return fs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Uo(e){if(nl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qv(e)&&e.host||Ls(e);return qv(t)?t.host:t}function gx(e){const t=Uo(e);return Qi(t)?e.ownerDocument?e.ownerDocument.body:e.body:zs(t)&&kc(t)?t:gx(t)}function ac(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=gx(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),u=Tr(a);if(i){const d=Fp(u);return t.concat(u,u.visualViewport||[],kc(a)?a:[],d&&n?ac(d):[])}return t.concat(a,ac(a,[],n))}function Fp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yx(e){const t=hs(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=zs(e),i=a?e.offsetWidth:n,u=a?e.offsetHeight:s,d=ld(n)!==i||ld(s)!==u;return d&&(n=i,s=u),{width:n,height:s,$:d}}function Om(e){return fs(e)?e:e.contextElement}function Li(e){const t=Om(e);if(!zs(t))return Os(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:i}=yx(t);let u=(i?ld(n.width):n.width)/s,d=(i?ld(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const sN=Os(0);function vx(e){const t=Tr(e);return!Im()||!t.visualViewport?sN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Tr(e)?!1:t}function Na(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Om(e);let u=Os(1);t&&(s?fs(s)&&(u=Li(s)):u=Li(e));const d=oN(i,n,s)?vx(i):Os(0);let h=(a.left+d.x)/u.x,m=(a.top+d.y)/u.y,y=a.width/u.x,v=a.height/u.y;if(i){const x=Tr(i),w=s&&fs(s)?Tr(s):s;let _=x,k=Fp(_);for(;k&&s&&w!==_;){const S=Li(k),C=k.getBoundingClientRect(),N=hs(k),j=C.left+(k.clientLeft+parseFloat(N.paddingLeft))*S.x,T=C.top+(k.clientTop+parseFloat(N.paddingTop))*S.y;h*=S.x,m*=S.y,y*=S.x,v*=S.y,h+=j,m+=T,_=Tr(k),k=Fp(_)}}return ud({width:y,height:v,x:h,y:m})}function Ad(e,t){const n=Rd(e).scrollLeft;return t?t.left+n:Na(Ls(e)).left+n}function wx(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Ad(e,n),a=n.top+t.scrollTop;return{x:s,y:a}}function aN(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const i=a==="fixed",u=Ls(s),d=t?Pd(t.floating):!1;if(s===u||d&&i)return n;let h={scrollLeft:0,scrollTop:0},m=Os(1);const y=Os(0),v=zs(s);if((v||!v&&!i)&&((nl(s)!=="body"||kc(u))&&(h=Rd(s)),zs(s))){const w=Na(s);m=Li(s),y.x=w.x+s.clientLeft,y.y=w.y+s.clientTop}const x=u&&!v&&!i?wx(u,h):Os(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+y.x+x.x,y:n.y*m.y-h.scrollTop*m.y+y.y+x.y}}function iN(e){return Array.from(e.getClientRects())}function lN(e){const t=Ls(e),n=Rd(e),s=e.ownerDocument.body,a=Cr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Cr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+Ad(e);const d=-n.scrollTop;return hs(s).direction==="rtl"&&(u+=Cr(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:u,y:d}}const Gv=25;function cN(e,t){const n=Tr(e),s=Ls(e),a=n.visualViewport;let i=s.clientWidth,u=s.clientHeight,d=0,h=0;if(a){i=a.width,u=a.height;const y=Im();(!y||y&&t==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}const m=Ad(s);if(m<=0){const y=s.ownerDocument,v=y.body,x=getComputedStyle(v),w=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,_=Math.abs(s.clientWidth-v.clientWidth-w);_<=Gv&&(i-=_)}else m<=Gv&&(i+=m);return{width:i,height:u,x:d,y:h}}const uN=new Set(["absolute","fixed"]);function dN(e,t){const n=Na(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,i=zs(e)?Li(e):Os(1),u=e.clientWidth*i.x,d=e.clientHeight*i.y,h=a*i.x,m=s*i.y;return{width:u,height:d,x:h,y:m}}function Qv(e,t,n){let s;if(t==="viewport")s=cN(e,n);else if(t==="document")s=lN(Ls(e));else if(fs(t))s=dN(t,n);else{const a=vx(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ud(s)}function xx(e,t){const n=Uo(e);return n===t||!fs(n)||Qi(n)?!1:hs(n).position==="fixed"||xx(n,t)}function fN(e,t){const n=t.get(e);if(n)return n;let s=ac(e,[],!1).filter(d=>fs(d)&&nl(d)!=="body"),a=null;const i=hs(e).position==="fixed";let u=i?Uo(e):e;for(;fs(u)&&!Qi(u);){const d=hs(u),h=Am(u);!h&&d.position==="fixed"&&(a=null),(i?!h&&!a:!h&&d.position==="static"&&!!a&&uN.has(a.position)||kc(u)&&!h&&xx(e,u))?s=s.filter(y=>y!==u):a=d,u=Uo(u)}return t.set(e,s),s}function hN(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const u=[...n==="clippingAncestors"?Pd(t)?[]:fN(t,this._c):[].concat(n),s],d=u[0],h=u.reduce((m,y)=>{const v=Qv(t,y,a);return m.top=Cr(v.top,m.top),m.right=Fo(v.right,m.right),m.bottom=Fo(v.bottom,m.bottom),m.left=Cr(v.left,m.left),m},Qv(t,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function pN(e){const{width:t,height:n}=yx(e);return{width:t,height:n}}function mN(e,t,n){const s=zs(t),a=Ls(t),i=n==="fixed",u=Na(e,!0,i,t);let d={scrollLeft:0,scrollTop:0};const h=Os(0);function m(){h.x=Ad(a)}if(s||!s&&!i)if((nl(t)!=="body"||kc(a))&&(d=Rd(t)),s){const w=Na(t,!0,i,t);h.x=w.x+t.clientLeft,h.y=w.y+t.clientTop}else a&&m();i&&!s&&a&&m();const y=a&&!s&&!i?wx(a,d):Os(0),v=u.left+d.scrollLeft-h.x-y.x,x=u.top+d.scrollTop-h.y-y.y;return{x:v,y:x,width:u.width,height:u.height}}function ep(e){return hs(e).position==="static"}function Yv(e,t){if(!zs(e)||hs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ls(e)===n&&(n=n.ownerDocument.body),n}function bx(e,t){const n=Tr(e);if(Pd(e))return n;if(!zs(e)){let a=Uo(e);for(;a&&!Qi(a);){if(fs(a)&&!ep(a))return a;a=Uo(a)}return n}let s=Yv(e,t);for(;s&&Xj(s)&&ep(s);)s=Yv(s,t);return s&&Qi(s)&&ep(s)&&!Am(s)?n:s||nN(e)||n}const gN=async function(e){const t=this.getOffsetParent||bx,n=this.getDimensions,s=await n(e.floating);return{reference:mN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function yN(e){return hs(e).direction==="rtl"}const vN={convertOffsetParentRelativeRectToViewportRelativeRect:aN,getDocumentElement:Ls,getClippingRect:hN,getOffsetParent:bx,getElementRects:gN,getClientRects:iN,getDimensions:pN,getScale:Li,isElement:fs,isRTL:yN};function Sx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wN(e,t){let n=null,s;const a=Ls(e);function i(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),i();const m=e.getBoundingClientRect(),{left:y,top:v,width:x,height:w}=m;if(d||t(),!x||!w)return;const _=Fu(v),k=Fu(a.clientWidth-(y+x)),S=Fu(a.clientHeight-(v+w)),C=Fu(y),j={rootMargin:-_+"px "+-k+"px "+-S+"px "+-C+"px",threshold:Cr(0,Fo(1,h))||1};let T=!0;function O(L){const U=L[0].intersectionRatio;if(U!==h){if(!T)return u();U?u(!1,U):s=setTimeout(()=>{u(!1,1e-7)},1e3)}U===1&&!Sx(m,e.getBoundingClientRect())&&u(),T=!1}try{n=new IntersectionObserver(O,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(O,j)}n.observe(e)}return u(!0),i}function xN(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=Om(e),y=a||i?[...m?ac(m):[],...ac(t)]:[];y.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const v=m&&d?wN(m,n):null;let x=-1,w=null;u&&(w=new ResizeObserver(C=>{let[N]=C;N&&N.target===m&&w&&(w.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=w)==null||j.observe(t)})),n()}),m&&!h&&w.observe(m),w.observe(t));let _,k=h?Na(e):null;h&&S();function S(){const C=Na(e);k&&!Sx(k,C)&&n(),k=C,_=requestAnimationFrame(S)}return n(),()=>{var C;y.forEach(N=>{a&&N.removeEventListener("scroll",n),i&&N.removeEventListener("resize",n)}),v==null||v(),(C=w)==null||C.disconnect(),w=null,h&&cancelAnimationFrame(_)}}const bN=Wj,SN=Kj,kN=Bj,_N=Gj,CN=Vj,Xv=Uj,EN=qj,jN=(e,t,n)=>{const s=new Map,a={platform:vN,...n},i={...a.platform,_c:s};return Fj(e,t,{...a,platform:i})};var NN=typeof document<"u",TN=function(){},td=NN?p.useLayoutEffect:TN;function dd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!dd(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!dd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function kx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jv(e,t){const n=kx(e);return Math.round(t*n)/n}function tp(e){const t=p.useRef(e);return td(()=>{t.current=e}),t}function PN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=e,[y,v]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,w]=p.useState(s);dd(x,s)||w(s);const[_,k]=p.useState(null),[S,C]=p.useState(null),N=p.useCallback(X=>{X!==L.current&&(L.current=X,k(X))},[]),j=p.useCallback(X=>{X!==U.current&&(U.current=X,C(X))},[]),T=i||_,O=u||S,L=p.useRef(null),U=p.useRef(null),K=p.useRef(y),de=h!=null,fe=tp(h),ne=tp(a),ee=tp(m),re=p.useCallback(()=>{if(!L.current||!U.current)return;const X={placement:t,strategy:n,middleware:x};ne.current&&(X.platform=ne.current),jN(L.current,U.current,X).then(G=>{const he={...G,isPositioned:ee.current!==!1};ce.current&&!dd(K.current,he)&&(K.current=he,Ji.flushSync(()=>{v(he)}))})},[x,t,n,ne,ee]);td(()=>{m===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,v(X=>({...X,isPositioned:!1})))},[m]);const ce=p.useRef(!1);td(()=>(ce.current=!0,()=>{ce.current=!1}),[]),td(()=>{if(T&&(L.current=T),O&&(U.current=O),T&&O){if(fe.current)return fe.current(T,O,re);re()}},[T,O,re,fe,de]);const Ee=p.useMemo(()=>({reference:L,floating:U,setReference:N,setFloating:j}),[N,j]),me=p.useMemo(()=>({reference:T,floating:O}),[T,O]),be=p.useMemo(()=>{const X={position:n,left:0,top:0};if(!me.floating)return X;const G=Jv(me.floating,y.x),he=Jv(me.floating,y.y);return d?{...X,transform:"translate("+G+"px, "+he+"px)",...kx(me.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:he}},[n,d,me.floating,y.x,y.y]);return p.useMemo(()=>({...y,update:re,refs:Ee,elements:me,floatingStyles:be}),[y,re,Ee,me,be])}const RN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?Xv({element:s.current,padding:a}).fn(n):{}:s?Xv({element:s,padding:a}).fn(n):{}}}},AN=(e,t)=>({...bN(e),options:[e,t]}),IN=(e,t)=>({...SN(e),options:[e,t]}),ON=(e,t)=>({...EN(e),options:[e,t]}),MN=(e,t)=>({...kN(e),options:[e,t]}),zN=(e,t)=>({..._N(e),options:[e,t]}),DN=(e,t)=>({...CN(e),options:[e,t]}),LN=(e,t)=>({...RN(e),options:[e,t]});var $N="Arrow",_x=p.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...i}=e;return l.jsx(Ze.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});_x.displayName=$N;var FN=_x;function _c(e){const[t,n]=p.useState(void 0);return sn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let u,d;if("borderBoxSize"in i){const h=i.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=e.offsetWidth,d=e.offsetHeight;n({width:u,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Mm="Popper",[Cx,Id]=fr(Mm),[UN,Ex]=Cx(Mm),jx=e=>{const{__scopePopper:t,children:n}=e,[s,a]=p.useState(null);return l.jsx(UN,{scope:t,anchor:s,onAnchorChange:a,children:n})};jx.displayName=Mm;var Nx="PopperAnchor",Tx=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,i=Ex(Nx,n),u=p.useRef(null),d=pt(t,u),h=p.useRef(null);return p.useEffect(()=>{const m=h.current;h.current=(s==null?void 0:s.current)||u.current,m!==h.current&&i.onAnchorChange(h.current)}),s?null:l.jsx(Ze.div,{...a,ref:d})});Tx.displayName=Nx;var zm="PopperContent",[BN,VN]=Cx(zm),Px=p.forwardRef((e,t)=>{var ae,Pe,Oe,De,Ke,Ue;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:_,...k}=e,S=Ex(zm,n),[C,N]=p.useState(null),j=pt(t,mt=>N(mt)),[T,O]=p.useState(null),L=_c(T),U=(L==null?void 0:L.width)??0,K=(L==null?void 0:L.height)??0,de=s+(i!=="center"?"-"+i:""),fe=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ne=Array.isArray(m)?m:[m],ee=ne.length>0,re={padding:fe,boundary:ne.filter(WN),altBoundary:ee},{refs:ce,floatingStyles:Ee,placement:me,isPositioned:be,middlewareData:X}=PN({strategy:"fixed",placement:de,whileElementsMounted:(...mt)=>xN(...mt,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[AN({mainAxis:a+K,alignmentAxis:u}),h&&IN({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?ON():void 0,...re}),h&&MN({...re}),zN({...re,apply:({elements:mt,rects:$e,availableWidth:Lt,availableHeight:Vt})=>{const{width:Kt,height:Ot}=$e.reference,yn=mt.floating.style;yn.setProperty("--radix-popper-available-width",`${Lt}px`),yn.setProperty("--radix-popper-available-height",`${Vt}px`),yn.setProperty("--radix-popper-anchor-width",`${Kt}px`),yn.setProperty("--radix-popper-anchor-height",`${Ot}px`)}}),T&&LN({element:T,padding:d}),KN({arrowWidth:U,arrowHeight:K}),x&&DN({strategy:"referenceHidden",...re})]}),[G,he]=Ix(me),$=un(_);sn(()=>{be&&($==null||$())},[be,$]);const Z=(ae=X.arrow)==null?void 0:ae.x,ke=(Pe=X.arrow)==null?void 0:Pe.y,ge=((Oe=X.arrow)==null?void 0:Oe.centerOffset)!==0,[Ce,Le]=p.useState();return sn(()=>{C&&Le(window.getComputedStyle(C).zIndex)},[C]),l.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:be?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(De=X.transformOrigin)==null?void 0:De.x,(Ke=X.transformOrigin)==null?void 0:Ke.y].join(" "),...((Ue=X.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(BN,{scope:n,placedSide:G,onArrowChange:O,arrowX:Z,arrowY:ke,shouldHideArrow:ge,children:l.jsx(Ze.div,{"data-side":G,"data-align":he,...k,ref:j,style:{...k.style,animation:be?void 0:"none"}})})})});Px.displayName=zm;var Rx="PopperArrow",HN={top:"bottom",right:"left",bottom:"top",left:"right"},Ax=p.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,i=VN(Rx,s),u=HN[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(FN,{...a,ref:n,style:{...a.style,display:"block"}})})});Ax.displayName=Rx;function WN(e){return e!==null}var KN=e=>({name:"transformOrigin",options:e,fn(t){var S,C,N;const{placement:n,rects:s,middlewareData:a}=t,u=((S=a.arrow)==null?void 0:S.centerOffset)!==0,d=u?0:e.arrowWidth,h=u?0:e.arrowHeight,[m,y]=Ix(n),v={start:"0%",center:"50%",end:"100%"}[y],x=(((C=a.arrow)==null?void 0:C.x)??0)+d/2,w=(((N=a.arrow)==null?void 0:N.y)??0)+h/2;let _="",k="";return m==="bottom"?(_=u?v:`${x}px`,k=`${-h}px`):m==="top"?(_=u?v:`${x}px`,k=`${s.floating.height+h}px`):m==="right"?(_=`${-h}px`,k=u?v:`${w}px`):m==="left"&&(_=`${s.floating.width+h}px`,k=u?v:`${w}px`),{data:{x:_,y:k}}}});function Ix(e){const[t,n="center"]=e.split("-");return[t,n]}var qN=jx,Ox=Tx,Mx=Px,zx=Ax,GN=Symbol("radix.slottable");function QN(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=GN,t}var[Od]=fr("Tooltip",[Id]),Dm=Id(),Dx="TooltipProvider",YN=700,Zv="tooltip.open",[XN,Lx]=Od(Dx),$x=e=>{const{__scopeTooltip:t,delayDuration:n=YN,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,u=p.useRef(!0),d=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),l.jsx(XN,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:p.useCallback(m=>{d.current=m},[]),disableHoverableContent:a,children:i})};$x.displayName=Dx;var Fx="Tooltip",[c5,Md]=Od(Fx),Up="TooltipTrigger",JN=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Md(Up,n),i=Lx(Up,n),u=Dm(n),d=p.useRef(null),h=pt(t,d,a.onTriggerChange),m=p.useRef(!1),y=p.useRef(!1),v=p.useCallback(()=>m.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),l.jsx(Ox,{asChild:!0,...u,children:l.jsx(Ze.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:h,onPointerMove:Ve(e.onPointerMove,x=>{x.pointerType!=="touch"&&!y.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ve(e.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:Ve(e.onPointerDown,()=>{a.open&&a.onClose(),m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ve(e.onFocus,()=>{m.current||a.onOpen()}),onBlur:Ve(e.onBlur,a.onClose),onClick:Ve(e.onClick,a.onClose)})})});JN.displayName=Up;var ZN="TooltipPortal",[u5,e2]=Od(ZN,{forceMount:void 0}),Yi="TooltipContent",Ux=p.forwardRef((e,t)=>{const n=e2(Yi,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...i}=e,u=Md(Yi,e.__scopeTooltip);return l.jsx(Ir,{present:s||u.open,children:u.disableHoverableContent?l.jsx(Bx,{side:a,...i,ref:t}):l.jsx(t2,{side:a,...i,ref:t})})}),t2=p.forwardRef((e,t)=>{const n=Md(Yi,e.__scopeTooltip),s=Lx(Yi,e.__scopeTooltip),a=p.useRef(null),i=pt(t,a),[u,d]=p.useState(null),{trigger:h,onClose:m}=n,y=a.current,{onPointerInTransitChange:v}=s,x=p.useCallback(()=>{d(null),v(!1)},[v]),w=p.useCallback((_,k)=>{const S=_.currentTarget,C={x:_.clientX,y:_.clientY},N=a2(C,S.getBoundingClientRect()),j=i2(C,N),T=l2(k.getBoundingClientRect()),O=u2([...j,...T]);d(O),v(!0)},[v]);return p.useEffect(()=>()=>x(),[x]),p.useEffect(()=>{if(h&&y){const _=S=>w(S,y),k=S=>w(S,h);return h.addEventListener("pointerleave",_),y.addEventListener("pointerleave",k),()=>{h.removeEventListener("pointerleave",_),y.removeEventListener("pointerleave",k)}}},[h,y,w,x]),p.useEffect(()=>{if(u){const _=k=>{const S=k.target,C={x:k.clientX,y:k.clientY},N=(h==null?void 0:h.contains(S))||(y==null?void 0:y.contains(S)),j=!c2(C,u);N?x():j&&(x(),m())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[h,y,u,m,x]),l.jsx(Bx,{...e,ref:i})}),[n2,r2]=Od(Fx,{isInside:!1}),s2=QN("TooltipContent"),Bx=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:u,...d}=e,h=Md(Yi,n),m=Dm(n),{onClose:y}=h;return p.useEffect(()=>(document.addEventListener(Zv,y),()=>document.removeEventListener(Zv,y)),[y]),p.useEffect(()=>{if(h.trigger){const v=x=>{const w=x.target;w!=null&&w.contains(h.trigger)&&y()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[h.trigger,y]),l.jsx(bc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:y,children:l.jsxs(Mx,{"data-state":h.stateAttribute,...m,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(s2,{children:s}),l.jsx(n2,{scope:n,isInside:!0,children:l.jsx(_C,{id:h.contentId,role:"tooltip",children:a||s})})]})})});Ux.displayName=Yi;var Vx="TooltipArrow",o2=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,a=Dm(n);return r2(Vx,n).isInside?null:l.jsx(zx,{...a,...s,ref:t})});o2.displayName=Vx;function a2(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,s,a,i)){case i:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function i2(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function l2(e){const{top:t,right:n,bottom:s,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:s},{x:a,y:s}]}function c2(e,t){const{x:n,y:s}=e;let a=!1;for(let i=0,u=t.length-1;i<t.length;u=i++){const d=t[i],h=t[u],m=d.x,y=d.y,v=h.x,x=h.y;y>s!=x>s&&n<(v-m)*(s-y)/(x-y)+m&&(a=!a)}return a}function u2(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),d2(t)}function d2(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],u=t[t.length-2];if((i.x-u.x)*(a.y-u.y)>=(i.y-u.y)*(a.x-u.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const i=n[n.length-1],u=n[n.length-2];if((i.x-u.x)*(a.y-u.y)>=(i.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var f2=$x,Hx=Ux;const h2=f2,p2=p.forwardRef(({className:e,sideOffset:t=4,...n},s)=>l.jsx(Hx,{ref:s,sideOffset:t,className:ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));p2.displayName=Hx.displayName;var zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},m2={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ro,gm,dw,g2=(dw=class{constructor(){kt(this,Ro,m2);kt(this,gm,!1)}setTimeoutProvider(e){dt(this,Ro,e)}setTimeout(e,t){return le(this,Ro).setTimeout(e,t)}clearTimeout(e){le(this,Ro).clearTimeout(e)}setInterval(e,t){return le(this,Ro).setInterval(e,t)}clearInterval(e){le(this,Ro).clearInterval(e)}},Ro=new WeakMap,gm=new WeakMap,dw),Bp=new g2;function y2(e){setTimeout(e,0)}var Dd=typeof window>"u"||"Deno"in globalThis;function os(){}function v2(e,t){return typeof e=="function"?e(t):e}function w2(e){return typeof e=="number"&&e>=0&&e!==1/0}function x2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vp(e,t){return typeof e=="function"?e(t):e}function b2(e,t){return typeof e=="function"?e(t):e}function e0(e,t){const{type:n="all",exact:s,fetchStatus:a,predicate:i,queryKey:u,stale:d}=e;if(u){if(s){if(t.queryHash!==Lm(u,t.options))return!1}else if(!lc(t.queryKey,u))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||i&&!i(t))}function t0(e,t){const{exact:n,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ic(t.options.mutationKey)!==ic(i))return!1}else if(!lc(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Lm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ic)(e)}function ic(e){return JSON.stringify(e,(t,n)=>Hp(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function lc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>lc(e[n],t[n])):!1}var S2=Object.prototype.hasOwnProperty;function Wx(e,t){if(e===t)return e;const n=n0(e)&&n0(t);if(!n&&!(Hp(e)&&Hp(t)))return t;const a=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),u=i.length,d=n?new Array(u):{};let h=0;for(let m=0;m<u;m++){const y=n?m:i[m],v=e[y],x=t[y];if(v===x){d[y]=v,(n?m<a:S2.call(e,y))&&h++;continue}if(v===null||x===null||typeof v!="object"||typeof x!="object"){d[y]=x;continue}const w=Wx(v,x);d[y]=w,w===v&&h++}return a===u&&h===a?e:d}function n0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Hp(e){if(!r0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!r0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function r0(e){return Object.prototype.toString.call(e)==="[object Object]"}function k2(e){return new Promise(t=>{Bp.setTimeout(t,e)})}function _2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Wx(e,t):t}function C2(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function E2(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var $m=Symbol();function Kx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$m?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xa,Ao,Ui,fw,j2=(fw=class extends zd{constructor(){super();kt(this,xa);kt(this,Ao);kt(this,Ui);dt(this,Ui,t=>{if(!Dd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){le(this,Ao)||this.setEventListener(le(this,Ui))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Ao))==null||t.call(this),dt(this,Ao,void 0))}setEventListener(t){var n;dt(this,Ui,t),(n=le(this,Ao))==null||n.call(this),dt(this,Ao,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){le(this,xa)!==t&&(dt(this,xa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof le(this,xa)=="boolean"?le(this,xa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xa=new WeakMap,Ao=new WeakMap,Ui=new WeakMap,fw),qx=new j2;function N2(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},n.reject=a=>{s({status:"rejected",reason:a}),t(a)},n}var T2=y2;function P2(){let e=[],t=0,n=d=>{d()},s=d=>{d()},a=T2;const i=d=>{t?e.push(d):a(()=>{n(d)})},u=()=>{const d=e;e=[],d.length&&a(()=>{s(()=>{d.forEach(h=>{n(h)})})})};return{batch:d=>{let h;t++;try{h=d()}finally{t--,t||u()}return h},batchCalls:d=>(...h)=>{i(()=>{d(...h)})},schedule:i,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{a=d}}}var Gn=P2(),Bi,Io,Vi,hw,R2=(hw=class extends zd{constructor(){super();kt(this,Bi,!0);kt(this,Io);kt(this,Vi);dt(this,Vi,t=>{if(!Dd&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){le(this,Io)||this.setEventListener(le(this,Vi))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Io))==null||t.call(this),dt(this,Io,void 0))}setEventListener(t){var n;dt(this,Vi,t),(n=le(this,Io))==null||n.call(this),dt(this,Io,t(this.setOnline.bind(this)))}setOnline(t){le(this,Bi)!==t&&(dt(this,Bi,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return le(this,Bi)}},Bi=new WeakMap,Io=new WeakMap,Vi=new WeakMap,hw),fd=new R2;function A2(e){return Math.min(1e3*2**e,3e4)}function Gx(e){return(e??"online")==="online"?fd.isOnline():!0}var Wp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qx(e){let t=!1,n=0,s;const a=N2(),i=()=>a.status!=="pending",u=k=>{var S;if(!i()){const C=new Wp(k);x(C),(S=e.onCancel)==null||S.call(e,C)}},d=()=>{t=!0},h=()=>{t=!1},m=()=>qx.isFocused()&&(e.networkMode==="always"||fd.isOnline())&&e.canRun(),y=()=>Gx(e.networkMode)&&e.canRun(),v=k=>{i()||(s==null||s(),a.resolve(k))},x=k=>{i()||(s==null||s(),a.reject(k))},w=()=>new Promise(k=>{var S;s=C=>{(i()||m())&&k(C)},(S=e.onPause)==null||S.call(e)}).then(()=>{var k;s=void 0,i()||(k=e.onContinue)==null||k.call(e)}),_=()=>{if(i())return;let k;const S=n===0?e.initialPromise:void 0;try{k=S??e.fn()}catch(C){k=Promise.reject(C)}Promise.resolve(k).then(v).catch(C=>{var L;if(i())return;const N=e.retry??(Dd?0:3),j=e.retryDelay??A2,T=typeof j=="function"?j(n,C):j,O=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,C);if(t||!O){x(C);return}n++,(L=e.onFail)==null||L.call(e,n,C),k2(T).then(()=>m()?void 0:w()).then(()=>{t?x(C):_()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(s==null||s(),a),cancelRetry:d,continueRetry:h,canStart:y,start:()=>(y()?_():w().then(_),a)}}var ba,pw,Yx=(pw=class{constructor(){kt(this,ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),w2(this.gcTime)&&dt(this,ba,Bp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Dd?1/0:300*1e3))}clearGcTimeout(){le(this,ba)&&(Bp.clearTimeout(le(this,ba)),dt(this,ba,void 0))}},ba=new WeakMap,pw),Sa,Hi,Hr,ka,kn,vc,_a,is,Xs,mw,I2=(mw=class extends Yx{constructor(t){super();kt(this,is);kt(this,Sa);kt(this,Hi);kt(this,Hr);kt(this,ka);kt(this,kn);kt(this,vc);kt(this,_a);dt(this,_a,!1),dt(this,vc,t.defaultOptions),this.setOptions(t.options),this.observers=[],dt(this,ka,t.client),dt(this,Hr,le(this,ka).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,dt(this,Sa,o0(this.options)),this.state=t.state??le(this,Sa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,kn))==null?void 0:t.promise}setOptions(t){if(this.options={...le(this,vc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=o0(this.options);n.data!==void 0&&(this.setState(s0(n.data,n.dataUpdatedAt)),dt(this,Sa,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Hr).remove(this)}setData(t,n){const s=_2(this.state.data,t,this.options);return Ln(this,is,Xs).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){Ln(this,is,Xs).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,a;const n=(s=le(this,kn))==null?void 0:s.promise;return(a=le(this,kn))==null||a.cancel(t),n?n.then(os).catch(os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Sa))}isActive(){return this.observers.some(t=>b2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$m||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Vp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!x2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,kn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,kn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(le(this,kn)&&(le(this,_a)?le(this,kn).cancel({revert:!0}):le(this,kn).cancelRetry()),this.scheduleGc()),le(this,Hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ln(this,is,Xs).call(this,{type:"invalidate"})}async fetch(t,n){var h,m,y,v,x,w,_,k,S,C,N,j;if(this.state.fetchStatus!=="idle"&&((h=le(this,kn))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(le(this,kn))return le(this,kn).continueRetry(),le(this,kn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(O=>O.options.queryFn);T&&this.setOptions(T.options)}const s=new AbortController,a=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(dt(this,_a,!0),s.signal)})},i=()=>{const T=Kx(this.options,n),L=(()=>{const U={client:le(this,ka),queryKey:this.queryKey,meta:this.meta};return a(U),U})();return dt(this,_a,!1),this.options.persister?this.options.persister(T,L,this):T(L)},d=(()=>{const T={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:le(this,ka),state:this.state,fetchFn:i};return a(T),T})();(m=this.options.behavior)==null||m.onFetch(d,this),dt(this,Hi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=d.fetchOptions)==null?void 0:y.meta))&&Ln(this,is,Xs).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta}),dt(this,kn,Qx({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,onCancel:T=>{T instanceof Wp&&T.revert&&this.setState({...le(this,Hi),fetchStatus:"idle"}),s.abort()},onFail:(T,O)=>{Ln(this,is,Xs).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{Ln(this,is,Xs).call(this,{type:"pause"})},onContinue:()=>{Ln(this,is,Xs).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const T=await le(this,kn).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(w=(x=le(this,Hr).config).onSuccess)==null||w.call(x,T,this),(k=(_=le(this,Hr).config).onSettled)==null||k.call(_,T,this.state.error,this),T}catch(T){if(T instanceof Wp){if(T.silent)return le(this,kn).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw Ln(this,is,Xs).call(this,{type:"error",error:T}),(C=(S=le(this,Hr).config).onError)==null||C.call(S,T,this),(j=(N=le(this,Hr).config).onSettled)==null||j.call(N,this.state.data,T,this),T}finally{this.scheduleGc()}}},Sa=new WeakMap,Hi=new WeakMap,Hr=new WeakMap,ka=new WeakMap,kn=new WeakMap,vc=new WeakMap,_a=new WeakMap,is=new WeakSet,Xs=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...O2(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,...s0(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return dt(this,Hi,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),Gn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),le(this,Hr).notify({query:this,type:"updated",action:t})})},mw);function O2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function s0(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function o0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function a0(e){return{onFetch:(t,n)=>{var y,v,x,w,_;const s=t.options,a=(x=(v=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:x.direction,i=((w=t.state.data)==null?void 0:w.pages)||[],u=((_=t.state.data)==null?void 0:_.pageParams)||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let k=!1;const S=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?k=!0:t.signal.addEventListener("abort",()=>{k=!0}),t.signal)})},C=Kx(t.options,t.fetchOptions),N=async(j,T,O)=>{if(k)return Promise.reject();if(T==null&&j.pages.length)return Promise.resolve(j);const U=(()=>{const ne={client:t.client,queryKey:t.queryKey,pageParam:T,direction:O?"backward":"forward",meta:t.options.meta};return S(ne),ne})(),K=await C(U),{maxPages:de}=t.options,fe=O?E2:C2;return{pages:fe(j.pages,K,de),pageParams:fe(j.pageParams,T,de)}};if(a&&i.length){const j=a==="backward",T=j?M2:i0,O={pages:i,pageParams:u},L=T(s,O);d=await N(O,L,j)}else{const j=e??i.length;do{const T=h===0?u[0]??s.initialPageParam:i0(s,d);if(h>0&&T==null)break;d=await N(d,T),h++}while(h<j)}return d};t.options.persister?t.fetchFn=()=>{var k,S;return(S=(k=t.options).persister)==null?void 0:S.call(k,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function i0(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function M2(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var wc,Es,qn,Ca,js,jo,gw,z2=(gw=class extends Yx{constructor(t){super();kt(this,js);kt(this,wc);kt(this,Es);kt(this,qn);kt(this,Ca);dt(this,wc,t.client),this.mutationId=t.mutationId,dt(this,qn,t.mutationCache),dt(this,Es,[]),this.state=t.state||D2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,Es).includes(t)||(le(this,Es).push(t),this.clearGcTimeout(),le(this,qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){dt(this,Es,le(this,Es).filter(n=>n!==t)),this.scheduleGc(),le(this,qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,Es).length||(this.state.status==="pending"?this.scheduleGc():le(this,qn).remove(this))}continue(){var t;return((t=le(this,Ca))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,d,h,m,y,v,x,w,_,k,S,C,N,j,T,O,L,U,K,de;const n=()=>{Ln(this,js,jo).call(this,{type:"continue"})},s={client:le(this,wc),meta:this.options.meta,mutationKey:this.options.mutationKey};dt(this,Ca,Qx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(fe,ne)=>{Ln(this,js,jo).call(this,{type:"failed",failureCount:fe,error:ne})},onPause:()=>{Ln(this,js,jo).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,qn).canRun(this)}));const a=this.state.status==="pending",i=!le(this,Ca).canStart();try{if(a)n();else{Ln(this,js,jo).call(this,{type:"pending",variables:t,isPaused:i}),await((d=(u=le(this,qn).config).onMutate)==null?void 0:d.call(u,t,this,s));const ne=await((m=(h=this.options).onMutate)==null?void 0:m.call(h,t,s));ne!==this.state.context&&Ln(this,js,jo).call(this,{type:"pending",context:ne,variables:t,isPaused:i})}const fe=await le(this,Ca).start();return await((v=(y=le(this,qn).config).onSuccess)==null?void 0:v.call(y,fe,t,this.state.context,this,s)),await((w=(x=this.options).onSuccess)==null?void 0:w.call(x,fe,t,this.state.context,s)),await((k=(_=le(this,qn).config).onSettled)==null?void 0:k.call(_,fe,null,this.state.variables,this.state.context,this,s)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,fe,null,t,this.state.context,s)),Ln(this,js,jo).call(this,{type:"success",data:fe}),fe}catch(fe){try{throw await((j=(N=le(this,qn).config).onError)==null?void 0:j.call(N,fe,t,this.state.context,this,s)),await((O=(T=this.options).onError)==null?void 0:O.call(T,fe,t,this.state.context,s)),await((U=(L=le(this,qn).config).onSettled)==null?void 0:U.call(L,void 0,fe,this.state.variables,this.state.context,this,s)),await((de=(K=this.options).onSettled)==null?void 0:de.call(K,void 0,fe,t,this.state.context,s)),fe}finally{Ln(this,js,jo).call(this,{type:"error",error:fe})}}finally{le(this,qn).runNext(this)}}},wc=new WeakMap,Es=new WeakMap,qn=new WeakMap,Ca=new WeakMap,js=new WeakSet,jo=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Gn.batch(()=>{le(this,Es).forEach(s=>{s.onMutationUpdate(t)}),le(this,qn).notify({mutation:this,type:"updated",action:t})})},gw);function D2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zs,ls,xc,yw,L2=(yw=class extends zd{constructor(t={}){super();kt(this,Zs);kt(this,ls);kt(this,xc);this.config=t,dt(this,Zs,new Set),dt(this,ls,new Map),dt(this,xc,0)}build(t,n,s){const a=new z2({client:t,mutationCache:this,mutationId:++Mu(this,xc)._,options:t.defaultMutationOptions(n),state:s});return this.add(a),a}add(t){le(this,Zs).add(t);const n=Uu(t);if(typeof n=="string"){const s=le(this,ls).get(n);s?s.push(t):le(this,ls).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(le(this,Zs).delete(t)){const n=Uu(t);if(typeof n=="string"){const s=le(this,ls).get(n);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&le(this,ls).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Uu(t);if(typeof n=="string"){const s=le(this,ls).get(n),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const n=Uu(t);if(typeof n=="string"){const a=(s=le(this,ls).get(n))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gn.batch(()=>{le(this,Zs).forEach(t=>{this.notify({type:"removed",mutation:t})}),le(this,Zs).clear(),le(this,ls).clear()})}getAll(){return Array.from(le(this,Zs))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>t0(n,s))}findAll(t={}){return this.getAll().filter(n=>t0(t,n))}notify(t){Gn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Gn.batch(()=>Promise.all(t.map(n=>n.continue().catch(os))))}},Zs=new WeakMap,ls=new WeakMap,xc=new WeakMap,yw);function Uu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ns,vw,$2=(vw=class extends zd{constructor(t={}){super();kt(this,Ns);this.config=t,dt(this,Ns,new Map)}build(t,n,s){const a=n.queryKey,i=n.queryHash??Lm(a,n);let u=this.get(i);return u||(u=new I2({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(u)),u}add(t){le(this,Ns).has(t.queryHash)||(le(this,Ns).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=le(this,Ns).get(t.queryHash);n&&(t.destroy(),n===t&&le(this,Ns).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,Ns).get(t)}getAll(){return[...le(this,Ns).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>e0(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>e0(t,s)):n}notify(t){Gn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Gn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ns=new WeakMap,vw),Zt,Oo,Mo,Wi,Ki,zo,qi,Gi,ww,F2=(ww=class{constructor(e={}){kt(this,Zt);kt(this,Oo);kt(this,Mo);kt(this,Wi);kt(this,Ki);kt(this,zo);kt(this,qi);kt(this,Gi);dt(this,Zt,e.queryCache||new $2),dt(this,Oo,e.mutationCache||new L2),dt(this,Mo,e.defaultOptions||{}),dt(this,Wi,new Map),dt(this,Ki,new Map),dt(this,zo,0)}mount(){Mu(this,zo)._++,le(this,zo)===1&&(dt(this,qi,qx.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Zt).onFocus())})),dt(this,Gi,fd.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Zt).onOnline())})))}unmount(){var e,t;Mu(this,zo)._--,le(this,zo)===0&&((e=le(this,qi))==null||e.call(this),dt(this,qi,void 0),(t=le(this,Gi))==null||t.call(this),dt(this,Gi,void 0))}isFetching(e){return le(this,Zt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,Oo).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,Zt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=le(this,Zt).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return le(this,Zt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),a=le(this,Zt).get(s.queryHash),i=a==null?void 0:a.state.data,u=v2(t,i);if(u!==void 0)return le(this,Zt).build(this,s).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Gn.batch(()=>le(this,Zt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,Zt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=le(this,Zt);Gn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=le(this,Zt);return Gn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=Gn.batch(()=>le(this,Zt).findAll(e).map(a=>a.cancel(n)));return Promise.all(s).then(os).catch(os)}invalidateQueries(e,t={}){return Gn.batch(()=>(le(this,Zt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Gn.batch(()=>le(this,Zt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(os)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(os)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=le(this,Zt).build(this,t);return n.isStaleByTime(Vp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(os).catch(os)}fetchInfiniteQuery(e){return e.behavior=a0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(os).catch(os)}ensureInfiniteQueryData(e){return e.behavior=a0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fd.isOnline()?le(this,Oo).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,Zt)}getMutationCache(){return le(this,Oo)}getDefaultOptions(){return le(this,Mo)}setDefaultOptions(e){dt(this,Mo,e)}setQueryDefaults(e,t){le(this,Wi).set(ic(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,Wi).values()],n={};return t.forEach(s=>{lc(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){le(this,Ki).set(ic(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,Ki).values()],n={};return t.forEach(s=>{lc(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,Mo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$m&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,Mo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,Zt).clear(),le(this,Oo).clear()}},Zt=new WeakMap,Oo=new WeakMap,Mo=new WeakMap,Wi=new WeakMap,Ki=new WeakMap,zo=new WeakMap,qi=new WeakMap,Gi=new WeakMap,ww),U2=p.createContext(void 0),B2=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(U2.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cc.apply(this,arguments)}var Do;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Do||(Do={}));const l0="popstate";function V2(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:u,hash:d}=s.location;return Kp("",{pathname:i,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Xx(a)}return W2(t,n,null,e)}function gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H2(){return Math.random().toString(36).substr(2,8)}function c0(e,t){return{usr:e.state,key:e.key,idx:t}}function Kp(e,t,n,s){return n===void 0&&(n=null),cc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rl(t):t,{state:n,key:t&&t.key||s||H2()})}function Xx(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function rl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function W2(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,u=a.history,d=Do.Pop,h=null,m=y();m==null&&(m=0,u.replaceState(cc({},u.state,{idx:m}),""));function y(){return(u.state||{idx:null}).idx}function v(){d=Do.Pop;let S=y(),C=S==null?null:S-m;m=S,h&&h({action:d,location:k.location,delta:C})}function x(S,C){d=Do.Push;let N=Kp(k.location,S,C);m=y()+1;let j=c0(N,m),T=k.createHref(N);try{u.pushState(j,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(T)}i&&h&&h({action:d,location:k.location,delta:1})}function w(S,C){d=Do.Replace;let N=Kp(k.location,S,C);m=y();let j=c0(N,m),T=k.createHref(N);u.replaceState(j,"",T),i&&h&&h({action:d,location:k.location,delta:0})}function _(S){let C=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof S=="string"?S:Xx(S);return N=N.replace(/ $/,"%20"),gn(C,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,C)}let k={get action(){return d},get location(){return e(a,u)},listen(S){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(l0,v),h=S,()=>{a.removeEventListener(l0,v),h=null}},createHref(S){return t(a,S)},createURL:_,encodeLocation(S){let C=_(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:w,go(S){return u.go(S)}};return k}var u0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(u0||(u0={}));function K2(e,t,n){return n===void 0&&(n="/"),q2(e,t,n)}function q2(e,t,n,s){let a=typeof t=="string"?rl(t):t,i=eb(a.pathname||"/",n);if(i==null)return null;let u=Jx(e);G2(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=aT(i);d=rT(u[h],m)}return d}function Jx(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,u,d)=>{let h={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:u,route:i};h.relativePath.startsWith("/")&&(gn(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let m=ja([s,h.relativePath]),y=n.concat(h);i.children&&i.children.length>0&&(gn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Jx(i.children,t,y,m)),!(i.path==null&&!i.index)&&t.push({path:m,score:tT(m,i.index),routesMeta:y})};return e.forEach((i,u)=>{var d;if(i.path===""||!((d=i.path)!=null&&d.includes("?")))a(i,u);else for(let h of Zx(i.path))a(i,u,h)}),t}function Zx(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let u=Zx(s.join("/")),d=[];return d.push(...u.map(h=>h===""?i:[i,h].join("/"))),a&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function G2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nT(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Q2=/^:[\w-]+$/,Y2=3,X2=2,J2=1,Z2=10,eT=-2,d0=e=>e==="*";function tT(e,t){let n=e.split("/"),s=n.length;return n.some(d0)&&(s+=eT),t&&(s+=X2),n.filter(a=>!d0(a)).reduce((a,i)=>a+(Q2.test(i)?Y2:i===""?J2:Z2),s)}function nT(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function rT(e,t,n){let{routesMeta:s}=e,a={},i="/",u=[];for(let d=0;d<s.length;++d){let h=s[d],m=d===s.length-1,y=i==="/"?t:t.slice(i.length)||"/",v=sT({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),x=h.route;if(!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:ja([i,v.pathname]),pathnameBase:hT(ja([i,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(i=ja([i,v.pathnameBase]))}return u}function sT(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=oT(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],u=i.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((m,y,v)=>{let{paramName:x,isOptional:w}=y;if(x==="*"){let k=d[v]||"";u=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const _=d[v];return w&&!_?m[x]=void 0:m[x]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:u,pattern:e}}function oT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function aT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function eb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lT=e=>iT.test(e);function cT(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?rl(e):e,i;if(n)if(lT(n))i=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Fm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?i=f0(n.substring(1),"/"):i=f0(n,t)}else i=t;return{pathname:i,search:pT(s),hash:mT(a)}}function f0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function np(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dT(e,t){let n=uT(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function fT(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=rl(e):(a=cc({},e),gn(!a.pathname||!a.pathname.includes("?"),np("?","pathname","search",a)),gn(!a.pathname||!a.pathname.includes("#"),np("#","pathname","hash",a)),gn(!a.search||!a.search.includes("#"),np("#","search","hash",a)));let i=e===""||a.pathname==="",u=i?"/":a.pathname,d;if(u==null)d=n;else{let v=t.length-1;if(!s&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}d=v>=0?t[v]:"/"}let h=cT(a,d),m=u&&u!=="/"&&u.endsWith("/"),y=(i||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}const ja=e=>e.join("/").replace(/\/\/+/g,"/"),hT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tb=["post","put","patch","delete"];new Set(tb);const yT=["get",...tb];new Set(yT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},uc.apply(this,arguments)}const Um=p.createContext(null),vT=p.createContext(null),Ld=p.createContext(null),$d=p.createContext(null),sl=p.createContext({outlet:null,matches:[],isDataRoute:!1}),nb=p.createContext(null);function Fd(){return p.useContext($d)!=null}function ol(){return Fd()||gn(!1),p.useContext($d).location}function rb(e){p.useContext(Ld).static||p.useLayoutEffect(e)}function Cc(){let{isDataRoute:e}=p.useContext(sl);return e?RT():wT()}function wT(){Fd()||gn(!1);let e=p.useContext(Um),{basename:t,future:n,navigator:s}=p.useContext(Ld),{matches:a}=p.useContext(sl),{pathname:i}=ol(),u=JSON.stringify(dT(a,n.v7_relativeSplatPath)),d=p.useRef(!1);return rb(()=>{d.current=!0}),p.useCallback(function(m,y){if(y===void 0&&(y={}),!d.current)return;if(typeof m=="number"){s.go(m);return}let v=fT(m,JSON.parse(u),i,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ja([t,v.pathname])),(y.replace?s.replace:s.push)(v,y.state,y)},[t,s,u,i,e])}function xT(e,t){return bT(e,t)}function bT(e,t,n,s){Fd()||gn(!1);let{navigator:a}=p.useContext(Ld),{matches:i}=p.useContext(sl),u=i[i.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let m=ol(),y;if(t){var v;let S=typeof t=="string"?rl(t):t;h==="/"||(v=S.pathname)!=null&&v.startsWith(h)||gn(!1),y=S}else y=m;let x=y.pathname||"/",w=x;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=K2(e,{pathname:w}),k=ET(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:ja([h,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:ja([h,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,s);return t&&k?p.createElement($d.Provider,{value:{location:uc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Do.Pop}},k):k}function ST(){let e=PT(),t=gT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,null)}const kT=p.createElement(ST,null);class _T extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(sl.Provider,{value:this.props.routeContext},p.createElement(nb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CT(e){let{routeContext:t,match:n,children:s}=e,a=p.useContext(Um);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(sl.Provider,{value:t},s)}function ET(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,d=(a=n)==null?void 0:a.errors;if(d!=null){let y=u.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);y>=0||gn(!1),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,m=-1;if(n&&s&&s.v7_partialHydration)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:x,errors:w}=n,_=v.route.loader&&x[v.route.id]===void 0&&(!w||w[v.route.id]===void 0);if(v.route.lazy||_){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((y,v,x)=>{let w,_=!1,k=null,S=null;n&&(w=d&&v.route.id?d[v.route.id]:void 0,k=v.route.errorElement||kT,h&&(m<0&&x===0?(AT("route-fallback"),_=!0,S=null):m===x&&(_=!0,S=v.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,x+1)),N=()=>{let j;return w?j=k:_?j=S:v.route.Component?j=p.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=y,p.createElement(CT,{match:v,routeContext:{outlet:y,matches:C,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?p.createElement(_T,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}var sb=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(sb||{}),ob=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(ob||{});function jT(e){let t=p.useContext(Um);return t||gn(!1),t}function NT(e){let t=p.useContext(vT);return t||gn(!1),t}function TT(e){let t=p.useContext(sl);return t||gn(!1),t}function ab(e){let t=TT(),n=t.matches[t.matches.length-1];return n.route.id||gn(!1),n.route.id}function PT(){var e;let t=p.useContext(nb),n=NT(),s=ab();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function RT(){let{router:e}=jT(sb.UseNavigateStable),t=ab(ob.UseNavigateStable),n=p.useRef(!1);return rb(()=>{n.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,uc({fromRouteId:t},i)))},[e,t])}const h0={};function AT(e,t,n){h0[e]||(h0[e]=!0)}function IT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ma(e){gn(!1)}function OT(e){let{basename:t="/",children:n=null,location:s,navigationType:a=Do.Pop,navigator:i,static:u=!1,future:d}=e;Fd()&&gn(!1);let h=t.replace(/^\/*/,"/"),m=p.useMemo(()=>({basename:h,navigator:i,static:u,future:uc({v7_relativeSplatPath:!1},d)}),[h,d,i,u]);typeof s=="string"&&(s=rl(s));let{pathname:y="/",search:v="",hash:x="",state:w=null,key:_="default"}=s,k=p.useMemo(()=>{let S=eb(y,h);return S==null?null:{location:{pathname:S,search:v,hash:x,state:w,key:_},navigationType:a}},[h,y,v,x,w,_,a]);return k==null?null:p.createElement(Ld.Provider,{value:m},p.createElement($d.Provider,{children:n,value:k}))}function MT(e){let{children:t,location:n}=e;return xT(qp(t),n)}new Promise(()=>{});function qp(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(s,a)=>{if(!p.isValidElement(s))return;let i=[...t,a];if(s.type===p.Fragment){n.push.apply(n,qp(s.props.children,i));return}s.type!==ma&&gn(!1),!s.props.index||!s.props.children||gn(!1);let u={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=qp(s.props.children,i)),n.push(u)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zT="6";try{window.__reactRouterVersion=zT}catch{}const DT="startTransition",p0=kd[DT];function LT(e){let{basename:t,children:n,future:s,window:a}=e,i=p.useRef();i.current==null&&(i.current=V2({window:a,v5Compat:!0}));let u=i.current,[d,h]=p.useState({action:u.action,location:u.location}),{v7_startTransition:m}=s||{},y=p.useCallback(v=>{m&&p0?p0(()=>h(v)):h(v)},[h,m]);return p.useLayoutEffect(()=>u.listen(y),[u,y]),p.useEffect(()=>IT(s),[s]),p.createElement(OT,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:u,future:s})}var m0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(m0||(m0={}));var g0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));const $T=({sidebarContent:e,mainContent:t,defaultLayout:n=[25,75]})=>l.jsxs("div",{className:"h-screen w-full flex overflow-hidden",children:[l.jsx("aside",{className:"w-[320px] min-w-[280px] max-w-[400px] flex flex-col p-4 bg-sidebar text-sidebar-foreground border-r overflow-y-auto",children:e}),l.jsx("main",{className:"flex-1 h-full overflow-y-auto",children:t})]}),dn=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ot("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));dn.displayName="Card";const Pr=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ot("flex flex-col space-y-1.5 p-6",e),...t}));Pr.displayName="CardHeader";const $n=p.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:ot("text-2xl font-semibold leading-none tracking-tight",e),...t}));$n.displayName="CardTitle";const FT=p.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:ot("text-sm text-muted-foreground",e),...t}));FT.displayName="CardDescription";const dr=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ot("p-6 pt-0",e),...t}));dr.displayName="CardContent";const UT=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:ot("flex items-center p-6 pt-0",e),...t}));UT.displayName="CardFooter";function BT(e,t=[]){let n=[];function s(i,u){const d=p.createContext(u);d.displayName=i+"Context";const h=n.length;n=[...n,u];const m=v=>{var C;const{scope:x,children:w,..._}=v,k=((C=x==null?void 0:x[e])==null?void 0:C[h])||d,S=p.useMemo(()=>_,Object.values(_));return l.jsx(k.Provider,{value:S,children:w})};m.displayName=i+"Provider";function y(v,x){var k;const w=((k=x==null?void 0:x[e])==null?void 0:k[h])||d,_=p.useContext(w);if(_)return _;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${i}\``)}return[m,y]}const a=()=>{const i=n.map(u=>p.createContext(u));return function(d){const h=(d==null?void 0:d[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return a.scopeName=e,[s,VT(a,...t)]}function VT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const v=h(i)[`__scope${m}`];return{...d,...v}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var HT=Symbol.for("react.lazy"),hd=kd[" use ".trim().toString()];function WT(e){return typeof e=="object"&&e!==null&&"then"in e}function ib(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===HT&&"_payload"in e&&WT(e._payload)}function Ud(e){const t=qT(e),n=p.forwardRef((s,a)=>{let{children:i,...u}=s;ib(i)&&typeof hd=="function"&&(i=hd(i._payload));const d=p.Children.toArray(i),h=d.find(QT);if(h){const m=h.props.children,y=d.map(v=>v===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:v);return l.jsx(t,{...u,ref:a,children:p.isValidElement(m)?p.cloneElement(m,void 0,y):null})}return l.jsx(t,{...u,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var KT=Ud("Slot");function qT(e){const t=p.forwardRef((n,s)=>{let{children:a,...i}=n;if(ib(a)&&typeof hd=="function"&&(a=hd(a._payload)),p.isValidElement(a)){const u=XT(a),d=YT(i,a.props);return a.type!==p.Fragment&&(d.ref=s?Zi(s,u):u),p.cloneElement(a,d)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GT=Symbol("radix.slottable");function QT(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GT}function YT(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...d)=>{const h=i(...d);return a(...d),h}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function XT(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lb=JT.reduce((e,t)=>{const n=Ud(`Primitive.${t}`),s=p.forwardRef((a,i)=>{const{asChild:u,...d}=a,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Bm="Progress",Vm=100,[ZT]=BT(Bm),[eP,tP]=ZT(Bm),cb=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=nP,...u}=e;(a||a===0)&&!y0(a)&&console.error(rP(`${a}`,"Progress"));const d=y0(a)?a:Vm;s!==null&&!v0(s,d)&&console.error(sP(`${s}`,"Progress"));const h=v0(s,d)?s:null,m=pd(h)?i(h,d):void 0;return l.jsx(eP,{scope:n,value:h,max:d,children:l.jsx(lb.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":pd(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":fb(h,d),"data-value":h??void 0,"data-max":d,...u,ref:t})})});cb.displayName=Bm;var ub="ProgressIndicator",db=p.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,a=tP(ub,n);return l.jsx(lb.div,{"data-state":fb(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});db.displayName=ub;function nP(e,t){return`${Math.round(e/t*100)}%`}function fb(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function pd(e){return typeof e=="number"}function y0(e){return pd(e)&&!isNaN(e)&&e>0}function v0(e,t){return pd(e)&&!isNaN(e)&&e<=t&&e>=0}function rP(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Vm}\`.`}function sP(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Vm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hb=cb,oP=db;const Is=p.forwardRef(({className:e,value:t,...n},s)=>l.jsx(hb,{ref:s,className:ot("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(oP,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Is.displayName=hb.displayName;var pe=(e=>(e.Potato="potato",e.Water="water",e.Clothes="clothes",e.Wood="wood",e.Brick="brick",e.Stone="stone",e.Hoe="hoe",e.Axe="axe",e.Pickaxe="pickaxe",e.Tractor="tractor",e.WheatSeed="wheat_seed",e.Wheat="wheat",e.Flour="flour",e.CornSeed="corn_seed",e.Corn="corn",e.CornFlour="corn_flour",e.Popcorn="popcorn",e))(pe||{});const Ds=[{type:"potato",name:"Burgonya",wholesalePrice:5,deliveryTimeMs:5e3,baseSellPrice:8},{type:"water",name:"Vz",wholesalePrice:3,deliveryTimeMs:3e3,baseSellPrice:5},{type:"clothes",name:"Ruha",wholesalePrice:15,deliveryTimeMs:1e4,baseSellPrice:25},{type:"wood",name:"Fa",wholesalePrice:2,deliveryTimeMs:2e3,baseSellPrice:4},{type:"brick",name:"Tgla",wholesalePrice:4,deliveryTimeMs:4e3,baseSellPrice:7},{type:"stone",name:"K",wholesalePrice:3,deliveryTimeMs:3500,baseSellPrice:6},{type:"hoe",name:"Kapa",wholesalePrice:50,deliveryTimeMs:15e3,baseSellPrice:80},{type:"axe",name:"Fejsze",wholesalePrice:60,deliveryTimeMs:15e3,baseSellPrice:100},{type:"pickaxe",name:"Cskny",wholesalePrice:70,deliveryTimeMs:16e3,baseSellPrice:110},{type:"tractor",name:"Traktor",wholesalePrice:500,deliveryTimeMs:3e4,baseSellPrice:800},{type:"wheat_seed",name:"Bza vetmag",wholesalePrice:2,deliveryTimeMs:3e3,baseSellPrice:4},{type:"wheat",name:"Bza",wholesalePrice:4,deliveryTimeMs:4e3,baseSellPrice:7},{type:"flour",name:"Liszt",wholesalePrice:8,deliveryTimeMs:6e3,baseSellPrice:12},{type:"corn_seed",name:"Kukorica vetmag",wholesalePrice:3,deliveryTimeMs:3500,baseSellPrice:5},{type:"corn",name:"Kukorica",wholesalePrice:5,deliveryTimeMs:5e3,baseSellPrice:9},{type:"corn_flour",name:"Kukoricaliszt",wholesalePrice:10,deliveryTimeMs:7e3,baseSellPrice:15},{type:"popcorn",name:"Popcorn",wholesalePrice:12,deliveryTimeMs:8e3,baseSellPrice:20}],Er=e=>Ds.find(t=>t.type===e),aP=({playerName:e,money:t,inventory:n,workplace:s,workplaceSalary:a,ownedBusinesses:i,playerSettingsButton:u,nextTickProgress:d,timeRemaining:h,isMayor:m,buildings:y})=>{const v=y.find(S=>S.name===s),x=v?`${s} (#${v.houseNumber})`:s,w=Object.entries(n).filter(([,S])=>S>0).map(([S,C])=>({type:S,quantity:C})),_={[pe.Wheat]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-amber-600 flex items-center justify-center",children:""}),[pe.Corn]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-yellow-500 flex items-center justify-center",children:""}),[pe.Flour]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-yellow-400 flex items-center justify-center",children:""}),[pe.CornFlour]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-yellow-600 flex items-center justify-center",children:""}),[pe.Popcorn]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-red-500 flex items-center justify-center",children:""}),[pe.Water]:l.jsx(eE,{className:"mr-1.5 h-3 w-3 text-blue-500"}),[pe.Wood]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-yellow-700 flex items-center justify-center",children:""}),[pe.Stone]:l.jsx(Sm,{className:"mr-1.5 h-3 w-3 text-gray-500"}),[pe.Pickaxe]:l.jsx(zv,{className:"mr-1.5 h-3 w-3 text-gray-400"}),[pe.Brick]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-orange-500 flex items-center justify-center",children:""}),[pe.Axe]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-amber-700 flex items-center justify-center",children:""}),[pe.WheatSeed]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-green-600 flex items-center justify-center",children:""}),[pe.CornSeed]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-yellow-300 flex items-center justify-center",children:""}),[pe.Clothes]:l.jsx("span",{className:"mr-1.5 h-3 w-3 text-pink-400 flex items-center justify-center",children:""}),hoe:l.jsx(zv,{className:"mr-1.5 h-3 w-3 text-amber-700"})},k={[pe.Wheat]:"Bza",[pe.Corn]:"Kukorica",[pe.Flour]:"Liszt",[pe.CornFlour]:"Kukoricaliszt",[pe.Popcorn]:"Popcorn",[pe.Water]:"Vz",[pe.Wood]:"Fa",[pe.Stone]:"K",[pe.Pickaxe]:"Cskny",[pe.Brick]:"Tgla",[pe.Axe]:"Fejsze",[pe.WheatSeed]:"Bza vetmag",[pe.CornSeed]:"Kukorica vetmag",[pe.Clothes]:"Ruha",hoe:"Kapa"};return l.jsxs(dn,{className:"w-full bg-sidebar-accent text-sidebar-accent-foreground border-sidebar-border shadow-none",children:[l.jsxs(Pr,{className:"pb-2 flex flex-row items-center justify-between",children:[l.jsx($n,{className:"text-lg font-semibold",children:"Jtkos adatok"}),u]}),l.jsxs(dr,{className:"text-sm",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Em,{className:"mr-2 h-4 w-4 text-gray-500"}),l.jsxs("span",{children:["Nv: ",e]}),m&&l.jsx("span",{className:"ml-2 bg-yellow-500 text-black text-[0.6rem] px-1.5 py-0.5 rounded-full font-bold",children:"Polgrmester"})]}),l.jsxs("div",{className:"flex items-center mb-2 font-bold text-lg",children:[l.jsx(Qn,{className:"mr-2 h-5 w-5 text-green-500"}),l.jsxs("span",{children:["Pnz: ",t]})]}),l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(Ea,{className:"mr-2 h-4 w-4 text-gray-500"}),l.jsxs("span",{children:["Munkahely: ",x]})]}),l.jsxs("div",{className:"mt-3 mb-4 p-2 bg-black/5 rounded-md border border-sidebar-border/50",children:[l.jsxs("div",{className:"flex justify-between text-[0.7rem] mb-1 font-medium",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(Qn,{className:"h-3 w-3 mr-1 text-yellow-600"}),"Gazdasgi ciklus"]}),l.jsxs("span",{children:[h,"mp"]})]}),l.jsx(Is,{value:d,className:"h-1.5"}),l.jsx("p",{className:"text-[0.6rem] text-muted-foreground mt-1 text-center",children:"Fizetsek s brleti djak rendezse"})]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("h3",{className:"font-medium mb-1",children:"Kszlet:"}),l.jsx("ul",{className:"grid grid-cols-2 gap-x-2 gap-y-1 ml-1",children:w.map(({type:S,quantity:C})=>l.jsxs("li",{className:"flex items-center text-[0.75rem]",children:[_[S]||l.jsx("span",{className:"mr-1.5 h-3 w-3"}),k[S]||S,": ",C]},S))})]}),i.length>0&&l.jsxs("div",{className:"mt-3 pt-2 border-t border-sidebar-border/30",children:[l.jsxs("h3",{className:"font-medium mb-1 flex items-center",children:[l.jsx(Ea,{className:"mr-2 h-3 w-3"}),"Vllalkozsaid:"]}),l.jsx("ul",{className:"ml-4 list-disc list-inside text-[0.75rem]",children:i.map(S=>l.jsxs("li",{className:"truncate",children:[S.name," (#",S.houseNumber,")"]},S.id))})]})]})]})};var It=(e=>(e.Wood="wood",e.Stone="stone",e.Brick="brick",e.Wheat="wheat",e.Flour="flour",e.Bread="bread",e.Corn="corn",e.CornFlour="corn_flour",e.Popcorn="popcorn",e.Potato="potato",e.Water="water",e.Clothes="clothes",e.Axe="axe",e.Pickaxe="pickaxe",e.WheatSeed="wheat_seed",e.CornSeed="corn_seed",e))(It||{}),Yt=(e=>(e.None="none",e.Wheat="wheat",e.Corn="corn",e))(Yt||{});const iP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAZCAYAAACYY8ZHAAACpklEQVR4AdSWPU4cQRCFewi8lmyZA3AAO7AjYv/EvoUd+RAmcuYTOLIP4RNATkYAB+AASCAgYZmv4Y1qaqp7elgIkHjbVa9+3zSrna2U0voe/fGs/oa9EdH9Wh2mgx/X61Y8ttTWuS4vsTe7IIJzgrPjmwknwjUriv//5XIt1GrUd+4s7TSI2P93NOlBEfCBiPM5+NvvtpKA34KoNxygV9Qji/j87f0kRgEgQAPOGsgBtRwbi3IjTjXaRb596FlEFBDni8X7gaU85beevg9zPKdeOy/fZnMQEd0GGWrCiQ/U1HLwwHLWJlZDlAunWbbW3gL8IAIH+AQ4gaay1TzilLP0VM+WOt0CuSMRuo1ISDQg4mjagqjWPpBSj2i3kQgKvRA7zNrkAs9Z39rk1hDlRhw97C3gT0RAWiGRcnIAsccAvUBpaWKAWZweWcTH36vMf/qzSgJCAAGKATbABthff35Im4Ae9PKAtyCOb2/h+9nrDi6L6N6kvDxE/8vKkX0E7V3vJoFGgAQtjr0J1Mee9GOOBZwVgC9kESwuEJDNyfuJ4AeRK1yc8j4m7+6MuLtI/dPOkU3F6dUJxwRZxITtCT2F3hz+XbCfEl609RHDbCvk7/Z5fnKhCARQQCHAfijsIvTwPlwrSrtMRFgBvjkLAM+X/Fc7+Xs3CsPRA4wCCxx7G5SNRNQEkAxYgnMTRD1aRUW3MRLBYlESfOsQch+KSFypl72NQYRuoVQEXxqCwFKMOg/yLed9G4ts/6AHEST7INxTwYv2fkopj64J1G1kEZvcQp7Uf5SGsVwU85z3+5aJWs4I9oFnESRZEn8JGAZqNXZJcoHysYF8e5Z4mzOIsOScvbv3oluC/vWlA6WauXlzcUSseTcqDYj4uaZL49GMBi6/0zHrFgAA//8agFo4AAAABklEQVQDACG/FU1fNsEhAAAAAElFTkSuQmCC",lP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAYAAABznEEcAAAD9UlEQVR4AeyavWtUURDFb5agqAQl4AeCpdj6D1ioheBfoL1FwFYECwWxEMRaUtjYW9qqRQo7sQ0WEQS/AkEJIprFdX8Pz2N23r333bfZ1V2IeHa+zpyZ2ZdNiqR37fzSIAz/yQ7d6v+8xOzZqzae85f6iKuvD4bnh48PhHmI9d5XR/BISJzsLWIq4M8aqsWGL+w1NEF7V0c8frm9QBJAAB9+9wMgV4oSfgnHz6MHsBdQXXtXRyhpLWRAM7C1mA9H/FidXAkHngAfoAuU9zZ5hIg0A8SA8t7CISeL76GarOrHDh0IMVz4+imcXVoSLWl7sUpsWQYDakKs1+bg2TjnL79/2yhvnTrdyMUSjSMYzLIxMjlqAlxA3oM8PKyv2Zj6m+3t8OLIiTqtg8h/+f6jzqecxhElgyUGF7AIUB5L3lp8C/gAHrA1+wTg2FrMbxwByYuSywE+YCDIcakD+CDHpQYHPn4K0SNS5LY8AwFDgeUTA+rA1nK+enKcsY5AOCfKkgCeQAxyfdT0ecAHJT2dj2CpEmF4dgnF5HKwn4ccz9Y6H8EBbQtRhwcYhgXkidvgn0Ybv/MRCLIQ1oMlQapOnjrwvTbu+jSyR7QNs4PhsiSwee9TB/BtjRw/EyzIWU7KTx7BkBIReKCEa5eATx+w+ZjfxkkeoSExUeUQhweUi1l45GXxAX3A56lZtHGSRyBCM9aDoSBV93x4Ob7qcHwvMXk4+DFkj4g1SDAnGutr41MH6P/trw35Oog4nY5gQJtgZEanFPrM6dJUdASigAFWnByxLH5XqFeWfuYQA+I2tB6BEKLAi5FT3ddK45QGeYB+m1byCJoBQjmRtnquV7WcBjX2AOJ7Gz2CBpqBb+gSowNfFn8csAdI6YwcAQnQMM4w34PONPTQtLNGjlAB0qSA5qS00EHPoz7i4rfPC68u/QrnNu6OIJbznGnGsfnk9j17Wt9SH1FnjPNg5Va4uXrfZP69y3z2yE1OHkEjAmomzqGUh0YpVzz2sH3Ky0aPoIFGkWSP3lsPMaguu39xIaQgjmxMj5zqsuzDXoqt7dkAHyIN+LMG9mI/v1fjCIieNEtxbL/GEbO0cOkue0eUvlPT5nV6Epu3z4QY/JI3VrfCz/4gCs+N6ZHzvFxcfAQfqBzskIcry0XfYnN61Kxmzi8+Iifyv2t7R4z3BCbf1XgSg52NsBuUrLgbfXr9jPoI/U5YhOtXHsmtbNd4/eNO1acXH3fV8/wndy5LOtRH1Jk5ctbW1qq/S5nKEfyM4L3ACoqxk0Z1hL6U3m32A48NMAgrlMZoAPhYwcZoEmOFLjGa8PUlVR2hPy/ACpDkY2c1Zq/qCJx5xh8AAAD//3nAwfwAAAAGSURBVAMAgiItTeK84JIAAAAASUVORK5CYII=",cP="/tile-o-polis/assets/farm-ByLdYL-V.png",uP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABACAYAAADlNHIOAAAM/UlEQVR4AezcPYhmZxUH8DuTjQ7smg/xIxGzkkaUFEkpMYU2ERXEQk1tY1ARbUQM2BiMqI0IirGxE4MWWhiIhVpEsdQiGGyEDRo/AtlsNmbW3WV9f8/u/3Lm2fu+c+djZyS+If89X//nnPOcc+87w8wmm1/+2L1Xhmv/rPWrg7gRc5C55o29SVnj+CawXsDxzb5VbgvwagAPCWv93iuHOYc+V+y2gK//9I8bYOgkrPXDnUk/09htAYa9xvFMYL2A45n7WHW9gHEUx6OsF3A8cx+rrhcwjuJ4lP/PBRzPrCerbr7vne8avv/p+6/AfXe/cXjii+9vP5p44N1vbTr7PXe+relPPfLQlXCqP/rPP/fBdrZy5Bf/xVcevCInycbRUXQS+Em88KOrH71y1I2fLq88dNA/CXTx6CTwk8lDsvseql8/4I4kfvJEV8sZcTx6IPfmb/787HD7qdfjDS+ev9BgGee3LzafP7a3tonh7MV/Nrm1vdXkidsuD6e2bm7gYEt+281vGXDELt30YtPFL529aYDENIkjVhGfHrbPXT3jnFxNLvLIQcdxlj5snxz0ajni9Ao8tjgJW2+4pZ0Ro5MnLt/e+nSflnfhJEEMj1y4l/7rLBg8kt7/8uJzw3MvnB/x9J/+MbSPIAOzhIoso0qJAkNyeeBTTIN0xcigxujxkzlDl5OUE9iXXrc9OOPSlYsHBk0a5vnhbFs2H3u49o8819Qdgj8PVeVvv3yu8VIvkjMxekXurNf4nXv53+fGgfPfeeLW9sCbNbstgKJpoMNdbzo1BA6BuIWIS066BN3AXILkD6qduGHykxqWA/ico5NA97S5ID6fM0AP9EZXA+jg4XJenvj52Pz0QA0+ucOVo0IPlgDVn943Xj01PH/ppTZ08oULLzWaWd59+11Nr39sMiRTFFwEJAz4ARckBjpOYs7F5wJifLmUGNtTF2l5/GAoEJ0Eg8Ej2UHqxnZW3gp3A5z42fKRgbh+9Ubi8kGt0/iLj2T3o+ODB9NMzrzy98GgPeGGHshToVd2W4CtMkAx8FQgpRFDVLQmVBQ07Kx4+OxAgzjyyY0zxTWUnFklK08+WMUXq2fYc6BHPGejq+Ue7m3gpPvg+ZQA+hTyAIWP0xZAAUMmW8HF5yDJBkMkDZLMIsg0pJk0RQeNWybkLJ8ckanjcnQQJ50hY5PAB/mipi6dFO+hVtDH2J5mgwn46CTQ5VZDXU+5YYO85qB/MGh8vECOACezHhfgoggCCHTwdkgioSHyNc7iO4UqNVShIVxL8NUf6C5gYcB2KeAHOkTHkQf4K/imMMWRxx3IGu/1mi+x+Awb2BZGQuZiTuxIuvlB9dHzQI8LQA4QotdC0XMYh48NhhwYoLil+DwkNU/PsmOTFhZZdT55gF7BF271Vx0H+CL1wK6ID8cTbWiJ8wWWIg44IOZhJOvs2OZiRvQ+xnfdAhwQqEgRPtsGOq6GPFXgEoHm6Ti4mtA0HdKMNyFvHMkPOBVisekBLl0skr4K3oSpuP5APH0nZ6SFu6vzOIH7hSMWXS56IFYxLsAgBBwgwSFSctIi6D7jQCMGDYaNsxyvnUiW4P7mBW5XHwY6n4XSwZufmYrBuACGoVaCQ4YuBoZf4wavAIhrBOjVF7suOXE1xIEuP7CBDonxVYhVe7963mrn9eYepLp8hkcGluD+PgHi203KiSMvCW0BbbDli6pASGJsyGU1BeFksDjx0YN6OU3gROLIRdb80flXwVlYxdlvTI/O6iW6WpYBYt78ugRfC+pDm3O4QfW1BSQQaUDRIzVB1wBZOWmGv0IhPG9WlsDGIevi+OSG1OKrcLmpWO+Te8e5xc+s2HUw7IBfj7HJmkNPfHjQ9MXPw3Dcq74JvgnxdQEn6Pur9uQCDAZSTCJNgG2D4fI33qIZuobI+FLIguqbpGm8fqDOgzqAA5UXPwnikXTnI+n1DgYTn97EAF8NfeuN5OuRO+TuuDhyeBPoQa3Dl3r0inEBmgtcqGHxk0wHA4N32MbJvUAOi5hzBtcF5nD/1zinT97RfqJc+zJLtreMDlnyuAAEEDAAQATf08Mtd7y9/SQvw8EVZ9NBjvgMPE8LPx00QnqicJwncSr4PJl8JD59LjyhHqrK1yOf3GRQOXT9kYF5QO0hOqkW7sULrw4eUOfdkw/0D3RvDAltAXG0Q4uftRsgIHjqvV6+6rNvNAzIcG50naPIb4b9XTJr9dsvZChTMHgwfHGJbjr/L+oIPk9FHAoaoCfaE2Gh4mQ4JB45B55QvEj6blAb8CJdXB965u+Rp5VMf3oPL77YpJxV0nPG7NhqkoG3hZ63ob0BnJXosNcow3cgwIMUciFDT5xky4mj8UgxepVyscE5MohtKBmkmJxkhaWz5VPbwgJ+OlmR/HzuQVb0ddj6N3jYwV18vax2PjHMEvQElUPf9DtMSuAihs92GaAH4nQNnyq/jkxzYtlu0699C6hxNh4ZxM+Wk0xe9on/bLVfD2q+cvEg/aRPNsTGATnJCvmz2MrPcFMvsp7t9dy53s85PwPDtYTAt6ruw7/5++f/1n4nqmmENMIOEKHG2Iq6hKKK8dE9bc7S+aDqsZ1xnl3BB4a2dcvlsT8+ZwI1cJzlU0OPwEcCPxvYATuDoAOuN04+NslHz2LoOCTIAfTAGeD3QHsjLIPEMWuyfQT5mQZwKOhi9NcSDMPdVt1pDmfV+bmxLKH9Uv4dbz7Zzvm8B08Zh6eEDNhZTF5bT3r1u0D4OPWJoRtAIFdq5UyeZjY9cXogFvBFnyNrf/jpnWRXVG56zlPvqfb2syHxet59Y9PDJ+M3+02vhcHHGSlpdA0amKHyGTwZPz0N47FxQEGD1Cg/sMkevb8fsFw503P507MegG8KNeYOUxy5cqepuPvop6LyLIlt+Lh03OjeAtj094Ie+tavNz7xzV8NFR/66lOj/ZHvPNn0B7/24ybDkzw6DrBdioSckS/gXwaNioVbpVyx1YiubtWdB/4p1Jg7VE7ykPxkj/j1U8Ff4XNe3HkS6PDhR3+50T6CXHi/kHDqrCam/HN8mpvDO0iNmn/ZHSpnv/rD3/vtrkfbF+FdWWvCDZvAvhbwzDPPDMHjn3nvMIXEycPoXh6otR75+H0DVB8OHGZN+WqNqosF+6k5uQAJlyVL7OnvfmoAvI0v/IxoiC4GnDlDn8LcePJN5YgvnLk5c66XOS8fiOduVRcDvpyh91gWu24BiPfcc097wpclSUENQc/jA/5w5WX34F9WD1ecTB76bgg3Z3s+/15qugv0efiAf1XNVfWuW0AaIyUOJKGnEP3Ktz86BGyITbIhZ5KDL1CHn4wvkp+e8/RZWJByJjkWrvFftfjJ0XlN4afmPN1dAjbEJtmQM8nBB+rwkeyTP7yVaLhuAbwh0sFhMrD1HnNiOH0uvr4e3xSPfz+YyjWnZn9HdurTeyRG9jVTrw4fb3IBAogBu8LWeyTe+9mJzZHLas45e9gcvfdIjd7PTmyZdDexVz559W9M08cFCFYgBYgV/ebZidN7JLZM1ro46pKr8PA3fjeGqz46D0Hp78FOWnqPxHqZ+/H3dxsXIFCBvAy23SPc3s9OrMo0RfLPrY0Lj3/pfqKh6s0x8w+1K/pjeu8RTu9nJxaZ3Ozcj14xLqA6V+kPfPYHw35Qc2qMnaZI9lFBfVBP7YAd7OeOzuQ8mbwkewpLF6DBoD945syZ5opsRvdHYpE1rCGovhut5y6k2sGquuk9coqbWOQUJz61g/gmF4CEsKzJ06dPDwqSeFMQ243Tn1M36GMHtXMXcm6uOXeYw6l3Uh/Sw7iAkEjBSmL3ULj39fZuHLUqnFcX6EeF9DBVb7c7OLOKIzeOOwG9YlyAYEUl/fVHjw6HCbn7xlJbDGo9v7OYgv/uFqZifDWHej3U4SPVr/zD0GtuNaYwLmAqKAFMxQ7iS06XPkievZxVq8LZvfThFyx7ReqpBeoFbNixAD9Z5ESiS8D2SxsSluvPCjfsxpH380/e3bj+UIuEqu+WBx8qr7drrOZWXx8QvwHjk1B1f3nBL2+g19UEfhKqLr+Z8qcuHcYFhEBqShCqzl4FTQMOCVM632Ghr9Hb6sRHXwXDFSeh19lTwAUxEuhgniRMzXJcQIKRDuwVCoNzJEzpfIeFvkZvqxMffRnqoJZx9uqvOZfNtS3A/0DOa6IACb3udQR+EvarT+XnAznJufl7Xm/LxycnnYRe99GAx0/CQXU5QR41IbqZ09sC/A/kHvvJH9gDCQwS6L7bgMPQk5MEOUmIPrdWz+tt+fhq7mU6XviHoasDcpIQ3czpbQGUjcU/kQt1o9c/8NgTG8BPwn71qfx8ICc5N3/P6235+OSkkzCl4/GTcFBdHZCHhOgkjAtgrHH0E1gv4OhnvqPiegE7xnH0xnoBRz/zHRXXC9gxjr0bBz3xXwAAAP//KGf/cgAAAAZJREFUAwCeaGqk45CDvQAAAABJRU5ErkJggg==",dP="/tile-o-polis/assets/vectoraith_tileset_farmingsims_crops_48x48-CWB89ESv.png",Hm="/tile-o-polis/assets/vectoraith_tileset_farmingsims_details_summer_32x32-DLPi-tSk.png",pb="/tile-o-polis/assets/vectoraith_tileset_farmingsims_buildings_32x32-CRZkyhbF.png",mb="/tile-o-polis/assets/vectoraith_tileset_farmingsims_buildings_48x48-B2_qHreb.png",gb="/tile-o-polis/assets/vectoraith_tileset_farmingsims_details_summer_48x48-Di-_GT9N.png",fP=dP,yb=Hm,vb=pb,hP=mb,pP=gb,mP={buildings_32:vb,details_32:yb,buildings_48:hP,details_48:pP},fa=({id:e,name:t,x:n,y:s,width:a,height:i,type:u,cellSizePx:d,onClick:h,capacity:m,ownerId:y,renterId:v,residentIds:x,employeeIds:w,isGhost:_=!1,isUnderConstruction:k=!1,buildProgress:S=0,constructionEta:C,originalDuration:N,customGraphics:j,currentPlayerId:T,rotation:O,hasRoadNeighborTop:L=!1,hasRoadNeighborBottom:U=!1,hasRoadNeighborLeft:K=!1,hasRoadNeighborRight:de=!1,isPlacementMode:fe,isDemolishingRoad:ne,cropType:ee=Yt.None,cropProgress:re=0,isDemolishing:ce,demolishProgress:Ee})=>{const[me,be]=p.useState(!1),[X,G]=p.useState(Date.now());p.useEffect(()=>{if((k||ce)&&!_){const Oe=setInterval(()=>G(Date.now()),1e3);return()=>clearInterval(Oe)}},[k,ce,_]);const he=n*d,$=s*d,Z={position:"absolute",left:he,top:$,width:a*d,height:i*d,zIndex:_?50:u==="farmland"?0:1,opacity:_?.5:1,pointerEvents:_?"none":"auto",transform:`rotate(${O}deg)`,transformOrigin:"center center"},ke=u==="house"?x.length:w.length,ge=y===T;w.includes(T);let Ce,Le="flex flex-col items-center justify-center text-xs text-white relative";u!=="farmland"&&(Le+=" overflow-hidden");let ae="";const Pe=Oe=>{if(!_&&!k&&fe){Oe.stopPropagation();return}!_&&!k&&h(e)};if(k&&C&&N){ae="bg-gray-600 opacity-70 border border-gray-500";const Oe=X-(C-N),De=Math.min(100,Math.max(0,Oe/N*100)),Ke=Math.ceil(Math.max(0,(C-X)/1e3));Ce=l.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-1",children:[l.jsx(Ap,{className:"h-6 w-6 text-white mb-1"}),l.jsx("span",{className:"text-white text-xs",children:"pl..."}),l.jsx(Is,{value:De,className:"w-3/4 h-2 mt-1"}),l.jsxs("span",{className:"text-white text-[0.6rem] mt-1",children:[Ke," mp"]})]})}else if(ce)ae="bg-red-900/80 opacity-90 border border-red-700",Ce=l.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full p-1",children:[l.jsx(ad,{className:"h-6 w-6 text-white mb-1 animate-pulse"}),l.jsx("span",{className:"text-white text-xs",children:"Bonts..."}),l.jsx(Is,{value:Ee,className:"w-3/4 h-2 mt-1 bg-red-950",indicatorClassName:"bg-red-500"}),l.jsxs("span",{className:"text-white text-[0.6rem] mt-1",children:[Math.floor(Ee),"%"]})]});else switch(ae="rounded-md cursor-pointer transition-colors",u){case"house":t==="Stor"?Ce=l.jsx("img",{src:iP,alt:"Stor",className:"h-full w-full object-cover"}):t==="Hzik"?Ce=l.jsx("img",{src:lP,alt:"Hzik",className:"h-full w-full object-cover"}):t==="Vlyoghz"?Ce=l.jsx("img",{src:uP,alt:"Vlyoghz",className:"h-full w-full object-cover"}):(ae+=" bg-stone-400 border border-gray-500 hover:bg-stone-500",Le+=" p-1",Ce=l.jsx("span",{className:"text-white text-xs",children:t})),t!=="Stor"&&t!=="Hzik"&&t!=="Vlyoghz"&&(ae+=" bg-stone-400 border border-gray-500 hover:bg-stone-500",Le+=" p-1"),ke>0&&(Ce=l.jsxs(l.Fragment,{children:[Ce,l.jsx("div",{className:"absolute bottom-1 right-1 flex items-center space-x-0.5",children:Array.from({length:ke}).map((Oe,De)=>l.jsx(Em,{className:"h-3 w-3 text-blue-200"},De))})]})),ge&&(Ce=l.jsxs(l.Fragment,{children:[Ce,l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400"})]}));break;case"office":ae+=" bg-blue-600 border border-gray-500 hover:bg-blue-700",Le+=" p-1",Ce=l.jsxs(l.Fragment,{children:[l.jsx(od,{className:"h-4 w-4 mb-1"}),l.jsx("span",{className:"text-white text-[0.65rem] text-center",children:t}),ge&&l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400"})]});break;case"forestry":ae+=" bg-green-700 border border-gray-500 hover:bg-green-800",Le+=" p-1",Ce=l.jsxs(l.Fragment,{children:[l.jsx(rc,{className:"h-4 w-4 mb-1"}),l.jsx("span",{children:"Erdszhz"}),ge&&l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400"})]});break;case"quarry":ae+=" bg-stone-700 border border-stone-600 hover:bg-stone-800",Le+=" p-1",Ce=l.jsxs(l.Fragment,{children:[l.jsx(Ap,{className:"h-4 w-4 mb-1 text-stone-300"}),l.jsx("span",{className:"text-white text-[0.65rem] text-center",children:t}),ge&&l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400"})]});break;case"farm":ae="cursor-pointer transition-colors",Ce=l.jsx("img",{src:cP,alt:"Farm",className:"h-full w-full object-cover"});break;case"custom":if(ae="cursor-pointer transition-colors",j){let Oe=mP[j.tileset];j.tileset==="custom_url"&&j.customUrl?Oe=j.customUrl:j.tileset==="custom_file"&&j.customBase64&&(Oe=j.customBase64),Oe||(Oe=vb);const De=j.tileSize||32,Ke=j.x*De,Ue=j.y*De,mt=d/De;Ce=l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{width:`${a*De}px`,height:`${i*De}px`,backgroundImage:`url("${Oe}")`,backgroundPosition:`-${Ke}px -${Ue}px`,imageRendering:"pixelated",backgroundRepeat:"no-repeat",transform:`scale(${mt})`,transformOrigin:"top left"}}),ge&&l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400 drop-shadow-md"})]})}else Ce=l.jsx("span",{className:"text-xs p-1",children:t});break;case"farmland":{ae+=" bg-yellow-800/40 border border-yellow-900/50 hover:bg-yellow-800/60";let Oe=null;if(ee!==Yt.None)if(ee===Yt.Corn){let De=256;re>=25&&re<50?De=320:re>=50&&re<85?De=384:re>=85&&(De=448);const Ue=(n+s)%2*32;Oe=l.jsx("div",{style:{position:"absolute",left:0,bottom:0,width:"32px",height:"64px",backgroundImage:`url("${yb}")`,backgroundPosition:`-${Ue}px -${De}px`,imageRendering:"pixelated",zIndex:10,pointerEvents:"none"}})}else Oe=l.jsx("div",{style:{position:"absolute",left:0,bottom:0,width:"48px",height:"48px",backgroundImage:`url("${fP}")`,backgroundPosition:`-${Math.min(3,Math.floor((re||0)/25))*48}px 0px`,imageRendering:"pixelated",zIndex:10,pointerEvents:"none",transform:"scale(0.66)",transformOrigin:"bottom left"}});else Oe=l.jsx(Cm,{className:"h-4 w-4 text-green-300/50"});Ce=l.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full",children:[Oe,ee!==Yt.None&&l.jsxs("div",{className:"absolute bottom-0 w-full bg-black/40 text-white text-[0.55rem] text-center",children:[Math.floor(re||0),"%"]})]});break}case"road":break;case"shop":ae+=" bg-purple-600 border border-gray-500 hover:bg-purple-700",Le+=" p-1",Ce=l.jsxs(l.Fragment,{children:[l.jsx(_m,{className:"h-4 w-4 mb-1"}),l.jsx("span",{className:"text-white text-[0.65rem] text-center",children:t}),ge&&l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400"})]});break;case"mill":ae+=" bg-amber-800 border border-amber-900 hover:bg-amber-900",Le+=" p-1",Ce=l.jsxs(l.Fragment,{children:[l.jsx(nx,{className:"h-4 w-4 mb-1"}),l.jsx("span",{className:"text-white text-[0.65rem] text-center",children:t}),ge&&l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400"})]});break;case"popcorn_stand":ae+=" bg-red-500 border border-red-600 hover:bg-red-600",Le+=" p-1",Ce=l.jsxs(l.Fragment,{children:[l.jsx(zi,{className:"h-4 w-4 mb-1"}),l.jsx("span",{className:"text-white text-[0.65rem] text-center",children:t}),ge&&l.jsx(Cs,{className:"absolute top-1 right-1 h-3 w-3 text-yellow-400"})]});break}if(u==="road"&&!k){const Oe=d*.6,De=d*.6,Ke=(d-Oe)/2,Ue={left:Ke,top:Ke,width:Oe,height:De};L&&(Ue.top=0,Ue.height=Ue.height+Ke),U&&(Ue.height=Ue.height+Ke),K&&(Ue.left=0,Ue.width=Ue.width+Ke),de&&(Ue.width=Ue.width+Ke);const mt=ot(!L&&"rounded-t-md",!U&&"rounded-b-md",!K&&"rounded-l-md",!de&&"rounded-r-md");return l.jsx("div",{style:Z,className:"absolute",children:l.jsx("div",{style:Ue,className:ot("absolute bg-gray-400 border border-gray-500",mt),onClick:Pe})})}return l.jsx("div",{style:Z,className:ot(Le,ae),onClick:Pe,onMouseEnter:()=>be(!0),onMouseLeave:()=>be(!1),children:Ce})},gP="/tile-o-polis/assets/vectoraith_tileset_farmingsims_terrain_A5_summer_32x32-B-wAnY_r.png",yP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAEACAYAAABMG3PWAAAAAXNSR0IArs4c6QAADcNJREFUeJztnW2MFVcZx/93l5d0XVmQFJqAiE1bkWITNFWSsrhLsrFYtJjQBALfSIgxRsxCV2O/8AVfoBCbEjUQvkEwkap9szEbu2uBuIlWDNgtfUlbC3xgTQXshtrCsn6Y+9y988yce86ZOzPnQv+/L7AzZ+Y5597nPzN35sz/AQghhBBCCCGEEEIIIYQQQgghhBBCCCG3GpXQHfClt6dnsv7voeHhm24M9bSF7sDHHe/sCZWBEnfFvA8BAG9fjsJe/GhGrF1X+0QFAKZdG48tP/bSqVz7ITQ7fiogMM7fXtkZuH7VcgDAe21dkwAwf8ZHAIDPzo4lYK0fsnxkbGZs/azplQoATP/wcqZ+CEWNnwoIjFEBZWWgxJHlD/f1AgD+e20yNeN0fBvSH+nH04NDqXFDjZ8KCMw0vUAy8D1DBmp0Rkh7YWRs5iQAzJo5O7YDUwbqzNdxdD9sipD9SD9s572yxi9QAYFJKKCsDPS9GnE9B2Q9VwhlK5AKCExCASbKykDf/en1OlPL6odvO4EKCIxVAaEy0HTVoZcf3f9DAMDG7/40NZ5pP779KGr8VEBgjApolQzU+5F4Gt2PvOLZljc7fiogMN5XQWVloN7v2kf6ndq/f3EMAPDcb/bl2p+ixk8FBMaqgLIzUJ4w1Z48vfEmAGBD95ectq+1q24n9+uzPrkqevxUQGASCigrA+VuqKDvDUn71cAkALz46Ded4m9e8xUAwOo9z6TG1ei7smUrkAoIjPUcIJlUVAZK5kkmruheCQB4/uSZSQAYfOEIAOAnX/sWAOCe8eux7RcsWQIAuHD2LADg9c5oSIN//B0AoG/NpkkAeOiBL1QAYOT4idS4mrwUaIMKCExCAXLsk8wTispAjc584cKO/QCAgb4FAIC/bnk0FnfdyWcBANsGL8S2k/1IP+aq+/FFK1CQ+PqIQAUExngOOH3izwCA+1Z+FWgiA4Udu54EGhxzbf0A7ootv//Qnuhfx/67Iv3s7emJLc86/qn+p0MFBCahgO5liyoAsH3XgUkA2PuYrPHLwPZzLwMAXjwQ/YJcvTW6msCNK16/SM++OgoAeO22LgDAtsFo+WsX/x1r97n5t8eWn/0g2s5XAXIOlH6jOg7gjlg7VwVu33UAqPtch4bj7aiAwCQUMHr6TPSftijjBt7pqq6JMss1A7HEryNyNSLHXlHQwd9GV01L++PX4RJPI8sP7ou22/jgl1Pj+CLjch3/ALpi62ufq4IKCEzieKznRN49J97kjUuNn3FKe91ubvXYb8tAHV9o3xRddUwc2dNwe1O7ZuObxqUxfV6m+FRAYDIrYGh4eFn98t6enn/W/902PlYBgDkd0WzhZt8P0Bloiq/buWa+Kf6lq9HMthud8/SbMQ3jC1RAi2P8JVy7Z5F8J2qZoX1suW3+vS+mzE/EV0rMir5HdMwQ1xZfPkfTHQAqIDAt/46t7d6R6Y0b1/ahoQICY1XArZ6BNooePxVACCGEEEIIIYQQQgghhBBCCCmQlp8VIdxqrukCnwkHxts7Wig6A/XcUJtnsybrnFATRY2fCgiMs3d00Rmo59P4ejZrxMN5ruGdNN/3BIoaPxUQmMTsaJNruFDLuMvpmSmMjEXbr1+13CsDr82cXf1P4zdR3B1ro35oF3ONTYGJuBnHz5lxLUZCAaEyUDDVDcjqQ6q9m4deOtXw6qXo8WuogMA4u6f7uoYLvhloIi/PZtubO0WPn+7pLUbT3tG+7VzfHcvLs1ln7vXpnQ3j+vbDt52GCgiM1Ts6dAbqeM22//2fjnttn/f4NVRAYLy9o5ttb8pA7ZZSu9dyOf5LVHs35+1VbSKv8WuogMAYFVB2Bta9kR5zrj26bT0AYO2PfpG6ncmruVk397LGTwUExuodXXYGruleAQD4n1pu8m7WXs0aX/f0ssdPBQQmoYDQGfiJSnTv5P5Ft0fezXueibsYKsSrWbN6677UuLZf4mWPnwoIjNExa+nihQCA4+++3zAD9Te/8YljgEPdANc6vnsf2woAeOsHj8faGT2b2zoaxhVsHg9FjV9DBQTG+DtAvnnJwKc27IytN2XgRccMdEWcbw/tjJx7N//657G4Qzt/BQB4ourpPFDdzuRWblKedsiS8Yt7+lMPfCOX8fOZcIthvRdUVgaaePDwP4A6Z1rt2TxUdSvXbum6boCrZ7U+9wgyzmbHr6ECAmNVgC0D76z54y8opIMJT2pDHHFZ93VLF7RruvyOaN/UFetH3gqkAgJjVYApA+UbX/6Z6AnXqYwVK1yRfmhF1vq1OHJXX2KpWJE1rq8C5fOpUxRnRbQizk/EdAbuXhxfL0pYvWYTkMP8+U9PG68AwOi+gUnUuaLrugHy95bb3oz1Q2O7+qrVDZNKH1VG90XXNUv7dwMOCsTBXwIpdQtMUAGBSWSpXA2IC/hbX98BePj2C9K+Wfdyk3u6KX7WugE6bseMdgDAueudDRWoEcVoeDe0RTGeA2qZVs0ok2u50AvE/ftz7aa9bsCdf3g8Fjer8lLaL0Pd+EbVSn2kEKSf61ctf6VRPCogMC5XKvf67FBX0mj2aqjuLmLDfui4tnfDXJ9L1K2/Ny2ORmc+3xFrcVrubfOPm1s7FRAY4zNhE7daBmrKHj8VQAghhBBCCCGEEEIIIYQQQggpkJabFWHjVqsjwGfCgfHOnpuljoCeGdeqdQSogMBYv72yMtA0vyZrHQGpH6A9q5t9TyHv8VMBgTHWDxCy+uhr13BXx1xxLze5qGtMvp7as3nWzNkN1e6qwETcJsdPBQTGWD+g7Ays8w1NdS83OdHazgk293JN2eOnAgLjXD+g6AysXW04dtyUeSYPZxuhFEgFBMb5TXlN3hlYc1WfQOr2pv2Zlru6lwuhFEgFBMa5fkDRGSiu6uKervdvI2uNFyGUAqmAwDjXkPFt55uBrug4Jjdz15qPQigFUgGB8b4KKioDTWgXcvl77SPpTrY1N/MffweIvKeBHJ9b5D1+KiAwVgWUnYHavz9B1avZ6mauEFf0F46PuHSjRtHjpwICY62gkaCgDNT3y7WH23x1KDXVDdj8vcizTnw/uxd9MvKee+dKahxN2eOnAgJjPS5LJsgTIampUuPuu1K3S2bg+dh6m+eCXi/96LtxFQBwz/h1IMXFXLjzZ5GD1fZdBwAHBy2TMvIeP5+ItRhGt5RmM3DdyWeByDsZ8PBw0/ElrngxC9uqns29O78d68fhDd8H6tzMXeOHUiAVEBjr74CsGbiu2k58+LfvOuD0TNYW93TNGzo69orShMPVfonDrSvaS87WD+v4V4rH9IGGcamAwBgVkFcGThyJMmDKRRxOlSVMiEs5FqdffYiXszjcap/PvBCv6vuaVCAVEJiEAmQmmGSsrgtQdgaeVvUATlZdyiXOtsH0uEVhq5vgO34qIDDWqyD5po9WffFdM1C7iJtqO2p0ZW1dD2DLv6Jj76H5cQVqP39xUZc6BFfjUzudkf5KLRhTRT1dV8AVKiAwxruhupKEsLQ/UoCpksVUrZWIqQyc8OqY/HKsq70CxOoEpPv0a/d2iev6XoD+PSDnRInbVz0lmeopyDFf2k/VPejizLhWxHgOqLt3EXMNlwyv+fUbKlrY6g3YqMvECuoyUdcJSMSxuJtnRY/XtZ6CrY4CFRAY53fEtBJM1GXGK8jg0297UyUljmm/Tv79NlLeivRVNitoEEIIIYQQQgghhBBCCCGEEEIIIYQQQkiZ3NTVJ3ALVNTgzLjANJ0tRWWgniMqroZXJtpj8bSruThUlaWEZsdPBQTG+G25ZqAgmdhsBkpc7WIuaE9njfZqc/WoMPVDKGr8VEBgjG4pZWWgfj/g4b7eWFxbPBu6lszTg0OpcXV/yho/FRAYowJ01aCsSAa6KiGvuK3SD1tcKiAwRq+IvDJwqoJEtF956zGvynZ5U/T4+Z5wi5G5gkbR+FbgsO2nVaECAuNcQSMrrZ6BJsoaPxUQmJY9BwhZM/FmUR4VEBjnGjK+1YSazUDt2591f7IfcezypWgFUgGBMSrAloGmb9hUY8U1A9d+cWHMKUvXDfBF4sp+//K3K07blaVAKiAwia91b/9mAMBzfz+fWknaF7kvPpWBkX2Oq4u59gnS7uXC652RmAfbOmLLP7/wUxUAGHv37dhy270oXTcgK7YnZFRAYBLnAMlQtHUBKXWwsmZgbb8GJPNXdK8EADx/8kzMu1rcygf6Fph3AuBCtV1d/YBJAHioe2UFAEaOn2gYX5hX7fer5//TlAL1/vk8oMUwPg8w+eUXlYGCzvxmkf1IP+Za5kLlrUBB4vN5QItR2r2gHbueBBq4IprQ9Qp8txNXcxtybNbe1UVDBQQmoYDuZYtibuFZj8Xt514GUipnoDo7wHX7Qx9EmW9yaxe0d7W4q++v7seGng1Rc0mvbX+H0340UsVJPteh4fh6KiAwCQWMnj4T/af6O0DO/r4ZiCV+HdFe0XIvaGn/7tT2rj79cg8m6xxRwXf80k6ofa4KKiAw1plx4n8vmNzShSm//Hg730p6HTPaAQDnrnfG/PtNvv2CbqfrF7jG1/egTOPSmD4vzoxrUTIrQLuIa1f1tvGxCgDM6YjmRmadn6/7YYuv2zX7fsClq9HMthud8xq6qOv4AhXQ4hgV4PrNp2wfu+3pesw14Vs3QCux2asfXT/Bhu+RgAoIzP8Bfjd5b9BUtbkAAAAASUVORK5CYII=",vP=Te.memo(({buildings:e,gridSize:t,cellSizePx:n,onBuildingClick:s,isPlacingBuilding:a,buildingToPlace:i,ghostBuildingCoords:u,onGridMouseMove:d,onMapClick:h,onMapMouseDown:m,onMapMouseUp:y,currentPlayerId:v,currentBuildingRotation:x,isPlacingFarmland:w,selectedFarmId:_,onFarmlandClick:k,ghostFarmlandTiles:S,isPlacingRoad:C,ghostRoadTiles:N,isDemolishingRoad:j,mapOffsetX:T,mapOffsetY:O,isPlacementMode:L,isDragging:U,trees:K,stumps:de=[],stones:fe=[],playerAvatars:ne,isSelectingTree:ee,isSelectingStone:re,isTreeChoppingMode:ce,isStoneMiningMode:Ee,treeChopProgress:me=0,stoneMineProgress:be=0,activeChopTree:X,activeMineStone:G,avatarSize:he=100,axeAnimation:$,pickaxeAnimation:Z,shopInventories:ke={},bankConfigs:ge={},exploredTiles:Ce})=>{const Le=t*n,ae=t*n,Pe=p.useRef(null),Oe=p.useRef(null),De=p.useMemo(()=>{const W=[];for(let ie=0;ie<t;ie++){const ye=[];for(let We=0;We<t;We++){const ze=Math.random()<.2;ye.push(ze?2:1)}W.push(ye)}return W},[t]);p.useEffect(()=>{const W=Pe.current;if(!W)return;const ie=W.getContext("2d");if(!ie)return;const ye=new Image;ye.src=gP;const We=new Image;We.src=Hm;const ze=()=>{if(!ye.complete||!We.complete)return;ie.clearRect(0,0,W.width,W.height);for(let gt=0;gt<t;gt++)for(let et=0;et<t;et++){const Xt=De[gt][et]*32,on=0,Yn=gt*n,Xn=et*n;ie.drawImage(ye,Xt,on,32,32,Yn,Xn,n,n)}const Ct=96,Qe=160;de.forEach(gt=>{const et=gt.x*n,At=gt.y*n;ie.drawImage(We,Ct,Qe,32,32,et,At,n,n)});const lt=32,Ie=128;fe.forEach(gt=>{const et=gt.stoneQuantity!==void 0?gt.stoneQuantity:100,At=Math.max(.3,et/100),Xt=n*2*At,on=(n*2-Xt)/2,Yn=gt.x*n+on,Xn=gt.y*n+on;ie.drawImage(We,lt,Ie,64,64,Yn,Xn,Xt,Xt)});const tn=32,Fn=192;Ke.forEach(gt=>{const et=gt.x*n,At=gt.y*n;ie.drawImage(We,tn,Fn,96,96,et,At,n*3,n*3)})};ye.onload=ze,We.onload=ze,ye.complete&&We.complete&&ze()},[De,t,n,K,de,fe]),p.useEffect(()=>{const W=Oe.current;if(!W)return;const ie=W.getContext("2d");if(!ie)return;const ye=n*2,We=document.createElement("canvas");We.width=ye,We.height=ye;const ze=We.getContext("2d");if(ze){const Qe=ze.createRadialGradient(ye/2,ye/2,0,ye/2,ye/2,ye/2);Qe.addColorStop(0,"rgba(0,0,0,1)"),Qe.addColorStop(.5,"rgba(0,0,0,1)"),Qe.addColorStop(1,"rgba(0,0,0,0)"),ze.fillStyle=Qe,ze.fillRect(0,0,ye,ye)}ie.clearRect(0,0,W.width,W.height),ie.save(),ie.fillStyle="black",ie.fillRect(0,0,W.width,W.height),ie.globalCompositeOperation="destination-out";const Ct=(ye-n)/2;if(Ce.forEach(Qe=>{const[lt,Ie]=Qe.split(",").map(Number);ie.drawImage(We,lt*n-Ct,Ie*n-Ct)}),ie.restore(),ce&&me>0&&X&&Ce.has(`${X.x},${X.y}`)){const Qe=X.x*n,lt=X.y*n;ie.fillStyle="rgba(255, 255, 255, 0.7)",ie.fillRect(Qe+n*.5,lt+n*1.5,n*2,8),ie.fillStyle="#00cc00",ie.fillRect(Qe+n*.5,lt+n*1.5,n*2*(me/100),8),ie.strokeStyle="#000",ie.lineWidth=1,ie.strokeRect(Qe+n*.5,lt+n*1.5,n*2,8)}if(Ee&&be>0&&G&&Ce.has(`${G.x},${G.y}`)){const Qe=G.x*n,lt=G.y*n;ie.fillStyle="rgba(255, 255, 255, 0.7)",ie.fillRect(Qe,lt-10,n,6),ie.fillStyle="#888888",ie.fillRect(Qe,lt-10,n*(be/100),6),ie.strokeStyle="#000",ie.lineWidth=1,ie.strokeRect(Qe,lt-10,n,6)}},[Ce,t,n,ce,me,X,Ee,be,G]);const Ke=K,Ue=W=>{const ie=W.currentTarget.getBoundingClientRect(),ye=W.clientX-ie.left,We=W.clientY-ie.top,ze=Math.floor(ye/n),Ct=Math.floor(We/n);return{gridX:ze,gridY:Ct}},[mt,$e]=p.useState(null),[Lt,Vt]=p.useState(null),Kt=W=>{var Ct,Qe,lt;const{gridX:ie,gridY:ye}=Ue(W);d(ie,ye);const We=W.currentTarget.getBoundingClientRect();if(Vt({x:W.clientX-We.left,y:W.clientY-We.top}),!Ce.has(`${ie},${ye}`)){$e(null);return}let ze=null;for(const Ie of K)if(ie>=Ie.x&&ie<Ie.x+3&&ye>=Ie.y&&ye<Ie.y+3){ze={x:Ie.x,y:Ie.y,name:"Fa",quantity:"12 egysg"};break}if(!ze){for(const Ie of fe)if(ie>=Ie.x&&ie<Ie.x+2&&ye>=Ie.y&&ye<Ie.y+2){ze={x:Ie.x,y:Ie.y,name:"K",quantity:`${Ie.stoneQuantity??100} egysg`};break}}if(!ze)for(const Ie of e){if(Ie.farmlandTiles){const gt=Ie.farmlandTiles.find(et=>et.x===ie&&et.y===ye);if(gt){let et="Szntfld",At="res";if(gt.cropType&&gt.cropType!=="none")if(et={wheat:"Bza",corn:"Kukorica",none:"Nincs"}[gt.cropType]||gt.cropType,gt.isUnderConstruction)At="Mvels alatt...";else{const on=Math.floor(gt.cropProgress||0);At=`rettsg: ${on}%`,on>=100&&(At="Arathat!")}ze={x:ie,y:ye,name:et,quantity:At};break}}const tn=Ie.rotation===90||Ie.rotation===270?Ie.height:Ie.width,Fn=Ie.rotation===90||Ie.rotation===270?Ie.width:Ie.height;if(ie>=Ie.x&&ie<Ie.x+tn&&ye>=Ie.y&&ye<Ie.y+Fn){let gt="";if(Ie.isUnderConstruction)gt=`pts alatt (${Math.floor(Ie.buildProgress||0)}%)`;else if(Ie.type==="mill")gt=`Liszt: ${((Ct=Ie.millInventory)==null?void 0:Ct.flour)||0}, Bza: ${((Qe=Ie.millInventory)==null?void 0:Qe.wheat)||0}`;else if(Ie.type==="popcorn_stand")gt=`Popcorn: ${((lt=Ie.popcornStandInventory)==null?void 0:lt.popcorn)||0}`;else if(Ie.type==="house")gt=`Lakk: ${Ie.residentIds.length}/${Ie.capacity}`;else if(Ie.type==="shop"){const et=ke[Ie.id]||[];et.some(At=>At.stock>0),gt=l.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[l.jsx("div",{className:"font-bold underline mb-0.5",children:"Knlat:"}),et.length>0?et.map((At,Xt)=>l.jsxs("div",{className:At.stock===0?"line-through text-gray-400":"",children:[At.name,": ",At.sellPrice," Ft (",At.stock," db)"]},Xt)):l.jsx("div",{className:"text-gray-400 italic",children:"Jelenleg nincs ru."}),l.jsxs("div",{className:"mt-1 text-xs text-gray-300",children:["Dolgozk: ",Ie.employeeIds.length,"/",Ie.capacity]})]})}else if(Ie.type==="bank"){const et=ge[Ie.id];gt=l.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[l.jsx("div",{className:"font-bold",children:"Bank Informcik:"}),l.jsxs("div",{children:["Kamatlb: ",(et==null?void 0:et.interestRate)??20,"%"]}),l.jsxs("div",{children:["Max Hitel: ",(et==null?void 0:et.maxLoanAmount)??1e4," Ft"]}),l.jsxs("div",{className:"mt-1 text-xs text-gray-300",children:["Dolgozk: ",Ie.employeeIds.length,"/",Ie.capacity]})]})}else(Ie.type==="office"||Ie.type==="forestry"||Ie.type==="farm")&&(gt=`Dolgozk: ${Ie.employeeIds.length}/${Ie.capacity}`);ze={x:Ie.x,y:Ie.y,name:`${Ie.name} (#${Ie.houseNumber})`,quantity:gt};break}}$e(ze)},Ot=W=>{const{gridX:ie,gridY:ye}=Ue(W);m(ie,ye)},yn=W=>{const{gridX:ie,gridY:ye}=Ue(W);y(ie,ye)},$t=(W,ie,ye,We)=>ye.some(ze=>ze.type==="road"&&ze.x===W&&ze.y===ie&&!ze.isUnderConstruction)||We.some(ze=>ze.x===W&&ze.y===ie),B=[];e.forEach(W=>{W.type==="farm"&&W.farmlandTiles&&W.farmlandTiles.forEach(ie=>{B.push({...ie,farmId:W.id})})});const ue=()=>a?"none":w||C?"crosshair":j?"cell":ee||re?"none":"default",je=W=>{const ie=W.trim().split(/\s+/);if(ie.length<=1)return W;const ye=ie.pop();return`${ie.map(ze=>`${ze.charAt(0)}.`).join(" ")} ${ye}`};return l.jsxs("div",{className:"relative border border-gray-300 dark:border-gray-700 bg-black overflow-hidden",style:{width:Le,height:ae,transform:`translate(${T}px, ${O}px)`,cursor:ue()},onMouseMove:Kt,onMouseDown:Ot,onMouseUp:yn,onClick:W=>{if(a&&i&&u&&!U){const{gridX:ie,gridY:ye}=Ue(W);h(ie,ye)}},children:[l.jsx("canvas",{ref:Pe,width:Le,height:ae,style:{position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:0}}),a&&u&&l.jsx("div",{style:{position:"absolute",left:u.x*n,top:u.y*n,pointerEvents:"none",zIndex:100,fontSize:"24px"},children:""}),ee&&u&&l.jsx("div",{style:{position:"absolute",left:u.x*n+n*.4,top:u.y*n+n*.4,pointerEvents:"none",zIndex:100,fontSize:"14px"},children:""}),re&&u&&l.jsx("div",{style:{position:"absolute",left:u.x*n+n*.2,top:u.y*n+n*.2,pointerEvents:"none",zIndex:100,fontSize:"14px"},children:""}),mt&&Lt&&l.jsxs("div",{style:{position:"absolute",left:Lt.x+15,top:Lt.y+15,backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",zIndex:100,pointerEvents:"none",whiteSpace:"nowrap"},children:[l.jsx("div",{className:"font-bold",children:mt.name}),l.jsx("div",{children:mt.quantity})]}),B.map((W,ie)=>l.jsx(fa,{id:`farmland-${W.farmId}-${W.x}-${W.y}`,name:"Szntfld",x:W.x,y:W.y,width:1,height:1,type:"farmland",cellSizePx:n,onClick:()=>k(W.farmId,W.x,W.y),capacity:0,ownerId:W.ownerId,residentIds:[],employeeIds:[],isGhost:!1,isUnderConstruction:W.isUnderConstruction,buildProgress:W.buildProgress,currentPlayerId:v,rotation:0,isPlacementMode:L,isDemolishingRoad:j,cropType:W.cropType,cropProgress:W.cropProgress,constructionEta:W.constructionEta,originalDuration:W.originalDuration},`farmland-${W.farmId}-${W.x}-${W.y}`)),e.map(W=>{const ie={...W,cellSizePx:n,onClick:s,currentPlayerId:v,isPlacementMode:L,isDemolishingRoad:j};return W.type==="road"?l.jsx(fa,{...ie,hasRoadNeighborTop:$t(W.x,W.y-1,e,N),hasRoadNeighborBottom:$t(W.x,W.y+1,e,N),hasRoadNeighborLeft:$t(W.x-1,W.y,e,N),hasRoadNeighborRight:$t(W.x+1,W.y,e,N)},W.id):l.jsx(fa,{...ie},W.id)}),a&&i&&u&&l.jsx(fa,{id:"ghost-building",name:i.name,x:u.x,y:u.y,width:i.width,height:i.height,type:i.type,customGraphics:i.customGraphics,cellSizePx:n,onClick:()=>{},capacity:i.capacity,ownerId:v,residentIds:[],employeeIds:[],isGhost:!0,isUnderConstruction:!1,buildProgress:0,currentPlayerId:v,rotation:x,isPlacementMode:L,isDemolishingRoad:j},"ghost-building"),w&&_&&u&&S.map((W,ie)=>l.jsx(fa,{id:`ghost-farmland-${ie}`,name:"Szntfld",x:W.x,y:W.y,width:1,height:1,type:"farmland",cellSizePx:n,onClick:()=>{},capacity:0,ownerId:v,residentIds:[],employeeIds:[],isGhost:!0,isUnderConstruction:!1,buildProgress:0,currentPlayerId:v,rotation:0,isPlacementMode:L,isDemolishingRoad:j,cropType:Yt.None,cropProgress:0},`ghost-farmland-${ie}`)),C&&u&&(N.length>0?N.map((W,ie)=>l.jsx(fa,{id:`ghost-road-${ie}`,name:"t",x:W.x,y:W.y,width:1,height:1,type:"road",cellSizePx:n,onClick:()=>{},capacity:0,ownerId:v,residentIds:[],employeeIds:[],isGhost:!0,isUnderConstruction:!1,buildProgress:0,currentPlayerId:v,rotation:0,isPlacementMode:L,isDemolishingRoad:j},`ghost-road-${ie}`)):l.jsx(fa,{id:"ghost-road-single",name:"t",x:u.x,y:u.y,width:1,height:1,type:"road",cellSizePx:n,onClick:()=>{},capacity:0,ownerId:v,residentIds:[],employeeIds:[],isGhost:!0,isUnderConstruction:!1,buildProgress:0,currentPlayerId:v,rotation:0,isPlacementMode:L,isDemolishingRoad:j})),Array.isArray(ne)&&ne.map(W=>{const ie=W.dir==="down"?0:W.dir==="left"?1:W.dir==="right"?2:3,ye=n,We=n*2,ze=W.frame*ye,Ct=ie*We,Qe=W.renderX!==void 0?W.renderX:W.x*n,lt=W.renderY!==void 0?W.renderY-We:W.y*n-We,Ie=(he||100)/100,tn=We*(1-Ie)-12;return l.jsxs("div",{style:{position:"absolute",left:Qe,top:lt,width:ye,height:We,zIndex:5},children:[l.jsx("div",{style:{width:"100%",height:"100%",backgroundImage:`url(${yP})`,backgroundPosition:`-${ze}px -${Ct}px`,backgroundSize:`${ye*3}px ${We*4}px`,backgroundRepeat:"no-repeat",imageRendering:"pixelated",transform:`scale(${Ie})`,transformOrigin:"bottom center"},"aria-label":"player-avatar"}),l.jsx("div",{style:{position:"absolute",top:tn,left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0,0,0,0.5)",color:"white",padding:"1px 4px",borderRadius:"4px",fontSize:"10px",whiteSpace:"nowrap",pointerEvents:"none"},children:je(W.name)}),W.carryingStone&&W.carryingStone>0&&l.jsx("div",{style:{position:"absolute",top:-20,left:"50%",transform:"translateX(-50%)",zIndex:20,fontSize:"12px",animation:"bounce 1s infinite"},children:""}),W.carryingWood&&W.carryingWood>0&&l.jsx("div",{style:{position:"absolute",top:-32,left:"50%",transform:"translateX(-50%)",zIndex:20,fontSize:"12px",animation:"bounce 1s infinite"},children:""})]},`avatar-${W.id}`)}),l.jsx("canvas",{ref:Oe,width:Le,height:ae,style:{position:"absolute",top:0,left:0,pointerEvents:"none",zIndex:20}})]})});var rp="focusScope.autoFocusOnMount",sp="focusScope.autoFocusOnUnmount",w0={bubbles:!1,cancelable:!0},wP="FocusScope",Wm=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...u}=e,[d,h]=p.useState(null),m=un(a),y=un(i),v=p.useRef(null),x=pt(t,k=>h(k)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let k=function(j){if(w.paused||!d)return;const T=j.target;d.contains(T)?v.current=T:No(v.current,{select:!0})},S=function(j){if(w.paused||!d)return;const T=j.relatedTarget;T!==null&&(d.contains(T)||No(v.current,{select:!0}))},C=function(j){if(document.activeElement===document.body)for(const O of j)O.removedNodes.length>0&&No(d)};document.addEventListener("focusin",k),document.addEventListener("focusout",S);const N=new MutationObserver(C);return d&&N.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",S),N.disconnect()}}},[s,d,w.paused]),p.useEffect(()=>{if(d){b0.add(w);const k=document.activeElement;if(!d.contains(k)){const C=new CustomEvent(rp,w0);d.addEventListener(rp,m),d.dispatchEvent(C),C.defaultPrevented||(xP(CP(wb(d)),{select:!0}),document.activeElement===k&&No(d))}return()=>{d.removeEventListener(rp,m),setTimeout(()=>{const C=new CustomEvent(sp,w0);d.addEventListener(sp,y),d.dispatchEvent(C),C.defaultPrevented||No(k??document.body,{select:!0}),d.removeEventListener(sp,y),b0.remove(w)},0)}}},[d,m,y,w]);const _=p.useCallback(k=>{if(!n&&!s||w.paused)return;const S=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,C=document.activeElement;if(S&&C){const N=k.currentTarget,[j,T]=bP(N);j&&T?!k.shiftKey&&C===T?(k.preventDefault(),n&&No(j,{select:!0})):k.shiftKey&&C===j&&(k.preventDefault(),n&&No(T,{select:!0})):C===N&&k.preventDefault()}},[n,s,w.paused]);return l.jsx(Ze.div,{tabIndex:-1,...u,ref:x,onKeyDown:_})});Wm.displayName=wP;function xP(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(No(s,{select:t}),document.activeElement!==n)return}function bP(e){const t=wb(e),n=x0(t,e),s=x0(t.reverse(),e);return[n,s]}function wb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function x0(e,t){for(const n of e)if(!SP(n,{upTo:t}))return n}function SP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kP(e){return e instanceof HTMLInputElement&&"select"in e}function No(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kP(e)&&t&&e.select()}}var b0=_P();function _P(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=S0(e,t),e.unshift(t)},remove(t){var n;e=S0(e,t),(n=e[0])==null||n.resume()}}}function S0(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function CP(e){return e.filter(t=>t.tagName!=="A")}var op=0;function xb(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??k0()),document.body.insertAdjacentElement("beforeend",e[1]??k0()),op++,()=>{op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),op--}},[])}function k0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ts=function(){return Ts=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ts.apply(this,arguments)};function al(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function EP(e,t,n,s){function a(i){return i instanceof n?i:new n(function(u){u(i)})}return new(n||(n=Promise))(function(i,u){function d(y){try{m(s.next(y))}catch(v){u(v)}}function h(y){try{m(s.throw(y))}catch(v){u(v)}}function m(y){y.done?i(y.value):a(y.value).then(d,h)}m((s=s.apply(e,t||[])).next())})}function jP(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var nd="right-scroll-bar-position",rd="width-before-scroll-bar",NP="with-scroll-bars-hidden",TP="--removed-body-scroll-bar-size";function ap(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PP(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var RP=typeof window<"u"?p.useLayoutEffect:p.useEffect,_0=new WeakMap;function AP(e,t){var n=PP(null,function(s){return e.forEach(function(a){return ap(a,s)})});return RP(function(){var s=_0.get(n);if(s){var a=new Set(s),i=new Set(e),u=n.current;a.forEach(function(d){i.has(d)||ap(d,null)}),i.forEach(function(d){a.has(d)||ap(d,u)})}_0.set(n,e)},[e]),n}function IP(e){return e}function OP(e,t){t===void 0&&(t=IP);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var u=t(i,s);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(i){for(s=!0;n.length;){var u=n;n=[],u.forEach(i)}n={push:function(d){return i(d)},filter:function(){return n}}},assignMedium:function(i){s=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(i),u=n}var h=function(){var y=u;u=[],y.forEach(i)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),n}}}};return a}function MP(e){e===void 0&&(e={});var t=OP(null);return t.options=Ts({async:!0,ssr:!1},e),t}var bb=function(e){var t=e.sideCar,n=al(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Ts({},n))};bb.isSideCarExport=!0;function zP(e,t){return e.useMedium(t),bb}var Sb=MP(),ip=function(){},Bd=p.forwardRef(function(e,t){var n=p.useRef(null),s=p.useState({onScrollCapture:ip,onWheelCapture:ip,onTouchMoveCapture:ip}),a=s[0],i=s[1],u=e.forwardProps,d=e.children,h=e.className,m=e.removeScrollBar,y=e.enabled,v=e.shards,x=e.sideCar,w=e.noRelative,_=e.noIsolation,k=e.inert,S=e.allowPinchZoom,C=e.as,N=C===void 0?"div":C,j=e.gapMode,T=al(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=x,L=AP([n,t]),U=Ts(Ts({},T),a);return p.createElement(p.Fragment,null,y&&p.createElement(O,{sideCar:Sb,removeScrollBar:m,shards:v,noRelative:w,noIsolation:_,inert:k,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:j}),u?p.cloneElement(p.Children.only(d),Ts(Ts({},U),{ref:L})):p.createElement(N,Ts({},U,{className:h,ref:L}),d))});Bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bd.classNames={fullWidth:rd,zeroRight:nd};var DP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=DP();return t&&e.setAttribute("nonce",t),e}function $P(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function FP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var UP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=LP())&&($P(t,n),FP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},BP=function(){var e=UP();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},kb=function(){var e=BP(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},VP={left:0,top:0,right:0,gap:0},lp=function(e){return parseInt(e||"",10)||0},HP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[lp(n),lp(s),lp(a)]},WP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VP;var t=HP(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},KP=kb(),$i="data-scroll-locked",qP=function(e,t,n,s){var a=e.left,i=e.top,u=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(NP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat($i,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nd,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(rd,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat($i,`] {
    `).concat(TP,": ").concat(d,`px;
  }
`)},C0=function(){var e=parseInt(document.body.getAttribute($i)||"0",10);return isFinite(e)?e:0},GP=function(){p.useEffect(function(){return document.body.setAttribute($i,(C0()+1).toString()),function(){var e=C0()-1;e<=0?document.body.removeAttribute($i):document.body.setAttribute($i,e.toString())}},[])},QP=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;GP();var i=p.useMemo(function(){return WP(a)},[a]);return p.createElement(KP,{styles:qP(i,!t,a,n?"":"!important")})},Gp=!1;if(typeof window<"u")try{var Bu=Object.defineProperty({},"passive",{get:function(){return Gp=!0,!0}});window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{Gp=!1}var wi=Gp?{passive:!1}:!1,YP=function(e){return e.tagName==="TEXTAREA"},_b=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!YP(e)&&n[t]==="visible")},XP=function(e){return _b(e,"overflowY")},JP=function(e){return _b(e,"overflowX")},E0=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=Cb(e,s);if(a){var i=Eb(e,s),u=i[1],d=i[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},ZP=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},eR=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Cb=function(e,t){return e==="v"?XP(t):JP(t)},Eb=function(e,t){return e==="v"?ZP(t):eR(t)},tR=function(e,t){return e==="h"&&t==="rtl"?-1:1},nR=function(e,t,n,s,a){var i=tR(e,window.getComputedStyle(t).direction),u=i*s,d=n.target,h=t.contains(d),m=!1,y=u>0,v=0,x=0;do{if(!d)break;var w=Eb(e,d),_=w[0],k=w[1],S=w[2],C=k-S-i*_;(_||C)&&Cb(e,d)&&(v+=C,x+=_);var N=d.parentNode;d=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(y&&Math.abs(v)<1||!y&&Math.abs(x)<1)&&(m=!0),m},Vu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j0=function(e){return[e.deltaX,e.deltaY]},N0=function(e){return e&&"current"in e?e.current:e},rR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oR=0,xi=[];function aR(e){var t=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),a=p.useState(oR++)[0],i=p.useState(kb)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var k=jP([e.lockRef.current],(e.shards||[]).map(N0),!0).filter(Boolean);return k.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),k.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=p.useCallback(function(k,S){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!u.current.allowPinchZoom;var C=Vu(k),N=n.current,j="deltaX"in k?k.deltaX:N[0]-C[0],T="deltaY"in k?k.deltaY:N[1]-C[1],O,L=k.target,U=Math.abs(j)>Math.abs(T)?"h":"v";if("touches"in k&&U==="h"&&L.type==="range")return!1;var K=window.getSelection(),de=K&&K.anchorNode,fe=de?de===L||de.contains(L):!1;if(fe)return!1;var ne=E0(U,L);if(!ne)return!0;if(ne?O=U:(O=U==="v"?"h":"v",ne=E0(U,L)),!ne)return!1;if(!s.current&&"changedTouches"in k&&(j||T)&&(s.current=O),!O)return!0;var ee=s.current||O;return nR(ee,S,k,ee==="h"?j:T)},[]),h=p.useCallback(function(k){var S=k;if(!(!xi.length||xi[xi.length-1]!==i)){var C="deltaY"in S?j0(S):Vu(S),N=t.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&rR(O.delta,C)})[0];if(N&&N.should){S.cancelable&&S.preventDefault();return}if(!N){var j=(u.current.shards||[]).map(N0).filter(Boolean).filter(function(O){return O.contains(S.target)}),T=j.length>0?d(S,j[0]):!u.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),m=p.useCallback(function(k,S,C,N){var j={name:k,delta:S,target:C,should:N,shadowParent:iR(C)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(T){return T!==j})},1)},[]),y=p.useCallback(function(k){n.current=Vu(k),s.current=void 0},[]),v=p.useCallback(function(k){m(k.type,j0(k),k.target,d(k,e.lockRef.current))},[]),x=p.useCallback(function(k){m(k.type,Vu(k),k.target,d(k,e.lockRef.current))},[]);p.useEffect(function(){return xi.push(i),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",h,wi),document.addEventListener("touchmove",h,wi),document.addEventListener("touchstart",y,wi),function(){xi=xi.filter(function(k){return k!==i}),document.removeEventListener("wheel",h,wi),document.removeEventListener("touchmove",h,wi),document.removeEventListener("touchstart",y,wi)}},[]);var w=e.removeScrollBar,_=e.inert;return p.createElement(p.Fragment,null,_?p.createElement(i,{styles:sR(a)}):null,w?p.createElement(QP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function iR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lR=zP(Sb,aR);var Km=p.forwardRef(function(e,t){return p.createElement(Bd,Ts({},e,{ref:t,sideCar:lR}))});Km.classNames=Bd.classNames;var cR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bi=new WeakMap,Hu=new WeakMap,Wu={},cp=0,jb=function(e){return e&&(e.host||jb(e.parentNode))},uR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=jb(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},dR=function(e,t,n,s){var a=uR(t,Array.isArray(e)?e:[e]);Wu[n]||(Wu[n]=new WeakMap);var i=Wu[n],u=[],d=new Set,h=new Set(a),m=function(v){!v||d.has(v)||(d.add(v),m(v.parentNode))};a.forEach(m);var y=function(v){!v||h.has(v)||Array.prototype.forEach.call(v.children,function(x){if(d.has(x))y(x);else try{var w=x.getAttribute(s),_=w!==null&&w!=="false",k=(bi.get(x)||0)+1,S=(i.get(x)||0)+1;bi.set(x,k),i.set(x,S),u.push(x),k===1&&_&&Hu.set(x,!0),S===1&&x.setAttribute(n,"true"),_||x.setAttribute(s,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return y(t),d.clear(),cp++,function(){u.forEach(function(v){var x=bi.get(v)-1,w=i.get(v)-1;bi.set(v,x),i.set(v,w),x||(Hu.has(v)||v.removeAttribute(s),Hu.delete(v)),w||v.removeAttribute(n)}),cp--,cp||(bi=new WeakMap,bi=new WeakMap,Hu=new WeakMap,Wu={})}},Nb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=cR(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),dR(s,a,n,"aria-hidden")):function(){return null}};function fR(e){const t=hR(e),n=p.forwardRef((s,a)=>{const{children:i,...u}=s,d=p.Children.toArray(i),h=d.find(mR);if(h){const m=h.props.children,y=d.map(v=>v===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:v);return l.jsx(t,{...u,ref:a,children:p.isValidElement(m)?p.cloneElement(m,void 0,y):null})}return l.jsx(t,{...u,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function hR(e){const t=p.forwardRef((n,s)=>{const{children:a,...i}=n;if(p.isValidElement(a)){const u=yR(a),d=gR(i,a.props);return a.type!==p.Fragment&&(d.ref=s?Zi(s,u):u),p.cloneElement(a,d)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pR=Symbol("radix.slottable");function mR(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pR}function gR(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...d)=>{const h=i(...d);return a(...d),h}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function yR(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Vd="Dialog",[Tb]=fr(Vd),[vR,ps]=Tb(Vd),Pb=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:u=!0}=e,d=p.useRef(null),h=p.useRef(null),[m,y]=Ms({prop:s,defaultProp:a??!1,onChange:i,caller:Vd});return l.jsx(vR,{scope:t,triggerRef:d,contentRef:h,contentId:Lo(),titleId:Lo(),descriptionId:Lo(),open:m,onOpenChange:y,onOpenToggle:p.useCallback(()=>y(v=>!v),[y]),modal:u,children:n})};Pb.displayName=Vd;var Rb="DialogTrigger",wR=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=ps(Rb,n),i=pt(t,a.triggerRef);return l.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Qm(a.open),...s,ref:i,onClick:Ve(e.onClick,a.onOpenToggle)})});wR.displayName=Rb;var qm="DialogPortal",[xR,Ab]=Tb(qm,{forceMount:void 0}),Ib=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,i=ps(qm,t);return l.jsx(xR,{scope:t,forceMount:n,children:p.Children.map(s,u=>l.jsx(Ir,{present:n||i.open,children:l.jsx(Cd,{asChild:!0,container:a,children:u})}))})};Ib.displayName=qm;var md="DialogOverlay",Ob=p.forwardRef((e,t)=>{const n=Ab(md,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=ps(md,e.__scopeDialog);return i.modal?l.jsx(Ir,{present:s||i.open,children:l.jsx(SR,{...a,ref:t})}):null});Ob.displayName=md;var bR=fR("DialogOverlay.RemoveScroll"),SR=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=ps(md,n);return l.jsx(Km,{as:bR,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(Ze.div,{"data-state":Qm(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ta="DialogContent",Mb=p.forwardRef((e,t)=>{const n=Ab(Ta,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,i=ps(Ta,e.__scopeDialog);return l.jsx(Ir,{present:s||i.open,children:i.modal?l.jsx(kR,{...a,ref:t}):l.jsx(_R,{...a,ref:t})})});Mb.displayName=Ta;var kR=p.forwardRef((e,t)=>{const n=ps(Ta,e.__scopeDialog),s=p.useRef(null),a=pt(t,n.contentRef,s);return p.useEffect(()=>{const i=s.current;if(i)return Nb(i)},[]),l.jsx(zb,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(e.onCloseAutoFocus,i=>{var u;i.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ve(e.onPointerDownOutside,i=>{const u=i.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&i.preventDefault()}),onFocusOutside:Ve(e.onFocusOutside,i=>i.preventDefault())})}),_R=p.forwardRef((e,t)=>{const n=ps(Ta,e.__scopeDialog),s=p.useRef(!1),a=p.useRef(!1);return l.jsx(zb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var u,d;(u=e.onCloseAutoFocus)==null||u.call(e,i),i.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var h,m;(h=e.onInteractOutside)==null||h.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=i.target;((m=n.triggerRef.current)==null?void 0:m.contains(u))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),zb=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...u}=e,d=ps(Ta,n),h=p.useRef(null),m=pt(t,h);return xb(),l.jsxs(l.Fragment,{children:[l.jsx(Wm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:l.jsx(bc,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Qm(d.open),...u,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(CR,{titleId:d.titleId}),l.jsx(jR,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Gm="DialogTitle",Db=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=ps(Gm,n);return l.jsx(Ze.h2,{id:a.titleId,...s,ref:t})});Db.displayName=Gm;var Lb="DialogDescription",$b=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=ps(Lb,n);return l.jsx(Ze.p,{id:a.descriptionId,...s,ref:t})});$b.displayName=Lb;var Fb="DialogClose",Ub=p.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=ps(Fb,n);return l.jsx(Ze.button,{type:"button",...s,ref:t,onClick:Ve(e.onClick,()=>a.onOpenChange(!1))})});Ub.displayName=Fb;function Qm(e){return e?"open":"closed"}var Bb="DialogTitleWarning",[d5,Vb]=q_(Bb,{contentName:Ta,titleName:Gm,docsSlug:"dialog"}),CR=({titleId:e})=>{const t=Vb(Bb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ER="DialogDescriptionWarning",jR=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Vb(ER).contentName}}.`;return p.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},NR=Pb,TR=Ib,Hb=Ob,Wb=Mb,Kb=Db,qb=$b,PR=Ub;const Or=NR,RR=TR,Gb=p.forwardRef(({className:e,...t},n)=>l.jsx(Hb,{ref:n,className:ot("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Gb.displayName=Hb.displayName;const hr=p.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(RR,{children:[l.jsx(Gb,{}),l.jsxs(Wb,{ref:s,className:ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(PR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(jm,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hr.displayName=Wb.displayName;const pr=({className:e,...t})=>l.jsx("div",{className:ot("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pr.displayName="DialogHeader";const Wr=({className:e,...t})=>l.jsx("div",{className:ot("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wr.displayName="DialogFooter";const mr=p.forwardRef(({className:e,...t},n)=>l.jsx(Kb,{ref:n,className:ot("text-lg font-semibold leading-none tracking-tight",e),...t}));mr.displayName=Kb.displayName;const Mr=p.forwardRef(({className:e,...t},n)=>l.jsx(qb,{ref:n,className:ot("text-sm text-muted-foreground",e),...t}));Mr.displayName=qb.displayName;const AR=xm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=p.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},i)=>{const u=s?KT:"button";return l.jsx(u,{className:ot(AR({variant:t,size:n,className:e})),ref:i,...a})});_e.displayName="Button";var IR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OR=IR.reduce((e,t)=>{const n=Ud(`Primitive.${t}`),s=p.forwardRef((a,i)=>{const{asChild:u,...d}=a,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),MR="Label",Qb=p.forwardRef((e,t)=>l.jsx(OR.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Qb.displayName=MR;var Yb=Qb;const zR=xm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ht=p.forwardRef(({className:e,...t},n)=>l.jsx(Yb,{ref:n,className:ot(zR(),e),...t}));ht.displayName=Yb.displayName;function dc(e,[t,n]){return Math.min(n,Math.max(t,e))}var DR=p.createContext(void 0);function il(e){const t=p.useContext(DR);return e||t||"ltr"}function LR(e){const t=$R(e),n=p.forwardRef((s,a)=>{const{children:i,...u}=s,d=p.Children.toArray(i),h=d.find(UR);if(h){const m=h.props.children,y=d.map(v=>v===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:v);return l.jsx(t,{...u,ref:a,children:p.isValidElement(m)?p.cloneElement(m,void 0,y):null})}return l.jsx(t,{...u,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}function $R(e){const t=p.forwardRef((n,s)=>{const{children:a,...i}=n;if(p.isValidElement(a)){const u=VR(a),d=BR(i,a.props);return a.type!==p.Fragment&&(d.ref=s?Zi(s,u):u),p.cloneElement(a,d)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FR=Symbol("radix.slottable");function UR(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FR}function BR(e,t){const n={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...d)=>{const h=i(...d);return a(...d),h}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function VR(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ec(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var HR=[" ","Enter","ArrowUp","ArrowDown"],WR=[" ","Enter"],Pa="Select",[Hd,Wd,KR]=_d(Pa),[ll]=fr(Pa,[KR,Id]),Kd=Id(),[qR,Bo]=ll(Pa),[GR,QR]=ll(Pa),Xb=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:i,value:u,defaultValue:d,onValueChange:h,dir:m,name:y,autoComplete:v,disabled:x,required:w,form:_}=e,k=Kd(t),[S,C]=p.useState(null),[N,j]=p.useState(null),[T,O]=p.useState(!1),L=il(m),[U,K]=Ms({prop:s,defaultProp:a??!1,onChange:i,caller:Pa}),[de,fe]=Ms({prop:u,defaultProp:d,onChange:h,caller:Pa}),ne=p.useRef(null),ee=S?_||!!S.closest("form"):!0,[re,ce]=p.useState(new Set),Ee=Array.from(re).map(me=>me.props.value).join(";");return l.jsx(qN,{...k,children:l.jsxs(qR,{required:w,scope:t,trigger:S,onTriggerChange:C,valueNode:N,onValueNodeChange:j,valueNodeHasChildren:T,onValueNodeHasChildrenChange:O,contentId:Lo(),value:de,onValueChange:fe,open:U,onOpenChange:K,dir:L,triggerPointerDownPosRef:ne,disabled:x,children:[l.jsx(Hd.Provider,{scope:t,children:l.jsx(GR,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(me=>{ce(be=>new Set(be).add(me))},[]),onNativeOptionRemove:p.useCallback(me=>{ce(be=>{const X=new Set(be);return X.delete(me),X})},[]),children:n})}),ee?l.jsxs(b1,{"aria-hidden":!0,required:w,tabIndex:-1,name:y,autoComplete:v,value:de,onChange:me=>fe(me.target.value),disabled:x,form:_,children:[de===void 0?l.jsx("option",{value:""}):null,Array.from(re)]},Ee):null]})})};Xb.displayName=Pa;var Jb="SelectTrigger",Zb=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,i=Kd(n),u=Bo(Jb,n),d=u.disabled||s,h=pt(t,u.onTriggerChange),m=Wd(n),y=p.useRef("touch"),[v,x,w]=k1(k=>{const S=m().filter(j=>!j.disabled),C=S.find(j=>j.value===u.value),N=_1(S,k,C);N!==void 0&&u.onValueChange(N.value)}),_=k=>{d||(u.onOpenChange(!0),w()),k&&(u.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return l.jsx(Ox,{asChild:!0,...i,children:l.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":S1(u.value)?"":void 0,...a,ref:h,onClick:Ve(a.onClick,k=>{k.currentTarget.focus(),y.current!=="mouse"&&_(k)}),onPointerDown:Ve(a.onPointerDown,k=>{y.current=k.pointerType;const S=k.target;S.hasPointerCapture(k.pointerId)&&S.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(_(k),k.preventDefault())}),onKeyDown:Ve(a.onKeyDown,k=>{const S=v.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&x(k.key),!(S&&k.key===" ")&&HR.includes(k.key)&&(_(),k.preventDefault())})})})});Zb.displayName=Jb;var e1="SelectValue",t1=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:u="",...d}=e,h=Bo(e1,n),{onValueNodeHasChildrenChange:m}=h,y=i!==void 0,v=pt(t,h.onValueNodeChange);return sn(()=>{m(y)},[m,y]),l.jsx(Ze.span,{...d,ref:v,style:{pointerEvents:"none"},children:S1(h.value)?l.jsx(l.Fragment,{children:u}):i})});t1.displayName=e1;var YR="SelectIcon",n1=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return l.jsx(Ze.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});n1.displayName=YR;var XR="SelectPortal",r1=e=>l.jsx(Cd,{asChild:!0,...e});r1.displayName=XR;var Ra="SelectContent",s1=p.forwardRef((e,t)=>{const n=Bo(Ra,e.__scopeSelect),[s,a]=p.useState();if(sn(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?Ji.createPortal(l.jsx(o1,{scope:e.__scopeSelect,children:l.jsx(Hd.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(a1,{...e,ref:t})});s1.displayName=Ra;var ss=10,[o1,Vo]=ll(Ra),JR="SelectContentImpl",ZR=LR("SelectContent.RemoveScroll"),a1=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:u,side:d,sideOffset:h,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:x,collisionPadding:w,sticky:_,hideWhenDetached:k,avoidCollisions:S,...C}=e,N=Bo(Ra,n),[j,T]=p.useState(null),[O,L]=p.useState(null),U=pt(t,ae=>T(ae)),[K,de]=p.useState(null),[fe,ne]=p.useState(null),ee=Wd(n),[re,ce]=p.useState(!1),Ee=p.useRef(!1);p.useEffect(()=>{if(j)return Nb(j)},[j]),xb();const me=p.useCallback(ae=>{const[Pe,...Oe]=ee().map(Ue=>Ue.ref.current),[De]=Oe.slice(-1),Ke=document.activeElement;for(const Ue of ae)if(Ue===Ke||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===Pe&&O&&(O.scrollTop=0),Ue===De&&O&&(O.scrollTop=O.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Ke))return},[ee,O]),be=p.useCallback(()=>me([K,j]),[me,K,j]);p.useEffect(()=>{re&&be()},[re,be]);const{onOpenChange:X,triggerPointerDownPosRef:G}=N;p.useEffect(()=>{if(j){let ae={x:0,y:0};const Pe=De=>{var Ke,Ue;ae={x:Math.abs(Math.round(De.pageX)-(((Ke=G.current)==null?void 0:Ke.x)??0)),y:Math.abs(Math.round(De.pageY)-(((Ue=G.current)==null?void 0:Ue.y)??0))}},Oe=De=>{ae.x<=10&&ae.y<=10?De.preventDefault():j.contains(De.target)||X(!1),document.removeEventListener("pointermove",Pe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[j,X,G]),p.useEffect(()=>{const ae=()=>X(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[X]);const[he,$]=k1(ae=>{const Pe=ee().filter(Ke=>!Ke.disabled),Oe=Pe.find(Ke=>Ke.ref.current===document.activeElement),De=_1(Pe,ae,Oe);De&&setTimeout(()=>De.ref.current.focus())}),Z=p.useCallback((ae,Pe,Oe)=>{const De=!Ee.current&&!Oe;(N.value!==void 0&&N.value===Pe||De)&&(de(ae),De&&(Ee.current=!0))},[N.value]),ke=p.useCallback(()=>j==null?void 0:j.focus(),[j]),ge=p.useCallback((ae,Pe,Oe)=>{const De=!Ee.current&&!Oe;(N.value!==void 0&&N.value===Pe||De)&&ne(ae)},[N.value]),Ce=s==="popper"?Qp:i1,Le=Ce===Qp?{side:d,sideOffset:h,align:m,alignOffset:y,arrowPadding:v,collisionBoundary:x,collisionPadding:w,sticky:_,hideWhenDetached:k,avoidCollisions:S}:{};return l.jsx(o1,{scope:n,content:j,viewport:O,onViewportChange:L,itemRefCallback:Z,selectedItem:K,onItemLeave:ke,itemTextRefCallback:ge,focusSelectedItem:be,selectedItemText:fe,position:s,isPositioned:re,searchRef:he,children:l.jsx(Km,{as:ZR,allowPinchZoom:!0,children:l.jsx(Wm,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ve(a,ae=>{var Pe;(Pe=N.trigger)==null||Pe.focus({preventScroll:!0}),ae.preventDefault()}),children:l.jsx(bc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:l.jsx(Ce,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...C,...Le,onPlaced:()=>ce(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Ve(C.onKeyDown,ae=>{const Pe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Pe&&ae.key.length===1&&$(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let De=ee().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ke=ae.target,Ue=De.indexOf(Ke);De=De.slice(Ue+1)}setTimeout(()=>me(De)),ae.preventDefault()}})})})})})})});a1.displayName=JR;var eA="SelectItemAlignedPosition",i1=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,i=Bo(Ra,n),u=Vo(Ra,n),[d,h]=p.useState(null),[m,y]=p.useState(null),v=pt(t,U=>y(U)),x=Wd(n),w=p.useRef(!1),_=p.useRef(!0),{viewport:k,selectedItem:S,selectedItemText:C,focusSelectedItem:N}=u,j=p.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&m&&k&&S&&C){const U=i.trigger.getBoundingClientRect(),K=m.getBoundingClientRect(),de=i.valueNode.getBoundingClientRect(),fe=C.getBoundingClientRect();if(i.dir!=="rtl"){const Ke=fe.left-K.left,Ue=de.left-Ke,mt=U.left-Ue,$e=U.width+mt,Lt=Math.max($e,K.width),Vt=window.innerWidth-ss,Kt=dc(Ue,[ss,Math.max(ss,Vt-Lt)]);d.style.minWidth=$e+"px",d.style.left=Kt+"px"}else{const Ke=K.right-fe.right,Ue=window.innerWidth-de.right-Ke,mt=window.innerWidth-U.right-Ue,$e=U.width+mt,Lt=Math.max($e,K.width),Vt=window.innerWidth-ss,Kt=dc(Ue,[ss,Math.max(ss,Vt-Lt)]);d.style.minWidth=$e+"px",d.style.right=Kt+"px"}const ne=x(),ee=window.innerHeight-ss*2,re=k.scrollHeight,ce=window.getComputedStyle(m),Ee=parseInt(ce.borderTopWidth,10),me=parseInt(ce.paddingTop,10),be=parseInt(ce.borderBottomWidth,10),X=parseInt(ce.paddingBottom,10),G=Ee+me+re+X+be,he=Math.min(S.offsetHeight*5,G),$=window.getComputedStyle(k),Z=parseInt($.paddingTop,10),ke=parseInt($.paddingBottom,10),ge=U.top+U.height/2-ss,Ce=ee-ge,Le=S.offsetHeight/2,ae=S.offsetTop+Le,Pe=Ee+me+ae,Oe=G-Pe;if(Pe<=ge){const Ke=ne.length>0&&S===ne[ne.length-1].ref.current;d.style.bottom="0px";const Ue=m.clientHeight-k.offsetTop-k.offsetHeight,mt=Math.max(Ce,Le+(Ke?ke:0)+Ue+be),$e=Pe+mt;d.style.height=$e+"px"}else{const Ke=ne.length>0&&S===ne[0].ref.current;d.style.top="0px";const mt=Math.max(ge,Ee+k.offsetTop+(Ke?Z:0)+Le)+Oe;d.style.height=mt+"px",k.scrollTop=Pe-ge+k.offsetTop}d.style.margin=`${ss}px 0`,d.style.minHeight=he+"px",d.style.maxHeight=ee+"px",s==null||s(),requestAnimationFrame(()=>w.current=!0)}},[x,i.trigger,i.valueNode,d,m,k,S,C,i.dir,s]);sn(()=>j(),[j]);const[T,O]=p.useState();sn(()=>{m&&O(window.getComputedStyle(m).zIndex)},[m]);const L=p.useCallback(U=>{U&&_.current===!0&&(j(),N==null||N(),_.current=!1)},[j,N]);return l.jsx(nA,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:L,children:l.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:l.jsx(Ze.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});i1.displayName=eA;var tA="SelectPopperPosition",Qp=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=ss,...i}=e,u=Kd(n);return l.jsx(Mx,{...u,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qp.displayName=tA;var[nA,Ym]=ll(Ra,{}),Yp="SelectViewport",l1=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,i=Vo(Yp,n),u=Ym(Yp,n),d=pt(t,i.onViewportChange),h=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(Hd.Slot,{scope:n,children:l.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ve(a.onScroll,m=>{const y=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:x}=u;if(x!=null&&x.current&&v){const w=Math.abs(h.current-y.scrollTop);if(w>0){const _=window.innerHeight-ss*2,k=parseFloat(v.style.minHeight),S=parseFloat(v.style.height),C=Math.max(k,S);if(C<_){const N=C+w,j=Math.min(_,N),T=N-j;v.style.height=j+"px",v.style.bottom==="0px"&&(y.scrollTop=T>0?T:0,v.style.justifyContent="flex-end")}}}h.current=y.scrollTop})})})]})});l1.displayName=Yp;var c1="SelectGroup",[rA,sA]=ll(c1),oA=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Lo();return l.jsx(rA,{scope:n,id:a,children:l.jsx(Ze.div,{role:"group","aria-labelledby":a,...s,ref:t})})});oA.displayName=c1;var u1="SelectLabel",d1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=sA(u1,n);return l.jsx(Ze.div,{id:a.id,...s,ref:t})});d1.displayName=u1;var gd="SelectItem",[aA,f1]=ll(gd),h1=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...u}=e,d=Bo(gd,n),h=Vo(gd,n),m=d.value===s,[y,v]=p.useState(i??""),[x,w]=p.useState(!1),_=pt(t,N=>{var j;return(j=h.itemRefCallback)==null?void 0:j.call(h,N,s,a)}),k=Lo(),S=p.useRef("touch"),C=()=>{a||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(aA,{scope:n,value:s,disabled:a,textId:k,isSelected:m,onItemTextChange:p.useCallback(N=>{v(j=>j||((N==null?void 0:N.textContent)??"").trim())},[]),children:l.jsx(Hd.ItemSlot,{scope:n,value:s,disabled:a,textValue:y,children:l.jsx(Ze.div,{role:"option","aria-labelledby":k,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:_,onFocus:Ve(u.onFocus,()=>w(!0)),onBlur:Ve(u.onBlur,()=>w(!1)),onClick:Ve(u.onClick,()=>{S.current!=="mouse"&&C()}),onPointerUp:Ve(u.onPointerUp,()=>{S.current==="mouse"&&C()}),onPointerDown:Ve(u.onPointerDown,N=>{S.current=N.pointerType}),onPointerMove:Ve(u.onPointerMove,N=>{var j;S.current=N.pointerType,a?(j=h.onItemLeave)==null||j.call(h):S.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(u.onPointerLeave,N=>{var j;N.currentTarget===document.activeElement&&((j=h.onItemLeave)==null||j.call(h))}),onKeyDown:Ve(u.onKeyDown,N=>{var T;((T=h.searchRef)==null?void 0:T.current)!==""&&N.key===" "||(WR.includes(N.key)&&C(),N.key===" "&&N.preventDefault())})})})})});h1.displayName=gd;var Jl="SelectItemText",p1=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...i}=e,u=Bo(Jl,n),d=Vo(Jl,n),h=f1(Jl,n),m=QR(Jl,n),[y,v]=p.useState(null),x=pt(t,C=>v(C),h.onItemTextChange,C=>{var N;return(N=d.itemTextRefCallback)==null?void 0:N.call(d,C,h.value,h.disabled)}),w=y==null?void 0:y.textContent,_=p.useMemo(()=>l.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:k,onNativeOptionRemove:S}=m;return sn(()=>(k(_),()=>S(_)),[k,S,_]),l.jsxs(l.Fragment,{children:[l.jsx(Ze.span,{id:h.textId,...i,ref:x}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ji.createPortal(i.children,u.valueNode):null]})});p1.displayName=Jl;var m1="SelectItemIndicator",g1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return f1(m1,n).isSelected?l.jsx(Ze.span,{"aria-hidden":!0,...s,ref:t}):null});g1.displayName=m1;var Xp="SelectScrollUpButton",y1=p.forwardRef((e,t)=>{const n=Vo(Xp,e.__scopeSelect),s=Ym(Xp,e.__scopeSelect),[a,i]=p.useState(!1),u=pt(t,s.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollTop>0;i(m)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?l.jsx(w1,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});y1.displayName=Xp;var Jp="SelectScrollDownButton",v1=p.forwardRef((e,t)=>{const n=Vo(Jp,e.__scopeSelect),s=Ym(Jp,e.__scopeSelect),[a,i]=p.useState(!1),u=pt(t,s.onScrollButtonChange);return sn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollHeight-h.clientHeight,y=Math.ceil(h.scrollTop)<m;i(y)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?l.jsx(w1,{...e,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});v1.displayName=Jp;var w1=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,i=Vo("SelectScrollButton",n),u=p.useRef(null),d=Wd(n),h=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>h(),[h]),sn(()=>{var y;const m=d().find(v=>v.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[d]),l.jsx(Ze.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ve(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:Ve(a.onPointerMove,()=>{var m;(m=i.onItemLeave)==null||m.call(i),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:Ve(a.onPointerLeave,()=>{h()})})}),iA="SelectSeparator",x1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return l.jsx(Ze.div,{"aria-hidden":!0,...s,ref:t})});x1.displayName=iA;var Zp="SelectArrow",lA=p.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Kd(n),i=Bo(Zp,n),u=Vo(Zp,n);return i.open&&u.position==="popper"?l.jsx(zx,{...a,...s,ref:t}):null});lA.displayName=Zp;var cA="SelectBubbleInput",b1=p.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=p.useRef(null),i=pt(s,a),u=Ec(t);return p.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&y){const v=new Event("change",{bubbles:!0});y.call(d,t),d.dispatchEvent(v)}},[u,t]),l.jsx(Ze.select,{...n,style:{...jw,...n.style},ref:i,defaultValue:t})});b1.displayName=cA;function S1(e){return e===""||e===void 0}function k1(e){const t=un(e),n=p.useRef(""),s=p.useRef(0),a=p.useCallback(u=>{const d=n.current+u;t(d),(function h(m){n.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>h(""),1e3))})(d)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function _1(e,t,n){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let u=uA(e,Math.max(i,0));a.length===1&&(u=u.filter(m=>m!==n));const h=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function uA(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var dA=Xb,C1=Zb,fA=t1,hA=n1,pA=r1,E1=s1,mA=l1,j1=d1,N1=h1,gA=p1,yA=g1,T1=y1,P1=v1,R1=x1;const Ps=dA,Rs=fA,us=p.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(C1,{ref:s,className:ot("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(hA,{asChild:!0,children:l.jsx(Xw,{className:"h-4 w-4 opacity-50"})})]}));us.displayName=C1.displayName;const A1=p.forwardRef(({className:e,...t},n)=>l.jsx(T1,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(YC,{className:"h-4 w-4"})}));A1.displayName=T1.displayName;const I1=p.forwardRef(({className:e,...t},n)=>l.jsx(P1,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Xw,{className:"h-4 w-4"})}));I1.displayName=P1.displayName;const ds=p.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>l.jsx(pA,{children:l.jsxs(E1,{ref:a,className:ot("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[l.jsx(A1,{}),l.jsx(mA,{className:ot("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(I1,{})]})}));ds.displayName=E1.displayName;const vA=p.forwardRef(({className:e,...t},n)=>l.jsx(j1,{ref:n,className:ot("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vA.displayName=j1.displayName;const _n=p.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(N1,{ref:s,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(yA,{children:l.jsx(Yw,{className:"h-4 w-4"})})}),l.jsx(gA,{children:t})]}));_n.displayName=N1.displayName;const wA=p.forwardRef(({className:e,...t},n)=>l.jsx(R1,{ref:n,className:ot("-mx-1 my-1 h-px bg-muted",e),...t}));wA.displayName=R1.displayName;const Xe=e=>{Nd.success(e)},Me=e=>{Nd.error(e)},T0=e=>Nd.loading(e),P0=e=>{Nd.dismiss(e)};var up="rovingFocusGroup.onEntryFocus",xA={bubbles:!1,cancelable:!0},jc="RovingFocusGroup",[em,O1,bA]=_d(jc),[SA,qd]=fr(jc,[bA]),[kA,_A]=SA(jc),M1=p.forwardRef((e,t)=>l.jsx(em.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(em.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(CA,{...e,ref:t})})}));M1.displayName=jc;var CA=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=e,x=p.useRef(null),w=pt(t,x),_=il(i),[k,S]=Ms({prop:u,defaultProp:d??null,onChange:h,caller:jc}),[C,N]=p.useState(!1),j=un(m),T=O1(n),O=p.useRef(!1),[L,U]=p.useState(0);return p.useEffect(()=>{const K=x.current;if(K)return K.addEventListener(up,j),()=>K.removeEventListener(up,j)},[j]),l.jsx(kA,{scope:n,orientation:s,dir:_,loop:a,currentTabStopId:k,onItemFocus:p.useCallback(K=>S(K),[S]),onItemShiftTab:p.useCallback(()=>N(!0),[]),onFocusableItemAdd:p.useCallback(()=>U(K=>K+1),[]),onFocusableItemRemove:p.useCallback(()=>U(K=>K-1),[]),children:l.jsx(Ze.div,{tabIndex:C||L===0?-1:0,"data-orientation":s,...v,ref:w,style:{outline:"none",...e.style},onMouseDown:Ve(e.onMouseDown,()=>{O.current=!0}),onFocus:Ve(e.onFocus,K=>{const de=!O.current;if(K.target===K.currentTarget&&de&&!C){const fe=new CustomEvent(up,xA);if(K.currentTarget.dispatchEvent(fe),!fe.defaultPrevented){const ne=T().filter(me=>me.focusable),ee=ne.find(me=>me.active),re=ne.find(me=>me.id===k),Ee=[ee,re,...ne].filter(Boolean).map(me=>me.ref.current);L1(Ee,y)}}O.current=!1}),onBlur:Ve(e.onBlur,()=>N(!1))})})}),z1="RovingFocusGroupItem",D1=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,children:u,...d}=e,h=Lo(),m=i||h,y=_A(z1,n),v=y.currentTabStopId===m,x=O1(n),{onFocusableItemAdd:w,onFocusableItemRemove:_,currentTabStopId:k}=y;return p.useEffect(()=>{if(s)return w(),()=>_()},[s,w,_]),l.jsx(em.ItemSlot,{scope:n,id:m,focusable:s,active:a,children:l.jsx(Ze.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...d,ref:t,onMouseDown:Ve(e.onMouseDown,S=>{s?y.onItemFocus(m):S.preventDefault()}),onFocus:Ve(e.onFocus,()=>y.onItemFocus(m)),onKeyDown:Ve(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){y.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=NA(S,y.orientation,y.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let j=x().filter(T=>T.focusable).map(T=>T.ref.current);if(C==="last")j.reverse();else if(C==="prev"||C==="next"){C==="prev"&&j.reverse();const T=j.indexOf(S.currentTarget);j=y.loop?TA(j,T+1):j.slice(T+1)}setTimeout(()=>L1(j))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:k!=null}):u})})});D1.displayName=z1;var EA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function NA(e,t,n){const s=jA(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return EA[s]}function L1(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function TA(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var $1=M1,F1=D1,Gd="Tabs",[PA]=fr(Gd,[qd]),U1=qd(),[RA,Xm]=PA(Gd),B1=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:u="horizontal",dir:d,activationMode:h="automatic",...m}=e,y=il(d),[v,x]=Ms({prop:s,onChange:a,defaultProp:i??"",caller:Gd});return l.jsx(RA,{scope:n,baseId:Lo(),value:v,onValueChange:x,orientation:u,dir:y,activationMode:h,children:l.jsx(Ze.div,{dir:y,"data-orientation":u,...m,ref:t})})});B1.displayName=Gd;var V1="TabsList",H1=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,i=Xm(V1,n),u=U1(n);return l.jsx($1,{asChild:!0,...u,orientation:i.orientation,dir:i.dir,loop:s,children:l.jsx(Ze.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});H1.displayName=V1;var W1="TabsTrigger",K1=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=e,u=Xm(W1,n),d=U1(n),h=Q1(u.baseId,s),m=Y1(u.baseId,s),y=s===u.value;return l.jsx(F1,{asChild:!0,...d,focusable:!a,active:y,children:l.jsx(Ze.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...i,ref:t,onMouseDown:Ve(e.onMouseDown,v=>{!a&&v.button===0&&v.ctrlKey===!1?u.onValueChange(s):v.preventDefault()}),onKeyDown:Ve(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(s)}),onFocus:Ve(e.onFocus,()=>{const v=u.activationMode!=="manual";!y&&!a&&v&&u.onValueChange(s)})})})});K1.displayName=W1;var q1="TabsContent",G1=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...u}=e,d=Xm(q1,n),h=Q1(d.baseId,s),m=Y1(d.baseId,s),y=s===d.value,v=p.useRef(y);return p.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),l.jsx(Ir,{present:a||y,children:({present:x})=>l.jsx(Ze.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:x&&i})})});G1.displayName=q1;function Q1(e,t){return`${e}-trigger-${t}`}function Y1(e,t){return`${e}-content-${t}`}var AA=B1,X1=H1,J1=K1,Z1=G1;const Nc=AA,cl=p.forwardRef(({className:e,...t},n)=>l.jsx(X1,{ref:n,className:ot("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));cl.displayName=X1.displayName;const Rr=p.forwardRef(({className:e,...t},n)=>l.jsx(J1,{ref:n,className:ot("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Rr.displayName=J1.displayName;const Ar=p.forwardRef(({className:e,...t},n)=>l.jsx(Z1,{ref:n,className:ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ar.displayName=Z1.displayName;const IA=({isOpen:e,onClose:t,onSelectBuilding:n,availableBuildings:s,playerMoney:a,playerWood:i,playerBrick:u,playerStone:d,isBuildingInProgress:h})=>{const m=s.filter(x=>x.category==="residential"),y=s.filter(x=>x.category==="business"),v=x=>{const w=a>=x.cost,_=x.woodCost?i>=x.woodCost:!0,k=x.brickCost?u>=x.brickCost:!0,S=x.stoneCost?d>=x.stoneCost:!0,C=!w||!_||!k||!S||h;return l.jsxs(dn,{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{children:[l.jsx($n,{className:"text-lg",children:x.name}),l.jsxs("p",{className:`text-sm flex items-center ${w?"text-muted-foreground":"text-red-500 font-bold"}`,children:[l.jsx(Qn,{className:"h-4 w-4 mr-1 text-green-500"}),x.cost===0?"Ingyenes":`${x.cost} pnz`]}),x.woodCost!==void 0&&l.jsxs("p",{className:`text-sm flex items-center ${_?"text-muted-foreground":"text-red-500 font-bold"}`,children:[l.jsx(rc,{className:"h-4 w-4 mr-1 text-yellow-700"}),x.woodCost," fa"]}),x.brickCost!==void 0&&l.jsxs("p",{className:`text-sm flex items-center ${k?"text-muted-foreground":"text-red-500 font-bold"}`,children:[l.jsx(uE,{className:"h-4 w-4 mr-1 text-orange-500"}),x.brickCost," tgla"]}),x.stoneCost!==void 0&&l.jsxs("p",{className:`text-sm flex items-center ${S?"text-muted-foreground":"text-red-500 font-bold"}`,children:[l.jsx(Sm,{className:"h-4 w-4 mr-1 text-gray-500"}),x.stoneCost," k"]}),l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:["Mret: ",x.width,"x",x.height]}),x.type==="house"&&x.rentalPrice!==void 0&&l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[l.jsx(id,{className:"h-4 w-4 mr-1 text-gray-500"}),"Max lakk: ",x.capacity]}),(x.type==="office"||x.type==="forestry"||x.type==="farm"||x.type==="shop"||x.type==="mill"||x.type==="popcorn_stand")&&x.salary!==void 0&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[l.jsx(Ea,{className:"h-4 w-4 mr-1 text-gray-500"}),"Max dolgozk: ",x.capacity]}),l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center font-semibold text-blue-600",children:[l.jsx(Qn,{className:"h-4 w-4 mr-1 text-blue-600"}),"Fizets: ",x.salary," pnz/ciklus"]})]})]}),l.jsx(_e,{onClick:()=>n(x.name),disabled:C,children:"pt"})]},x.name)};return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"sm:max-w-[425px]",children:[l.jsxs(pr,{children:[l.jsx(mr,{children:"pts"}),l.jsx(Mr,{children:"Vlassz egy pletet, amit fel szeretnl pteni."})]}),l.jsxs(Nc,{defaultValue:"residential",className:"w-full",children:[l.jsxs(cl,{className:"grid w-full grid-cols-2",children:[l.jsx(Rr,{value:"residential",children:"Lakhz"}),l.jsx(Rr,{value:"business",children:"Vllalkozs"})]}),l.jsx(Ar,{value:"residential",className:"grid gap-4 py-4 max-h-[400px] overflow-y-auto",children:m.map((x,w)=>l.jsx("div",{children:v(x)},`${x.name}-${w}`))}),l.jsx(Ar,{value:"business",className:"grid gap-4 py-4 max-h-[400px] overflow-y-auto",children:y.map((x,w)=>l.jsx("div",{children:v(x)},`${x.name}-${w}`))})]}),l.jsx(Wr,{children:l.jsx(_e,{variant:"outline",onClick:t,children:"Mgsem"})})]})})};var eS=["PageUp","PageDown"],tS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ul="Slider",[tm,OA,MA]=_d(ul),[rS]=fr(ul,[MA]),[zA,Qd]=rS(ul),sS=p.forwardRef((e,t)=>{const{name:n,min:s=0,max:a=100,step:i=1,orientation:u="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:m=[s],value:y,onValueChange:v=()=>{},onValueCommit:x=()=>{},inverted:w=!1,form:_,...k}=e,S=p.useRef(new Set),C=p.useRef(0),j=u==="horizontal"?DA:LA,[T=[],O]=Ms({prop:y,defaultProp:m,onChange:ne=>{var re;(re=[...S.current][C.current])==null||re.focus(),v(ne)}}),L=p.useRef(T);function U(ne){const ee=VA(T,ne);fe(ne,ee)}function K(ne){fe(ne,C.current)}function de(){const ne=L.current[C.current];T[C.current]!==ne&&x(T)}function fe(ne,ee,{commit:re}={commit:!1}){const ce=qA(i),Ee=GA(Math.round((ne-s)/i)*i+s,ce),me=dc(Ee,[s,a]);O((be=[])=>{const X=UA(be,me,ee);if(KA(X,h*i)){C.current=X.indexOf(me);const G=String(X)!==String(be);return G&&re&&x(X),G?X:be}else return be})}return l.jsx(zA,{scope:e.__scopeSlider,name:n,disabled:d,min:s,max:a,valueIndexToChangeRef:C,thumbs:S.current,values:T,orientation:u,form:_,children:l.jsx(tm.Provider,{scope:e.__scopeSlider,children:l.jsx(tm.Slot,{scope:e.__scopeSlider,children:l.jsx(j,{"aria-disabled":d,"data-disabled":d?"":void 0,...k,ref:t,onPointerDown:Ve(k.onPointerDown,()=>{d||(L.current=T)}),min:s,max:a,inverted:w,onSlideStart:d?void 0:U,onSlideMove:d?void 0:K,onSlideEnd:d?void 0:de,onHomeKeyDown:()=>!d&&fe(s,0,{commit:!0}),onEndKeyDown:()=>!d&&fe(a,T.length-1,{commit:!0}),onStepKeyDown:({event:ne,direction:ee})=>{if(!d){const Ee=eS.includes(ne.key)||ne.shiftKey&&tS.includes(ne.key)?10:1,me=C.current,be=T[me],X=i*Ee*ee;fe(be+X,me,{commit:!0})}}})})})})});sS.displayName=ul;var[oS,aS]=rS(ul,{startEdge:"left",endEdge:"right",size:"width",direction:1}),DA=p.forwardRef((e,t)=>{const{min:n,max:s,dir:a,inverted:i,onSlideStart:u,onSlideMove:d,onSlideEnd:h,onStepKeyDown:m,...y}=e,[v,x]=p.useState(null),w=pt(t,j=>x(j)),_=p.useRef(void 0),k=il(a),S=k==="ltr",C=S&&!i||!S&&i;function N(j){const T=_.current||v.getBoundingClientRect(),O=[0,T.width],U=Jm(O,C?[n,s]:[s,n]);return _.current=T,U(j-T.left)}return l.jsx(oS,{scope:e.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:l.jsx(iS,{dir:k,"data-orientation":"horizontal",...y,ref:w,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const T=N(j.clientX);u==null||u(T)},onSlideMove:j=>{const T=N(j.clientX);d==null||d(T)},onSlideEnd:()=>{_.current=void 0,h==null||h()},onStepKeyDown:j=>{const O=nS[C?"from-left":"from-right"].includes(j.key);m==null||m({event:j,direction:O?-1:1})}})})}),LA=p.forwardRef((e,t)=>{const{min:n,max:s,inverted:a,onSlideStart:i,onSlideMove:u,onSlideEnd:d,onStepKeyDown:h,...m}=e,y=p.useRef(null),v=pt(t,y),x=p.useRef(void 0),w=!a;function _(k){const S=x.current||y.current.getBoundingClientRect(),C=[0,S.height],j=Jm(C,w?[s,n]:[n,s]);return x.current=S,j(k-S.top)}return l.jsx(oS,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:l.jsx(iS,{"data-orientation":"vertical",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:k=>{const S=_(k.clientY);i==null||i(S)},onSlideMove:k=>{const S=_(k.clientY);u==null||u(S)},onSlideEnd:()=>{x.current=void 0,d==null||d()},onStepKeyDown:k=>{const C=nS[w?"from-bottom":"from-top"].includes(k.key);h==null||h({event:k,direction:C?-1:1})}})})}),iS=p.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:u,onEndKeyDown:d,onStepKeyDown:h,...m}=e,y=Qd(ul,n);return l.jsx(Ze.span,{...m,ref:t,onKeyDown:Ve(e.onKeyDown,v=>{v.key==="Home"?(u(v),v.preventDefault()):v.key==="End"?(d(v),v.preventDefault()):eS.concat(tS).includes(v.key)&&(h(v),v.preventDefault())}),onPointerDown:Ve(e.onPointerDown,v=>{const x=v.target;x.setPointerCapture(v.pointerId),v.preventDefault(),y.thumbs.has(x)?x.focus():s(v)}),onPointerMove:Ve(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&a(v)}),onPointerUp:Ve(e.onPointerUp,v=>{const x=v.target;x.hasPointerCapture(v.pointerId)&&(x.releasePointerCapture(v.pointerId),i(v))})})}),lS="SliderTrack",cS=p.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,a=Qd(lS,n);return l.jsx(Ze.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})});cS.displayName=lS;var nm="SliderRange",uS=p.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,a=Qd(nm,n),i=aS(nm,n),u=p.useRef(null),d=pt(t,u),h=a.values.length,m=a.values.map(x=>hS(x,a.min,a.max)),y=h>1?Math.min(...m):0,v=100-Math.max(...m);return l.jsx(Ze.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:d,style:{...e.style,[i.startEdge]:y+"%",[i.endEdge]:v+"%"}})});uS.displayName=nm;var rm="SliderThumb",dS=p.forwardRef((e,t)=>{const n=OA(e.__scopeSlider),[s,a]=p.useState(null),i=pt(t,d=>a(d)),u=p.useMemo(()=>s?n().findIndex(d=>d.ref.current===s):-1,[n,s]);return l.jsx($A,{...e,ref:i,index:u})}),$A=p.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:a,...i}=e,u=Qd(rm,n),d=aS(rm,n),[h,m]=p.useState(null),y=pt(t,N=>m(N)),v=h?u.form||!!h.closest("form"):!0,x=_c(h),w=u.values[s],_=w===void 0?0:hS(w,u.min,u.max),k=BA(s,u.values.length),S=x==null?void 0:x[d.size],C=S?HA(S,_,d.direction):0;return p.useEffect(()=>{if(h)return u.thumbs.add(h),()=>{u.thumbs.delete(h)}},[h,u.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${_}% + ${C}px)`},children:[l.jsx(tm.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(Ze.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":u.min,"aria-valuenow":w,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...i,ref:y,style:w===void 0?{display:"none"}:e.style,onFocus:Ve(e.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),v&&l.jsx(fS,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:w},s)]})});dS.displayName=rm;var FA="RadioBubbleInput",fS=p.forwardRef(({__scopeSlider:e,value:t,...n},s)=>{const a=p.useRef(null),i=pt(a,s),u=Ec(t);return p.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&y){const v=new Event("input",{bubbles:!0});y.call(d,t),d.dispatchEvent(v)}},[u,t]),l.jsx(Ze.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});fS.displayName=FA;function UA(e=[],t,n){const s=[...e];return s[n]=t,s.sort((a,i)=>a-i)}function hS(e,t,n){const i=100/(n-t)*(e-t);return dc(i,[0,100])}function BA(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function VA(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),s=Math.min(...n);return n.indexOf(s)}function HA(e,t,n){const s=e/2,i=Jm([0,50],[0,s]);return(s-i(t)*n)*n}function WA(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function KA(e,t){if(t>0){const n=WA(e);return Math.min(...n)>=t}return!0}function Jm(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function qA(e){return(String(e).split(".")[1]||"").length}function GA(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var pS=sS,QA=cS,YA=uS,XA=dS;const Zm=p.forwardRef(({className:e,...t},n)=>l.jsxs(pS,{ref:n,className:ot("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(QA,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(YA,{className:"absolute h-full bg-primary"})}),l.jsx(XA,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Zm.displayName=pS.displayName;const JA=p.forwardRef(({sfxUrls:e},t)=>{const[n,s]=p.useState(.8),a=p.useRef([]),i=(d,h=!1)=>{const m=e[d];if(m){const y=new Audio(m);y.volume=n,y.loop=h,y.play().catch(v=>console.error(`Error playing SFX '${d}':`,v)),a.current.push(y),y.onended=()=>{a.current=a.current.filter(v=>v!==y)}}else console.warn(`SFX '${d}' not found.`)},u=()=>{a.current.forEach(d=>{d.pause(),d.currentTime=0}),a.current=[]};return p.useEffect(()=>{a.current.forEach(d=>{d.volume=n})},[n]),p.useImperativeHandle(t,()=>({playSfx:i,stopAllSfx:u})),l.jsxs(dn,{className:"w-full mt-4 bg-sidebar-accent text-sidebar-accent-foreground border-sidebar-border shadow-none",children:[l.jsx(Pr,{className:"pb-2",children:l.jsx($n,{className:"text-lg font-semibold",children:"Hangeffektek"})}),l.jsx(dr,{className:"flex flex-col space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[n===0?l.jsx(Mp,{className:"h-4 w-4 text-gray-500"}):n<.5?l.jsx(tx,{className:"h-4 w-4 text-gray-500"}):l.jsx(Op,{className:"h-4 w-4 text-gray-500"}),l.jsx(Zm,{value:[n*100],max:100,step:1,onValueChange:d=>s(d[0]/100),className:"w-[60%]"}),l.jsxs("span",{className:"text-xs text-gray-500 w-12 text-right",children:[Math.round(n*100),"%"]})]})})]})}),ZA="/tile-o-polis/assets/construction-01-BzgIjePE.mp3",eI="/tile-o-polis/assets/construction-02-DTiKOCvF.mp3",R0=Object.assign({"/src/sfx/construction-01.mp3":ZA,"/src/sfx/construction-02.mp3":eI}),tI=Object.keys(R0).reduce((e,t)=>{var s;const n=(s=t.split("/").pop())==null?void 0:s.replace(".mp3","");return n&&(e[n]=R0[t]),e},{});function nI(e,t=[]){let n=[];function s(i,u){const d=p.createContext(u);d.displayName=i+"Context";const h=n.length;n=[...n,u];const m=v=>{var C;const{scope:x,children:w,..._}=v,k=((C=x==null?void 0:x[e])==null?void 0:C[h])||d,S=p.useMemo(()=>_,Object.values(_));return l.jsx(k.Provider,{value:S,children:w})};m.displayName=i+"Provider";function y(v,x){var k;const w=((k=x==null?void 0:x[e])==null?void 0:k[h])||d,_=p.useContext(w);if(_)return _;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${i}\``)}return[m,y]}const a=()=>{const i=n.map(u=>p.createContext(u));return function(d){const h=(d==null?void 0:d[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return a.scopeName=e,[s,rI(a,...t)]}function rI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const v=h(i)[`__scope${m}`];return{...d,...v}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var sI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eg=sI.reduce((e,t)=>{const n=Ud(`Primitive.${t}`),s=p.forwardRef((a,i)=>{const{asChild:u,...d}=a,h=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),dp={exports:{}},fp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function oI(){if(A0)return fp;A0=1;var e=Sd();function t(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,u=e.useDebugValue;function d(v,x){var w=x(),_=s({inst:{value:w,getSnapshot:x}}),k=_[0].inst,S=_[1];return i(function(){k.value=w,k.getSnapshot=x,h(k)&&S({inst:k})},[v,w,x]),a(function(){return h(k)&&S({inst:k}),v(function(){h(k)&&S({inst:k})})},[v]),u(w),w}function h(v){var x=v.getSnapshot;v=v.value;try{var w=x();return!n(v,w)}catch{return!0}}function m(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return fp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,fp}var I0;function aI(){return I0||(I0=1,dp.exports=oI()),dp.exports}var iI=aI();function lI(){return iI.useSyncExternalStore(cI,()=>!0,()=>!1)}function cI(){return()=>{}}var tg="Avatar",[uI]=nI(tg),[dI,mS]=uI(tg),gS=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[a,i]=p.useState("idle");return l.jsx(dI,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:l.jsx(eg.span,{...s,ref:t})})});gS.displayName=tg;var yS="AvatarImage",vS=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=e,u=mS(yS,n),d=fI(s,i),h=un(m=>{a(m),u.onImageLoadingStatusChange(m)});return sn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?l.jsx(eg.img,{...i,ref:t,src:s}):null});vS.displayName=yS;var wS="AvatarFallback",xS=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,i=mS(wS,n),[u,d]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const h=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(h)}},[s]),u&&i.imageLoadingStatus!=="loaded"?l.jsx(eg.span,{...a,ref:t}):null});xS.displayName=wS;function O0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fI(e,{referrerPolicy:t,crossOrigin:n}){const s=lI(),a=p.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[u,d]=p.useState(()=>O0(i,e));return sn(()=>{d(O0(i,e))},[i,e]),sn(()=>{const h=v=>()=>{d(v)};if(!i)return;const m=h("loaded"),y=h("error");return i.addEventListener("load",m),i.addEventListener("error",y),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",m),i.removeEventListener("error",y)}},[i,n,t]),u}var bS=gS,SS=vS,kS=xS;const _S=p.forwardRef(({className:e,...t},n)=>l.jsx(bS,{ref:n,className:ot("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_S.displayName=bS.displayName;const CS=p.forwardRef(({className:e,...t},n)=>l.jsx(SS,{ref:n,className:ot("aspect-square h-full w-full",e),...t}));CS.displayName=SS.displayName;const ES=p.forwardRef(({className:e,...t},n)=>l.jsx(kS,{ref:n,className:ot("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ES.displayName=kS.displayName;const _t=p.forwardRef(({className:e,type:t,...n},s)=>l.jsx("input",{type:t,className:ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));_t.displayName="Input";var Yd="Checkbox",[hI]=fr(Yd),[pI,ng]=hI(Yd);function mI(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:a,disabled:i,form:u,name:d,onCheckedChange:h,required:m,value:y="on",internal_do_not_use_render:v}=e,[x,w]=Ms({prop:n,defaultProp:a??!1,onChange:h,caller:Yd}),[_,k]=p.useState(null),[S,C]=p.useState(null),N=p.useRef(!1),j=_?!!u||!!_.closest("form"):!0,T={checked:x,disabled:i,setChecked:w,control:_,setControl:k,name:d,form:u,value:y,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:$o(a)?!1:a,isFormControl:j,bubbleInput:S,setBubbleInput:C};return l.jsx(pI,{scope:t,...T,children:gI(v)?v(T):s})}var jS="CheckboxTrigger",NS=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},a)=>{const{control:i,value:u,disabled:d,checked:h,required:m,setControl:y,setChecked:v,hasConsumerStoppedPropagationRef:x,isFormControl:w,bubbleInput:_}=ng(jS,e),k=pt(a,y),S=p.useRef(h);return p.useEffect(()=>{const C=i==null?void 0:i.form;if(C){const N=()=>v(S.current);return C.addEventListener("reset",N),()=>C.removeEventListener("reset",N)}},[i,v]),l.jsx(Ze.button,{type:"button",role:"checkbox","aria-checked":$o(h)?"mixed":h,"aria-required":m,"data-state":IS(h),"data-disabled":d?"":void 0,disabled:d,value:u,...s,ref:k,onKeyDown:Ve(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ve(n,C=>{v(N=>$o(N)?!0:!N),_&&w&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})})});NS.displayName=jS;var rg=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:u,disabled:d,value:h,onCheckedChange:m,form:y,...v}=e;return l.jsx(mI,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:d,required:u,onCheckedChange:m,name:s,form:y,value:h,internal_do_not_use_render:({isFormControl:x})=>l.jsxs(l.Fragment,{children:[l.jsx(NS,{...v,ref:t,__scopeCheckbox:n}),x&&l.jsx(AS,{__scopeCheckbox:n})]})})});rg.displayName=Yd;var TS="CheckboxIndicator",PS=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...a}=e,i=ng(TS,n);return l.jsx(Ir,{present:s||$o(i.checked)||i.checked===!0,children:l.jsx(Ze.span,{"data-state":IS(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});PS.displayName=TS;var RS="CheckboxBubbleInput",AS=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:u,required:d,disabled:h,name:m,value:y,form:v,bubbleInput:x,setBubbleInput:w}=ng(RS,e),_=pt(n,w),k=Ec(i),S=_c(s);p.useEffect(()=>{const N=x;if(!N)return;const j=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(j,"checked").set,L=!a.current;if(k!==i&&O){const U=new Event("click",{bubbles:L});N.indeterminate=$o(i),O.call(N,$o(i)?!1:i),N.dispatchEvent(U)}},[x,k,i,a]);const C=p.useRef($o(i)?!1:i);return l.jsx(Ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??C.current,required:d,disabled:h,name:m,value:y,form:v,...t,tabIndex:-1,ref:_,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});AS.displayName=RS;function gI(e){return typeof e=="function"}function $o(e){return e==="indeterminate"}function IS(e){return $o(e)?"indeterminate":e?"checked":"unchecked"}const OS=p.forwardRef(({className:e,...t},n)=>l.jsx(rg,{ref:n,className:ot("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(PS,{className:ot("flex items-center justify-center text-current"),children:l.jsx(Yw,{className:"h-4 w-4"})})}));OS.displayName=rg.displayName;const yI=({playerName:e,onPlayerNameChange:t,filterZeroTransactions:n,onFilterZeroTransactionsChange:s})=>{const[a,i]=p.useState(!1),[u,d]=p.useState(e),[h,m]=p.useState(n);Te.useEffect(()=>{d(e),m(n)},[e,n,a]);const y=()=>{t(u),s(h),i(!1)};return l.jsxs(l.Fragment,{children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>i(!0),className:"rounded-full h-10 w-10",children:l.jsxs(_S,{className:"h-9 w-9",children:[l.jsx(CS,{src:"/placeholder-avatar.png",alt:"Player Avatar"}),l.jsx(ES,{children:l.jsx(Em,{className:"h-5 w-5"})})]})}),l.jsx(Or,{open:a,onOpenChange:i,children:l.jsxs(hr,{className:"sm:max-w-[425px]",children:[l.jsxs(pr,{children:[l.jsx(mr,{children:"Jtkos belltsok"}),l.jsx(Mr,{children:"Itt mdosthatod a jtkosod belltsait."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{htmlFor:"name",className:"text-right",children:"Nv"}),l.jsx(_t,{id:"name",value:u,onChange:v=>d(v.target.value),className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{htmlFor:"filterZero",className:"text-right",children:"0 rtk tranzakcik szrse"}),l.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[l.jsx(OS,{id:"filterZero",checked:h,onCheckedChange:v=>m(v===!0)}),l.jsx("label",{htmlFor:"filterZero",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Bekapcsolva"})]})]})]}),l.jsxs(Wr,{children:[l.jsx(_e,{variant:"outline",onClick:()=>i(!1),children:"Mgsem"}),l.jsx(_e,{onClick:y,children:"Ments"})]})]})})]})},vI=500,wI=21,Oi=[{type:"house",category:"residential",name:"Stor",cost:200,duration:5e3,width:2,height:1,rentalPrice:0,capacity:1},{type:"house",category:"residential",name:"Hzik",cost:vI,duration:1e4,width:2,height:2,rentalPrice:10,capacity:2},{type:"house",category:"residential",name:"Vlyoghz",cost:750,duration:15e3,width:3,height:2,rentalPrice:15,capacity:3},{type:"house",category:"residential",name:"Kdrkocka",cost:1200,duration:25e3,width:3,height:3,rentalPrice:25,capacity:4},{type:"house",category:"residential",name:"Csaldi Hz",cost:1800,duration:35e3,width:4,height:2,rentalPrice:35,capacity:5},{type:"house",category:"residential",name:"Villa (ktszintes)",cost:2500,duration:45e3,width:3,height:3,rentalPrice:50,capacity:6},{type:"house",category:"residential",name:"Nagy Villa",cost:3500,duration:6e4,width:4,height:4,rentalPrice:70,capacity:8},{type:"office",category:"business",name:"Kzszolglati Iroda",cost:1e3,duration:2e4,width:3,height:8,salary:wI,capacity:4},{type:"forestry",category:"business",name:"Erdszhz",cost:850,woodCost:5,duration:15e3,width:4,height:4,salary:16,capacity:1},{type:"quarry",category:"business",name:"Kfejt",cost:1200,woodCost:10,duration:25e3,width:3,height:3,salary:18,capacity:1,productionConfig:{produces:pe.Stone,quantity:5,duration:2e4}},{type:"farm",category:"business",name:"Farm",cost:1e3,brickCost:5,woodCost:3,duration:15e3,width:4,height:4,salary:5,capacity:2},{type:"office",category:"business",name:"Polgrmesteri Hivatal",cost:2500,woodCost:10,brickCost:15,duration:4e4,width:4,height:3,salary:20,capacity:5},{type:"shop",category:"business",name:"Bolt",cost:1500,woodCost:8,brickCost:10,duration:3e4,width:3,height:3,salary:10,capacity:3},{type:"mill",category:"business",name:"Malom",cost:2e3,woodCost:10,brickCost:15,stoneCost:5,duration:35e3,width:4,height:4,salary:15,capacity:3,productionConfig:{produces:pe.Flour,quantity:3,consumes:pe.Wheat,consumesQuantity:5,duration:1e4}},{type:"office",category:"business",name:"Piac",cost:3e3,woodCost:15,brickCost:15,duration:5e4,width:5,height:5,salary:25,capacity:5},{type:"popcorn_stand",category:"business",name:"Popcorn rus",cost:500,woodCost:2,duration:1e4,width:2,height:2,salary:5,capacity:1,productionConfig:{produces:pe.Popcorn,quantity:2,consumes:pe.Corn,consumesQuantity:1,duration:5e3}}],kr=32,hp=3e4,xI=50,pp=2,Ql=.5,bI=6e4,SI=10,kI=9e4,Yl=5,M0=3,Si=4,mp=3,gp=1e4,Xl=2,z0=5,D0=5e3,_I=1,L0=3e3,CI=5e3,EI=({isOpen:e,onClose:t,farmId:n,tileX:s,tileY:a,cropType:i,cropProgress:u,onPlant:d,onHarvest:h,playerMoney:m,playerInventory:y})=>{const[v,x]=p.useState(u);p.useEffect(()=>{x(u)},[u]);const w=N=>{const j=N===Yt.Wheat?pe.WheatSeed:pe.CornSeed;if((y[j]||0)<1){alert(`Nincs ${j===pe.WheatSeed?"bzavetmagod":"kukorica vetmagod"}! Szksges: 1 db. Vsrolj a boltban.`);return}d(n,s,a,N),t()},_=()=>{h(n,s,a),t()},k=i!==Yt.None&&v>=100,S=y[pe.WheatSeed]||0,C=y[pe.CornSeed]||0;return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"sm:max-w-[425px]",children:[l.jsxs(pr,{children:[l.jsxs(mr,{children:["Szntfld csempe (",s,", ",a,")"]}),l.jsx(Mr,{children:i===Yt.None?"Ez a csempe res. Vess el valamit!":`Vetemny: ${i===Yt.Wheat?"Bza":i===Yt.Corn?"Kukorica":"Ismeretlen"}`})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[i===Yt.None&&l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx("h4",{className:"font-semibold",children:"Vets:"}),l.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[l.jsx("span",{children:"Bzavetmag kszlet:"}),l.jsxs("span",{className:"font-semibold",children:[S," db"]})]}),l.jsxs(_e,{onClick:()=>w(Yt.Wheat),disabled:S<1,className:"bg-amber-600 hover:bg-amber-700",children:[l.jsx(sc,{className:"h-4 w-4 mr-2"}),"Bza vetse (1 mag)"]}),S<1&&l.jsx("p",{className:"text-xs text-red-500",children:"Nincs bzavetmagod!"}),l.jsxs("div",{className:"flex items-center justify-between text-sm mt-4 mb-1",children:[l.jsx("span",{children:"Kukorica vetmag kszlet:"}),l.jsxs("span",{className:"font-semibold",children:[C," db"]})]}),l.jsxs(_e,{onClick:()=>w(Yt.Corn),disabled:C<1,className:"bg-yellow-500 hover:bg-yellow-600",children:[l.jsx(zi,{className:"h-4 w-4 mr-2"}),"Kukorica vetse (1 mag)"]}),C<1&&l.jsx("p",{className:"text-xs text-red-500",children:"Nincs kukorica vetmagod!"})]}),i!==Yt.None&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold",children:"Nvekeds:"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Cm,{className:"h-5 w-5 text-green-600"}),l.jsxs("span",{children:[Math.floor(v),"% ksz"]})]}),l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${v}%`}})})})]})]}),l.jsxs(Wr,{children:[k&&l.jsx(_e,{onClick:_,className:"bg-green-600 hover:bg-green-700",children:"Arats"}),l.jsx(_e,{variant:"outline",onClick:t,children:"Bezrs"})]})]})})},jI=({shopItems:e,shopLevel:t,onAddItem:n,onOrderStock:s,onUpdatePrice:a,onUpgrade:i})=>{const[u,d]=p.useState(""),[h,m]=p.useState(0),[y,v]=p.useState(Date.now()),[x,w]=p.useState(1),[_,k]=p.useState({}),[S,C]=p.useState(t);p.useEffect(()=>{const K=setInterval(()=>v(Date.now()),1e3);return()=>clearInterval(K)},[]),p.useEffect(()=>{C(t)},[t]);const N=K=>K===1?2:K===2?4:7,j=K=>K===1?1500:K===2?4e3:0,T=N(S),O=j(S),L=()=>{if(e.length>=T){Me(`A bolt megtelt! Fejleszd a boltot tbb helyrt (Max: ${T}).`);return}if(!u)return;const K=Er(u);K&&(n({type:K.type,name:K.name,wholesalePrice:K.wholesalePrice,deliveryTimeMs:K.deliveryTimeMs,sellPrice:h>0?h:K.baseSellPrice}),d(""),m(0))},U=()=>{i(),C(K=>K+1)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(dn,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200",children:[l.jsx(Pr,{className:"pb-2",children:l.jsxs($n,{className:"text-md flex justify-between items-center",children:[l.jsxs("span",{children:["Boltszint: ",S]}),l.jsxs("span",{className:"text-sm font-normal",children:["Termkhelyek: ",e.length," / ",T]})]})}),l.jsx(dr,{children:O>0?l.jsxs(_e,{onClick:U,variant:"outline",className:"w-full border-blue-400 text-blue-600 hover:bg-blue-100",children:[l.jsx(Rp,{className:"h-4 w-4 mr-2"}),"Fejleszts ",S+1,". szintre (",O," ",l.jsx(Qn,{className:"h-3 w-3 inline ml-1"}),")"]}):l.jsx("p",{className:"text-sm text-center text-muted-foreground italic text-blue-600",children:"Maximlis boltszint elrve!"})})]}),l.jsxs(dn,{children:[l.jsx(Pr,{className:"pb-2",children:l.jsx($n,{className:"text-lg font-semibold",children:"j termk felvtele"})}),l.jsxs(dr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{children:"Termk"}),l.jsxs(Ps,{onValueChange:K=>d(K),value:u,children:[l.jsx(us,{children:l.jsx(Rs,{placeholder:"Vlassz..."})}),l.jsx(ds,{children:Ds.map(K=>l.jsx(_n,{value:K.type,disabled:e.some(de=>de.type===K.type),children:K.name},K.type))})]})]}),l.jsxs(_e,{onClick:L,className:"w-full",disabled:!u||e.length>=T,children:["Hozzads (",e.length,"/",T,")"]})]})]}),l.jsx("div",{className:"grid gap-4",children:e.map(K=>{const de=K.deliveryEta?Math.max(0,Math.ceil((K.deliveryEta-y)/1e3)):0;return l.jsxs(dn,{children:[l.jsx(Pr,{className:"pb-2",children:l.jsxs($n,{className:"text-md flex justify-between",children:[l.jsx("span",{children:K.name}),l.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Kszlet: ",K.stock," db"]})]})}),l.jsxs(dr,{className:"space-y-4 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-center bg-muted p-2 rounded",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(dE,{className:"h-4 w-4 mr-2"}),l.jsxs("span",{children:["Nagyker: ",l.jsx("strong",{children:K.wholesalePrice})]})]}),K.isDelivering?l.jsxs("div",{className:"flex items-center text-blue-600 animate-pulse",children:[l.jsx(Zu,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:[de,"mp (",K.orderedStock," db)"]})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{type:"number",className:"w-16 h-8",defaultValue:1,onChange:fe=>w(Number(fe.target.value))}),l.jsx(_e,{size:"sm",onClick:()=>s(K.type,x),children:"Rendels"})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx(ht,{className:"text-xs",children:"Eladsi r"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_t,{type:"number",className:"h-8",placeholder:K.sellPrice.toString(),onChange:fe=>k({..._,[K.type]:Number(fe.target.value)})}),l.jsx(_e,{size:"sm",variant:"outline",onClick:()=>a(K.type,_[K.type]||K.sellPrice),children:"OK"})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("span",{className:"font-bold flex items-center justify-end",children:[l.jsx(Qn,{className:"h-3 w-3 mr-1 text-green-500"}),K.sellPrice]})})]})]})]},K.type)})})]})},NI=({isOpen:e,onClose:t,shopOwnerId:n,currentPlayerId:s,currentPlayerMoney:a,shopItems:i,shopLevel:u,onAddItem:d,onOrderStock:h,onUpdatePrice:m,onBuyProduct:y,onUpgrade:v})=>{const x=s===n,[w,_]=p.useState(x?"owner":"customer"),k=S=>{if(S.stock<=0){Me("Nincs kszleten!");return}if(a<S.sellPrice){Me("Nincs elg pnzed!");return}y(S.type,1)};return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"sm:max-w-[650px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pr,{children:[l.jsxs(mr,{className:"flex items-center gap-2",children:[l.jsx(km,{className:"h-5 w-5"})," Bolt (Szint: ",u,")"]}),l.jsx(Mr,{children:x?"Vezesd a boltodat vagy vsrolj belle.":"Vlogass a bolt knlatbl."})]}),x&&l.jsxs("div",{className:"flex gap-2 mb-4 border-b pb-2",children:[l.jsxs(_e,{variant:w==="owner"?"default":"ghost",size:"sm",onClick:()=>_("owner"),children:[l.jsx(Ip,{className:"h-4 w-4 mr-2"})," Boltvezets"]}),l.jsxs(_e,{variant:w==="customer"?"default":"ghost",size:"sm",onClick:()=>_("customer"),children:[l.jsx(aE,{className:"h-4 w-4 mr-2"})," Vevi nzet"]})]}),w==="owner"&&x?l.jsx(jI,{shopItems:i,shopLevel:u,onAddItem:d,onOrderStock:h,onUpdatePrice:m,onUpgrade:v}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.length===0?l.jsx("div",{className:"col-span-2 py-8 text-center text-muted-foreground italic",children:"A bolt knlata jelenleg res."}):i.map(S=>l.jsxs(dn,{className:S.stock<=0?"opacity-60":"",children:[l.jsx(Pr,{className:"pb-2",children:l.jsxs($n,{className:"text-md flex justify-between",children:[S.name,S.stock<=0&&l.jsx("span",{className:"text-xs text-red-500 font-normal",children:"Elfogyott"})]})}),l.jsxs(dr,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"r:"}),l.jsxs("span",{className:"text-xl font-bold flex items-center",children:[l.jsx(Qn,{className:"h-4 w-4 mr-1 text-green-500"})," ",S.sellPrice]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Kszleten: ",S.stock," db"]}),l.jsx(_e,{className:"w-full",onClick:()=>k(S),disabled:S.stock<=0,children:"Vsrls"})]})]},S.type))})]})})},$0=e=>{var t;return e==="money"?"Pnz":((t=Ds.find(n=>n.type===e))==null?void 0:t.name)||e},F0=e=>{if(e==="money")return l.jsx(Qn,{className:"h-4 w-4 text-green-500 mr-1"});switch(e){case pe.Wheat:return l.jsx("span",{className:"mr-1",children:""});case pe.WheatSeed:return l.jsx("span",{className:"mr-1",children:""});case pe.Wood:return l.jsx("span",{className:"mr-1",children:""});case pe.Brick:return l.jsx("span",{className:"mr-1",children:""});case pe.Stone:return l.jsx("span",{className:"mr-1",children:""});case pe.Clothes:return l.jsx("span",{className:"mr-1",children:""});case pe.Flour:return l.jsx("span",{className:"mr-1",children:""});case pe.Water:return l.jsx("span",{className:"mr-1",children:""});case pe.Corn:return l.jsx("span",{className:"mr-1",children:""});case pe.CornFlour:return l.jsx("span",{className:"mr-1",children:""});case pe.Popcorn:return l.jsx("span",{className:"mr-1",children:""});default:return l.jsx("span",{className:"mr-1",children:""})}},TI=({offer:e,currentPlayerId:t,currentPlayerInventory:n,currentPlayerMoney:s,onAccept:a,onCancel:i})=>{const u=e.sellerId===t;let d=!0;return u||(e.buyingType==="money"?d=s>=e.buyingQuantity:d=(n[e.buyingType]||0)>=e.buyingQuantity),l.jsxs(dn,{className:"p-4 flex flex-col sm:flex-row items-center justify-between border-2 border-indigo-300/50",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4 w-full",children:[l.jsxs("div",{className:"flex items-center text-lg font-semibold text-indigo-700 dark:text-indigo-300",children:[F0(e.sellingType),e.sellingQuantity," ",$0(e.sellingType)]}),l.jsx(KC,{className:"h-5 w-5 text-gray-500 shrink-0"}),l.jsxs("div",{className:"flex items-center text-lg font-semibold text-green-700 dark:text-green-300",children:[F0(e.buyingType),e.buyingQuantity," ",$0(e.buyingType)]}),l.jsxs("div",{className:"text-sm text-muted-foreground ml-auto",children:["Elad: ",u?"Te":e.sellerName]})]}),l.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-4 shrink-0",children:u?l.jsxs(_e,{variant:"destructive",size:"sm",onClick:()=>i(e.id),children:[l.jsx(JC,{className:"h-4 w-4 mr-2"})," Visszavons"]}):l.jsx(_e,{size:"sm",onClick:()=>a(e.id),disabled:!d,children:"Csere"})}),!d&&!u&&l.jsx("p",{className:"text-xs text-red-500 mt-2 sm:mt-0 sm:ml-4",children:"Nincs elg fizeteszkzd!"})]})},PI=({isOpen:e,onClose:t,currentPlayer:n,marketOffers:s,onAddOffer:a,onAcceptOffer:i,onCancelOffer:u})=>{const[d,h]=p.useState("browse"),[m,y]=p.useState(""),[v,x]=p.useState(1),[w,_]=p.useState("money"),[k,S]=p.useState(1),C=Ds.filter(T=>(n.inventory[T.type]||0)>0),N=Ds,j=()=>{if(!m||!w||v<=0||k<=0){Me("Krlek tltsd ki az sszes mezt rvnyes rtkekkel.");return}if(m===w){Me("Nem cserlhetsz egy termket nmagra!");return}a({sellerId:n.id,sellingType:m,sellingQuantity:v,buyingType:w,buyingQuantity:k})&&(y(""),x(1),_("money"),S(1),h("browse"))};return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(pr,{children:[l.jsxs(mr,{className:"flex items-center gap-2",children:[l.jsx(_m,{className:"h-5 w-5"})," Piac"]}),l.jsx(Mr,{children:"Cserlj termkeket ms jtkosokkal."})]}),l.jsxs(Nc,{value:d,onValueChange:T=>h(T),children:[l.jsxs(cl,{className:"grid w-full grid-cols-2",children:[l.jsx(Rr,{value:"browse",children:"Ajnlatok bngszse"}),l.jsx(Rr,{value:"create",children:"Ajnlat ltrehozsa"})]}),l.jsx(Ar,{value:"browse",className:"space-y-4 pt-4",children:s.length===0?l.jsx("p",{className:"text-center text-muted-foreground italic py-8",children:"Jelenleg nincsenek aktv ajnlatok."}):l.jsx("div",{className:"space-y-3",children:s.map(T=>l.jsx(TI,{offer:T,currentPlayerId:n.id,currentPlayerInventory:n.inventory,currentPlayerMoney:n.money,onAccept:i,onCancel:u},T.id))})}),l.jsxs(Ar,{value:"create",className:"space-y-4 pt-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(dn,{className:"p-4 border-indigo-500/50",children:[l.jsxs($n,{className:"text-md mb-3 flex items-center text-indigo-700 dark:text-indigo-300",children:[l.jsx(km,{className:"h-4 w-4 mr-2"})," Eladni kvnt termk (Neked van)"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ht,{children:"Termk"}),l.jsxs(Ps,{onValueChange:T=>y(T),value:m,children:[l.jsx(us,{children:l.jsx(Rs,{placeholder:"Vlassz termket"})}),l.jsx(ds,{children:C.map(T=>l.jsxs(_n,{value:T.type,children:[T.name," (Kszlet: ",n.inventory[T.type]||0,")"]},T.type))})]}),l.jsxs(ht,{children:["Mennyisg (Max: ",n.inventory[m]||0,")"]}),l.jsx(_t,{type:"number",min:1,max:n.inventory[m]||0,value:v,onChange:T=>x(Number(T.target.value))})]})]}),l.jsxs(dn,{className:"p-4 border-green-500/50",children:[l.jsxs($n,{className:"text-md mb-3 flex items-center text-green-700 dark:text-green-300",children:[l.jsx(Qn,{className:"h-4 w-4 mr-2"})," Krt fizeteszkz/termk"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ht,{children:"Fizeteszkz"}),l.jsxs(Ps,{onValueChange:T=>_(T),value:w,children:[l.jsx(us,{children:l.jsx(Rs,{placeholder:"Vlassz fizeteszkzt"})}),l.jsxs(ds,{children:[l.jsxs(_n,{value:"money",children:["Pnz (Kszlet: ",n.money,")"]}),N.map(T=>l.jsx(_n,{value:T.type,children:T.name},T.type))]})]}),l.jsx(ht,{children:"Krt mennyisg"}),l.jsx(_t,{type:"number",min:1,value:k,onChange:T=>S(Number(T.target.value))})]})]})]}),l.jsxs(_e,{onClick:j,className:"w-full mt-4",disabled:!m||!w||v<=0||k<=0,children:[l.jsx(XC,{className:"h-4 w-4 mr-2"})," Ajnlat kirsa"]})]})]}),l.jsx(Wr,{children:l.jsx(_e,{variant:"outline",onClick:t,children:"Bezrs"})})]})})},RI=({isOpen:e,onClose:t,bankId:n,ownerId:s,isOwner:a,currentPlayerId:i,currentPlayerMoney:u,activeLoans:d,onTakeLoan:h,onRepayLoan:m,onUpdateConfig:y,bankConfig:v,systemBankConfig:x={interestRate:20,maxLoanAmount:1e4}})=>{const[w,_]=p.useState(1e3),[k,S]=p.useState((v==null?void 0:v.interestRate)||15),[C,N]=p.useState((v==null?void 0:v.maxLoanAmount)||5e3),j=s?v||{interestRate:15,maxLoanAmount:5e3}:x,T=s||"system",O=(j==null?void 0:j.interestRate)||20,L=(j==null?void 0:j.maxLoanAmount)||1e4,U=()=>{if(!(w<=0)){if(w>L){Me(`A maximlis hitelsszeg ${L} Ft.`);return}h(w,T,O),t()}};return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"sm:max-w-[600px]",children:[l.jsxs(pr,{children:[l.jsxs(mr,{className:"flex items-center gap-2",children:[l.jsx(qC,{className:"h-6 w-6"}),s?"Jtkos Bank":"Kzponti Bank"]}),l.jsx(Mr,{children:s?"Egy jtkos ltal zemeltetett pnzintzet.":"llami fenntarts bank, magas kamatokkal."})]}),l.jsxs(Nc,{defaultValue:"borrow",className:"w-full",children:[l.jsxs(cl,{className:"grid w-full grid-cols-3",children:[l.jsx(Rr,{value:"borrow",children:"Klcsnfelvtel"}),l.jsx(Rr,{value:"repay",children:"Trleszts"}),a&&l.jsx(Rr,{value:"manage",children:"Kezels"})]}),l.jsx(Ar,{value:"borrow",className:"space-y-4 py-4",children:l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Aktulis Ajnlat"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsx("div",{children:"Kamatlb:"}),l.jsxs("div",{className:"font-bold text-red-500",children:[O,"%"]}),l.jsx("div",{children:"Maximum felvehet:"}),l.jsxs("div",{className:"font-bold",children:[L," Ft"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{children:"Ignyelt sszeg (Ft)"}),l.jsx(_t,{type:"number",value:w,onChange:K=>_(Number(K.target.value)),min:100,max:L}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Visszafizetend: ",l.jsxs("span",{className:"font-bold",children:[Math.floor(w*(1+O/100))," Ft"]})]})]}),l.jsxs(_e,{onClick:U,className:"w-full",children:[l.jsx(tE,{className:"mr-2 h-4 w-4"})," Klcsn felvtele"]})]})}),l.jsx(Ar,{value:"repay",className:"space-y-4 py-4",children:d.length===0?l.jsx("div",{className:"text-center text-muted-foreground",children:"Nincs aktv tartozsod."}):l.jsx("div",{className:"space-y-3",children:d.map(K=>l.jsxs("div",{className:"p-3 border rounded-lg flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",children:K.lenderName}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tartozs: ",K.remainingRepayment," / ",K.totalRepayment," Ft"]})]}),l.jsx(_e,{size:"sm",variant:"outline",disabled:u<1,onClick:()=>m(K.id,Math.min(u,K.remainingRepayment)),children:"Trleszts (Max)"})]},K.id))})}),a&&l.jsx(Ar,{value:"manage",className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{children:"Kamatlb (%)"}),l.jsx(_t,{type:"number",value:k,onChange:K=>S(Number(K.target.value))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{children:"Max hitelsszeg (Ft)"}),l.jsx(_t,{type:"number",value:C,onChange:K=>N(Number(K.target.value))})]}),l.jsx(_e,{onClick:()=>{y&&y(k,C),t()},children:"Belltsok mentse"})]})})]}),l.jsx(Wr,{children:l.jsx("div",{className:"flex w-full justify-between items-center text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(fE,{className:"h-3 w-3 mr-1"})," Egyenleged: ",u," Ft"]})})})]})})};function AI(e,t){return p.useReducer((n,s)=>t[n][s]??n,e)}var sg="ScrollArea",[MS]=fr(sg),[II,Kr]=MS(sg),zS=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:i=600,...u}=e,[d,h]=p.useState(null),[m,y]=p.useState(null),[v,x]=p.useState(null),[w,_]=p.useState(null),[k,S]=p.useState(null),[C,N]=p.useState(0),[j,T]=p.useState(0),[O,L]=p.useState(!1),[U,K]=p.useState(!1),de=pt(t,ne=>h(ne)),fe=il(a);return l.jsx(II,{scope:n,type:s,dir:fe,scrollHideDelay:i,scrollArea:d,viewport:m,onViewportChange:y,content:v,onContentChange:x,scrollbarX:w,onScrollbarXChange:_,scrollbarXEnabled:O,onScrollbarXEnabledChange:L,scrollbarY:k,onScrollbarYChange:S,scrollbarYEnabled:U,onScrollbarYEnabledChange:K,onCornerWidthChange:N,onCornerHeightChange:T,children:l.jsx(Ze.div,{dir:fe,...u,ref:de,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});zS.displayName=sg;var DS="ScrollAreaViewport",LS=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:a,...i}=e,u=Kr(DS,n),d=p.useRef(null),h=pt(t,d,u.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(Ze.div,{"data-radix-scroll-area-viewport":"",...i,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});LS.displayName=DS;var $s="ScrollAreaScrollbar",og=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Kr($s,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:u}=a,d=e.orientation==="horizontal";return p.useEffect(()=>(d?i(!0):u(!0),()=>{d?i(!1):u(!1)}),[d,i,u]),a.type==="hover"?l.jsx(OI,{...s,ref:t,forceMount:n}):a.type==="scroll"?l.jsx(MI,{...s,ref:t,forceMount:n}):a.type==="auto"?l.jsx($S,{...s,ref:t,forceMount:n}):a.type==="always"?l.jsx(ag,{...s,ref:t}):null});og.displayName=$s;var OI=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Kr($s,e.__scopeScrollArea),[i,u]=p.useState(!1);return p.useEffect(()=>{const d=a.scrollArea;let h=0;if(d){const m=()=>{window.clearTimeout(h),u(!0)},y=()=>{h=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",y)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx(Ir,{present:n||i,children:l.jsx($S,{"data-state":i?"visible":"hidden",...s,ref:t})})}),MI=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=Kr($s,e.__scopeScrollArea),i=e.orientation==="horizontal",u=Jd(()=>h("SCROLL_END"),100),[d,h]=AI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>h("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,a.scrollHideDelay,h]),p.useEffect(()=>{const m=a.viewport,y=i?"scrollLeft":"scrollTop";if(m){let v=m[y];const x=()=>{const w=m[y];v!==w&&(h("SCROLL"),u()),v=w};return m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[a.viewport,i,h,u]),l.jsx(Ir,{present:n||d!=="hidden",children:l.jsx(ag,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Ve(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ve(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),$S=p.forwardRef((e,t)=>{const n=Kr($s,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,u]=p.useState(!1),d=e.orientation==="horizontal",h=Jd(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(d?m:y)}},10);return Xi(n.viewport,h),Xi(n.content,h),l.jsx(Ir,{present:s||i,children:l.jsx(ag,{"data-state":i?"visible":"hidden",...a,ref:t})})}),ag=p.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,a=Kr($s,e.__scopeScrollArea),i=p.useRef(null),u=p.useRef(0),[d,h]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=HS(d.viewport,d.content),y={...s,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function v(x,w){return UI(x,u.current,d,w)}return n==="horizontal"?l.jsx(zI,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollLeft,w=U0(x,d,a.dir);i.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=v(x,a.dir))}}):n==="vertical"?l.jsx(DI,{...y,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollTop,w=U0(x,d);i.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=v(x))}}):null}),zI=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Kr($s,e.__scopeScrollArea),[u,d]=p.useState(),h=p.useRef(null),m=pt(t,h,i.onScrollbarXChange);return p.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(US,{"data-orientation":"horizontal",...a,ref:m,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xd(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,v)=>{if(i.viewport){const x=i.viewport.scrollLeft+y.deltaX;e.onWheelScroll(x),KS(x,v)&&y.preventDefault()}},onResize:()=>{h.current&&i.viewport&&u&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:vd(u.paddingLeft),paddingEnd:vd(u.paddingRight)}})}})}),DI=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...a}=e,i=Kr($s,e.__scopeScrollArea),[u,d]=p.useState(),h=p.useRef(null),m=pt(t,h,i.onScrollbarYChange);return p.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),l.jsx(US,{"data-orientation":"vertical",...a,ref:m,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xd(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,v)=>{if(i.viewport){const x=i.viewport.scrollTop+y.deltaY;e.onWheelScroll(x),KS(x,v)&&y.preventDefault()}},onResize:()=>{h.current&&i.viewport&&u&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:vd(u.paddingTop),paddingEnd:vd(u.paddingBottom)}})}})}),[LI,FS]=MS($s),US=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:y,onResize:v,...x}=e,w=Kr($s,n),[_,k]=p.useState(null),S=pt(t,de=>k(de)),C=p.useRef(null),N=p.useRef(""),j=w.viewport,T=s.content-s.viewport,O=un(y),L=un(h),U=Jd(v,10);function K(de){if(C.current){const fe=de.clientX-C.current.left,ne=de.clientY-C.current.top;m({x:fe,y:ne})}}return p.useEffect(()=>{const de=fe=>{const ne=fe.target;(_==null?void 0:_.contains(ne))&&O(fe,T)};return document.addEventListener("wheel",de,{passive:!1}),()=>document.removeEventListener("wheel",de,{passive:!1})},[j,_,T,O]),p.useEffect(L,[s,L]),Xi(_,U),Xi(w.content,U),l.jsx(LI,{scope:n,scrollbar:_,hasThumb:a,onThumbChange:un(i),onThumbPointerUp:un(u),onThumbPositionChange:L,onThumbPointerDown:un(d),children:l.jsx(Ze.div,{...x,ref:S,style:{position:"absolute",...x.style},onPointerDown:Ve(e.onPointerDown,de=>{de.button===0&&(de.target.setPointerCapture(de.pointerId),C.current=_.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),K(de))}),onPointerMove:Ve(e.onPointerMove,K),onPointerUp:Ve(e.onPointerUp,de=>{const fe=de.target;fe.hasPointerCapture(de.pointerId)&&fe.releasePointerCapture(de.pointerId),document.body.style.webkitUserSelect=N.current,w.viewport&&(w.viewport.style.scrollBehavior=""),C.current=null})})})}),yd="ScrollAreaThumb",BS=p.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=FS(yd,e.__scopeScrollArea);return l.jsx(Ir,{present:n||a.hasThumb,children:l.jsx($I,{ref:t,...s})})}),$I=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...a}=e,i=Kr(yd,n),u=FS(yd,n),{onThumbPositionChange:d}=u,h=pt(t,v=>u.onThumbChange(v)),m=p.useRef(void 0),y=Jd(()=>{m.current&&(m.current(),m.current=void 0)},100);return p.useEffect(()=>{const v=i.viewport;if(v){const x=()=>{if(y(),!m.current){const w=BI(v,d);m.current=w,d()}};return d(),v.addEventListener("scroll",x),()=>v.removeEventListener("scroll",x)}},[i.viewport,y,d]),l.jsx(Ze.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ve(e.onPointerDownCapture,v=>{const w=v.target.getBoundingClientRect(),_=v.clientX-w.left,k=v.clientY-w.top;u.onThumbPointerDown({x:_,y:k})}),onPointerUp:Ve(e.onPointerUp,u.onThumbPointerUp)})});BS.displayName=yd;var ig="ScrollAreaCorner",VS=p.forwardRef((e,t)=>{const n=Kr(ig,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?l.jsx(FI,{...e,ref:t}):null});VS.displayName=ig;var FI=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,a=Kr(ig,n),[i,u]=p.useState(0),[d,h]=p.useState(0),m=!!(i&&d);return Xi(a.scrollbarX,()=>{var v;const y=((v=a.scrollbarX)==null?void 0:v.offsetHeight)||0;a.onCornerHeightChange(y),h(y)}),Xi(a.scrollbarY,()=>{var v;const y=((v=a.scrollbarY)==null?void 0:v.offsetWidth)||0;a.onCornerWidthChange(y),u(y)}),m?l.jsx(Ze.div,{...s,ref:t,style:{width:i,height:d,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vd(e){return e?parseInt(e,10):0}function HS(e,t){const n=e/t;return isNaN(n)?0:n}function Xd(e){const t=HS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function UI(e,t,n,s="ltr"){const a=Xd(n),i=a/2,u=t||i,d=a-u,h=n.scrollbar.paddingStart+u,m=n.scrollbar.size-n.scrollbar.paddingEnd-d,y=n.content-n.viewport,v=s==="ltr"?[0,y]:[y*-1,0];return WS([h,m],v)(e)}function U0(e,t,n="ltr"){const s=Xd(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,u=t.content-t.viewport,d=i-s,h=n==="ltr"?[0,u]:[u*-1,0],m=dc(e,h);return WS([0,u],[0,d])(m)}function WS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function KS(e,t){return e>0&&e<t}var BI=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},u=n.left!==i.left,d=n.top!==i.top;(u||d)&&t(),n=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function Jd(e,t){const n=un(e),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Xi(e,t){const n=un(t);sn(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var qS=zS,VI=LS,HI=VS;const lg=p.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(qS,{ref:s,className:ot("relative overflow-hidden",e),...n,children:[l.jsx(VI,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(GS,{}),l.jsx(HI,{})]}));lg.displayName=qS.displayName;const GS=p.forwardRef(({className:e,orientation:t="vertical",...n},s)=>l.jsx(og,{ref:s,orientation:t,className:ot("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(BS,{className:"relative flex-1 rounded-full bg-border"})}));GS.displayName=og.displayName;const WI=({isOpen:e,onClose:t,transactions:n,currentPlayerId:s})=>{const a=n.filter(d=>d.playerId===s).sort((d,h)=>h.timestamp-d.timestamp),i=a.filter(d=>d.type==="income").reduce((d,h)=>d+h.amount,0),u=a.filter(d=>d.type==="expense").reduce((d,h)=>d+h.amount,0);return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"sm:max-w-[500px]",children:[l.jsxs(pr,{children:[l.jsx(mr,{children:"Pnzmozgsok"}),l.jsx(Mr,{children:"Itt lthatod a jtkosod pnzmozgsainak trtnett."})]}),l.jsxs("div",{className:"mb-4 p-2 border rounded-md bg-gray-50 dark:bg-gray-800",children:[l.jsx("h3",{className:"font-semibold text-lg mb-2",children:"sszests:"}),l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsxs("span",{className:"text-green-600 flex items-center",children:[l.jsx(Rp,{className:"h-4 w-4 mr-1"})," sszes bevtel:"]}),l.jsxs("span",{className:"font-bold text-green-600",children:[i," pnz"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-red-600 flex items-center",children:[l.jsx(Iv,{className:"h-4 w-4 mr-1"})," sszes kiads:"]}),l.jsxs("span",{className:"font-bold text-red-600",children:[u," pnz"]})]})]}),l.jsx(lg,{className:"h-[300px] w-full rounded-md border p-4",children:a.length===0?l.jsx("p",{className:"text-center text-muted-foreground",children:"Nincsenek tranzakcik."}):l.jsx("div",{className:"space-y-4",children:a.map(d=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[d.type==="income"?l.jsx(Rp,{className:"h-5 w-5 text-green-500 mr-2"}):l.jsx(Iv,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:d.description}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(d.timestamp).toLocaleTimeString()})]})]}),l.jsxs("span",{className:`font-semibold ${d.type==="income"?"text-green-500":"text-red-500"}`,children:[d.type==="income"?"+":"-"," ",d.amount," pnz"]})]},d.id))})})]})})},KI=({isOpen:e,onClose:t,buildings:n,currentPlayer:s,onApplyForJob:a,onRentHouse:i,onResignFromJob:u,onMoveOut:d})=>{const[h,m]=p.useState("jobs"),y=n.filter(C=>C.salary!==void 0&&C.employeeIds.length<C.capacity&&C.type!=="road"&&!C.isUnderConstruction),v=n.filter(C=>C.rentalPrice!==void 0&&C.residentIds.length<C.capacity&&!C.isUnderConstruction),x=s.workplace!=="Munkanlkli",w=n.some(C=>C.residentIds.includes(s.id)),_=C=>{switch(C){case"office":return l.jsx(ed,{className:"h-4 w-4 text-blue-500"});case"forestry":return l.jsx(rc,{className:"h-4 w-4 text-green-600"});case"shop":return l.jsx(_m,{className:"h-4 w-4 text-purple-500"});case"mill":return l.jsx(nx,{className:"h-4 w-4 text-amber-700"});case"farm":return l.jsx(rc,{className:"h-4 w-4 text-green-500"});case"popcorn_stand":return l.jsx(zi,{className:"h-4 w-4 text-red-500"});case"quarry":return l.jsx(Sm,{className:"h-4 w-4 text-gray-500"});default:return l.jsx(Ea,{className:"h-4 w-4 text-gray-500"})}},k=C=>{const N=C.employeeIds.includes(s.id),j=x&&!N,T=j?"Mr van munkahelyed. Elbb mondj fel!":"";return l.jsxs(dn,{className:"p-3 flex justify-between items-center border-l-4 border-blue-500",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[_(C.type),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-sm",children:[C.name," #",C.houseNumber]}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[l.jsx(Qn,{className:"h-3 w-3 mr-1 text-green-500"})," Fizets: ",C.salary," pnz/ciklus"]}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[l.jsx(id,{className:"h-3 w-3 mr-1"})," Szabad helyek: ",C.capacity-C.employeeIds.length," / ",C.capacity]})]})]}),N?l.jsx(_e,{size:"sm",onClick:()=>u(C.id),variant:"destructive",children:"Felmonds"}):l.jsx(_e,{size:"sm",onClick:()=>a(C.id),disabled:j,title:T,children:"Jelentkezs"})]},C.id)},S=C=>{const N=C.residentIds.includes(s.id),j=C.ownerId===s.id,T=w&&!N,O=C.residentIds.length>=C.capacity,L=!j&&s.money<(C.rentalPrice||0),U=T||O||L;let K="";return T?K="Mr brelsz egy msik ingatlant.":O?K="Ez a laks mr betelt.":L&&(K="Nincs elg pnzed a brlshez."),l.jsxs(dn,{className:`p-3 flex justify-between items-center border-l-4 ${L?"border-red-500":"border-green-500"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Cs,{className:"h-4 w-4 text-indigo-500"}),l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-sm",children:[C.name," #",C.houseNumber]}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[l.jsx(Qn,{className:"h-3 w-3 mr-1 text-red-500"})," Brleti dj: ",C.rentalPrice," pnz/ciklus"]}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center",children:[l.jsx(id,{className:"h-3 w-3 mr-1"})," Szabad helyek: ",C.capacity-C.residentIds.length," / ",C.capacity]})]})]}),N?l.jsx(_e,{size:"sm",variant:"destructive",onClick:()=>d(C.id),children:"Kikltzs"}):l.jsx(_e,{size:"sm",onClick:()=>i(C.id),disabled:U,title:K,children:j?"Bekltzs":"Brls"})]},C.id)};return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"sm:max-w-[600px] max-h-[90vh] flex flex-col",children:[l.jsxs(pr,{children:[l.jsxs(mr,{className:"flex items-center gap-2",children:[l.jsx(Ea,{className:"h-5 w-5"})," lls s Ingatlan Keres"]}),l.jsx(Mr,{children:"Keress munkt vagy kiad lakst a vrosban."})]}),l.jsxs(Nc,{value:h,onValueChange:C=>m(C),className:"flex-1 flex flex-col",children:[l.jsxs(cl,{className:"grid w-full grid-cols-2",children:[l.jsxs(Rr,{value:"jobs",className:"flex items-center",children:[l.jsx(Ea,{className:"h-4 w-4 mr-2"})," llsok (",y.length,")"]}),l.jsxs(Rr,{value:"housing",className:"flex items-center",children:[l.jsx(Cs,{className:"h-4 w-4 mr-2"})," Laksok (",v.length,")"]})]}),l.jsxs(lg,{className:"flex-1 pt-4",children:[l.jsxs(Ar,{value:"jobs",className:"space-y-3",children:[x&&l.jsxs("p",{className:"text-sm text-center text-yellow-600 italic mb-4",children:["Jelenleg itt dolgozol: ",s.workplace,". j llsrt fel kell mondanod a jelenlegi munkahelyeden."]}),y.length===0?l.jsx("p",{className:"text-center text-muted-foreground italic py-8",children:"Jelenleg nincs szabad lls."}):y.map(k)]}),l.jsxs(Ar,{value:"housing",className:"space-y-3",children:[w&&l.jsx("p",{className:"text-sm text-center text-yellow-600 italic mb-4",children:"Jelenleg mr brelsz egy ingatlant. Csak egyet brelhetsz egyszerre."}),v.length===0?l.jsx("p",{className:"text-center text-muted-foreground italic py-8",children:"Jelenleg nincs kiad ingatlan."}):v.map(S)]})]})]}),l.jsx(Wr,{children:l.jsx(_e,{variant:"outline",onClick:t,children:"Bezrs"})})]})})},qI=({selectedBuilding:e,setSelectedBuilding:t,players:n,setPlayers:s,buildings:a,setBuildings:i,currentPlayerId:u,addTransaction:d,customProcesses:h,setCustomProcesses:m,millProcesses:y,setMillProcesses:v,popcornProcesses:x,setPopcornProcesses:w,executeAtBuilding:_,setIsShopMenuOpen:k,setSelectedShopBuilding:S,setIsPlacingFarmland:C,setSelectedFarmId:N,setIsSelectingTree:j,setIsSelectingStone:T,onStartMining:O,onStartChopping:L,handleStartRoadPlacement:U,setIsMarketplaceOpen:K,handleDemolishBuilding:de,handleResignFromJob:fe,handleMoveOut:ne,handleApplyForJob:ee})=>{var ke,ge,Ce,Le,ae,Pe,Oe,De,Ke,Ue,mt,$e,Lt,Vt,Kt,Ot,yn,$t;if(!e)return null;const re=n.find(B=>B.id===u);if(!re)return null;const ce=B=>{const ue=a.find(je=>je.id===B);if(ue){if(a.some(je=>je.residentIds.includes(re.id))){Me("Mr brelsz egy ingatlant! Elbb ki kell kltznd.");return}if(ue.residentIds.length>=ue.capacity){Me("Megtelt a hz!");return}if(ue.ownerId&&ue.ownerId!==u&&ue.rentalPrice&&re.money<ue.rentalPrice){Me("Nincs elg pnzed a brlshez!");return}_(B,()=>{i(je=>je.map(W=>W.id===B?{...W,residentIds:[...W.residentIds,u]}:W)),Xe(`Bekltztl a(z) ${ue.name} pletbe!`)})}},Ee=B=>{const ue=a.find(je=>je.id===B);if(!(!ue||ue.type!=="forestry")){if(ue.ownerId!==u){Me("Ez nem a te erdszhzad!");return}if(ue.employeeIds.length===0){Me("Nincs alkalmazott az erdszhzban!");return}if((re.inventory[It.Axe]||0)<1){Me("Szksges eszkz: Fejsze ");return}L(B)}},me=B=>{const ue=a.find(je=>je.id===B);if(!(!ue||ue.type!=="quarry")){if(ue.ownerId!==u){Me("Ez nem a te kfejtd!");return}if((re.inventory[It.Pickaxe]||0)<1){Me("Szksges eszkz: Cskny ");return}O(B)}},be=(B,ue)=>{_(B,()=>{var ze,Ct;const je=a.find(Qe=>Qe.id===B);if(!je||!je.ownerId||!je.productionConfig)return;if(je.capacity>0&&je.employeeIds.length===0){Me("Az pletben nincs alkalmazott!");return}const W=je.productionConfig,ie=W.quantity*ue,ye=W.duration*ue;if(W.consumes&&W.consumesQuantity){const Qe=W.consumesQuantity*ue;if((re.inventory[W.consumes]||0)<Qe){Me(`Nincs elg ${((ze=Er(W.consumes))==null?void 0:ze.name)||W.consumes}! Szksges: ${Qe}`);return}s(lt=>lt.map(Ie=>Ie.id===u?{...Ie,inventory:{...Ie.inventory,[W.consumes]:(Ie.inventory[W.consumes]||0)-Qe}}:Ie))}const We={id:`custom-proc-${Date.now()}-${Math.random()}`,buildingId:B,startTime:Date.now(),duration:ye,produces:W.produces,quantity:ie,consumes:W.consumes,consumesQuantity:W.consumesQuantity?W.consumesQuantity*ue:void 0};m(Qe=>[...Qe,We]),Xe(`Termels elindult: ${ie} ${((Ct=Er(W.produces))==null?void 0:Ct.name)||W.produces}`)})},X=(B,ue)=>{const je=a.find(W=>W.id===B);if(!(!je||!je.ownerId)){if((re.inventory.wheat||0)<ue){Me("Nincs elg bzd a mvelethez!");return}_(B,()=>{var W;s(ie=>ie.map(ye=>ye.id===u?{...ye,inventory:{...ye.inventory,wheat:(ye.inventory.wheat||0)-ue}}:ye)),i(ie=>ie.map(ye=>{var We,ze,Ct;return ye.id===B&&ye.type==="mill"?{...ye,millInventory:{wheat:(((We=ye.millInventory)==null?void 0:We.wheat)||0)+ue,flour:((ze=ye.millInventory)==null?void 0:ze.flour)||0,corn:((Ct=ye.millInventory)==null?void 0:Ct.corn)||0}}:ye})),Xe(`${ue} bza hozzadva a malom kszlethez!`),a.find(ie=>ie.id===B),je.employeeIds.length>0&&(((W=je.millInventory)==null?void 0:W.wheat)||0)+ue})}},G=(B,ue)=>{_(B,()=>{var Ct;const je=a.find(Qe=>Qe.id===B);if(!je||!je.ownerId||je.employeeIds.length===0){Me("A malom zrva van, vagy nincs alkalmazott!");return}const W=ue*Yl,ie=ue*M0,ye=ue*gp,We=((Ct=je.millInventory)==null?void 0:Ct.wheat)||0;if(We<W){Me(`Nincs elg bza a malom kszletben! Szksges: ${W} db.`);return}i(Qe=>Qe.map(lt=>{var Ie,tn;return lt.id===B&&lt.type==="mill"?{...lt,millInventory:{wheat:We-W,flour:((Ie=lt.millInventory)==null?void 0:Ie.flour)||0,corn:((tn=lt.millInventory)==null?void 0:tn.corn)||0}}:lt}));const ze={id:`mill-proc-${Date.now()}-${Math.random()}`,millId:B,startTime:Date.now(),duration:ye,wheatConsumed:W,flourProduced:ie,productType:It.Flour};v(Qe=>[...Qe,ze]),Xe(`${ue} adag bza feldolgozsa elindult (${ye/1e3} mp).`)})},he=(B,ue)=>{_(B,()=>{var Ct;const je=a.find(Qe=>Qe.id===B);if(!je||!je.ownerId||je.employeeIds.length===0)return;const W=ue*Si,ie=ue*mp,ye=ue*gp,We=((Ct=je.millInventory)==null?void 0:Ct.corn)||0;if(We<W){Me(`Nincs elg kukorica a malom kszletben! Szksges: ${W} db.`);return}i(Qe=>Qe.map(lt=>{var Ie,tn;return lt.id===B&&lt.type==="mill"?{...lt,millInventory:{wheat:((Ie=lt.millInventory)==null?void 0:Ie.wheat)||0,flour:((tn=lt.millInventory)==null?void 0:tn.flour)||0,corn:We-W}}:lt}));const ze={id:`mill-proc-${Date.now()}-${Math.random()}`,millId:B,startTime:Date.now(),duration:ye,wheatConsumed:0,flourProduced:ie,productType:It.CornFlour};v(Qe=>[...Qe,ze]),Xe(`${ue} adag kukorica rlse elindult (${ye/1e3} mp).`)})},$=(B,ue)=>{const je=a.find(W=>W.id===B);if(!(!je||je.type!=="popcorn_stand")){if((re.inventory[It.Corn]||0)<ue){Me("Nincs elg kukoricd a mvelethez!");return}_(B,()=>{s(W=>W.map(ie=>ie.id===u?{...ie,inventory:{...ie.inventory,[It.Corn]:(ie.inventory[It.Corn]||0)-ue}}:ie)),i(W=>W.map(ie=>{var ye,We;return ie.id===B&&ie.type==="popcorn_stand"?{...ie,popcornStandInventory:{corn:(((ye=ie.popcornStandInventory)==null?void 0:ye.corn)||0)+ue,popcorn:((We=ie.popcornStandInventory)==null?void 0:We.popcorn)||0}}:ie})),Xe(`${ue} kukorica hozzadva a stand kszlethez!`)})}},Z=(B,ue)=>{_(B,()=>{var Ct;const je=a.find(Qe=>Qe.id===B);if(!je||!je.ownerId||je.employeeIds.length===0){Me("A Popcorn rus zrva van, vagy nincs alkalmazott!");return}const W=ue*Xl,ie=ue*z0,ye=ue*D0,We=((Ct=je.popcornStandInventory)==null?void 0:Ct.corn)||0;if(We<W){Me(`Nincs elg kukorica a kszletben! Szksges: ${W} db.`);return}i(Qe=>Qe.map(lt=>{var Ie;return lt.id===B&&lt.type==="popcorn_stand"?{...lt,popcornStandInventory:{corn:We-W,popcorn:((Ie=lt.popcornStandInventory)==null?void 0:Ie.popcorn)||0}}:lt}));const ze={id:`popcorn-proc-${Date.now()}-${Math.random()}`,standId:B,startTime:Date.now(),duration:ye,cornConsumed:W,popcornProduced:ie};w(Qe=>[...Qe,ze]),Xe(`${ue} adag popcorn ksztse elindult (${ye/1e3} mp).`)})};return l.jsx(Or,{open:!!e,onOpenChange:()=>t(null),children:l.jsxs(hr,{children:[l.jsxs(pr,{children:[l.jsxs(mr,{children:[e.name," (#",e.houseNumber,")"]}),l.jsxs(Mr,{children:["Tulajdonos: ",((ke=n.find(B=>B.id===e.ownerId))==null?void 0:ke.name)||"Nincs"]})]}),l.jsxs("div",{className:"py-4 space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[(e.rentalPrice!==void 0||e.salary!==void 0)&&l.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-200 dark:border-blue-700",children:[e.rentalPrice!==void 0&&l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsxs("span",{className:"font-semibold flex items-center",children:[l.jsx(Ov,{className:"h-4 w-4 mr-1 text-red-500"})," Brleti dj (Lakknak):"]}),l.jsxs("span",{className:"font-bold text-red-500",children:[e.rentalPrice," pnz/ciklus"]})]}),e.salary!==void 0&&l.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[l.jsxs("span",{className:"font-semibold flex items-center",children:[l.jsx(Ov,{className:"h-4 w-4 mr-1 text-green-500"})," Fizets (Alkalmazottaknak):"]}),l.jsxs("span",{className:"font-bold text-green-500",children:[e.salary," pnz/ciklus"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md border",children:[l.jsx(id,{className:"h-5 w-5 text-blue-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold",children:e.type==="house"?"Lakk:":"Alkalmazottak:"}),l.jsxs("p",{className:"text-lg font-bold",children:[e.type==="house"?e.residentIds.length:e.employeeIds.length," / ",e.capacity]})]})]}),l.jsxs("div",{className:"bg-muted/50 p-2 text-sm rounded border border-dashed",children:[l.jsx("strong",{children:"Nvsor:"})," ",(e.type==="house"?e.residentIds:e.employeeIds).map(B=>{var ue;return(ue=n.find(je=>je.id===B))==null?void 0:ue.name}).join(", ")||"Senki"]}),(e.category==="business"||["office","forestry","farm","shop","mill","popcorn_stand","quarry","bank"].includes(e.type))&&l.jsx("div",{className:"mt-2",children:e.employeeIds.includes(u)?l.jsx(_e,{variant:"destructive",className:"w-full",onClick:()=>fe(e.id),children:"Felmonds"}):l.jsx(_e,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>ee(e.id),disabled:re.workplace!=="Munkanlkli"||e.employeeIds.length>=e.capacity||e.ownerId===u,children:"Munkba lls"})}),e.type==="shop"&&l.jsx(_e,{onClick:()=>{S(e),k(!0),t(null)},className:"w-full bg-purple-600",children:"Bolt megnyitsa"}),e.type==="farm"&&e.ownerId===u&&l.jsx(_e,{onClick:()=>{if(e.employeeIds.length===0){Me("Nincs alkalmazott a farmon!");return}N(e.id),C(!0),t(null)},className:"w-full bg-green-600 font-bold",children:(((ge=e.farmlandTiles)==null?void 0:ge.length)||0)>0?"Szntfld bvtse":"Szntfld ltrehozsa"}),e.type==="forestry"&&l.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-green-50/50 dark:bg-green-900/20",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rc,{className:"h-4 w-4 text-green-700"}),l.jsx("span",{className:"font-semibold",children:"Erdszhz mveletek"})]}),l.jsx("p",{className:"text-xs",children:"Fk kivgsa a plyrl. Szksges eszkz: Fejsze "}),l.jsxs("p",{className:"text-xs",children:["Fejsze kszlet: ",re.inventory[It.Axe]||0," db"]}),l.jsx(_e,{className:"bg-green-700",onClick:()=>Ee(e.id),disabled:(re.inventory[It.Axe]||0)<1,children:"Fa kivgsa (kattints fra)"})]}),e.type==="quarry"&&l.jsxs("div",{className:"space-y-3 p-3 border rounded-md bg-stone-50/50 dark:bg-stone-900/20",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ap,{className:"h-4 w-4 text-stone-700"}),l.jsx("span",{className:"font-semibold",children:"Kfejt mveletek"})]}),l.jsx("p",{className:"text-xs",children:"Kvek bnyszsa a plyrl. Szksges eszkz: Cskny "}),l.jsxs("p",{className:"text-xs",children:["Cskny kszlet: ",re.inventory[It.Pickaxe]||0," db"]}),l.jsx(_e,{className:"bg-stone-600 w-full mb-2",onClick:()=>me(e.id),disabled:(re.inventory[It.Pickaxe]||0)<1,children:"Kfejts (kattints kre)"})]}),e.productionConfig&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-muted/50 p-2 text-sm rounded border border-dashed",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(ed,{className:"h-4 w-4 text-amber-600"}),l.jsx("span",{className:"font-semibold",children:"Termelsi informcik:"})]}),l.jsxs("p",{className:"text-xs",children:["Termel: ",e.productionConfig.quantity," ",((Ce=Er(e.productionConfig.produces))==null?void 0:Ce.name)||e.productionConfig.produces,e.productionConfig.consumes&&l.jsxs(l.Fragment,{children:[" (Fogyaszt: ",e.productionConfig.consumesQuantity," ",((Le=Er(e.productionConfig.consumes))==null?void 0:Le.name)||e.productionConfig.consumes,")"]}),l.jsx("br",{}),"Idtartam: ",e.productionConfig.duration/1e3," msodperc",l.jsx("br",{}),"Szksges: alkalmazott"]})]}),e.ownerId===u&&l.jsxs("div",{className:"p-3 border rounded-md bg-yellow-50/50 dark:bg-yellow-900/20 space-y-2",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(ed,{className:"h-4 w-4 mr-2 text-amber-700"})," Termels indtsa"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs",children:"Ciklusok szma:"}),l.jsx(_t,{type:"number",defaultValue:1,min:1,max:100,id:"custom-prod-qty",className:"w-20 h-8"}),l.jsx(_e,{size:"sm",onClick:()=>{var ue;const B=Number(((ue=document.getElementById("custom-prod-qty"))==null?void 0:ue.value)||1);be(e.id,B)},disabled:e.employeeIds.length===0,children:"Indts"})]})]}),h.filter(B=>B.buildingId===e.id).length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"font-semibold flex items-center",children:[l.jsx(Zu,{className:"h-4 w-4 mr-2"})," Aktv folyamatok:"]}),h.filter(B=>B.buildingId===e.id).map(B=>{var W,ie;const ue=Date.now()-B.startTime,je=Math.min(100,ue/B.duration*100);return l.jsxs("div",{className:"border p-2 rounded text-xs",children:[l.jsxs("p",{className:"font-medium",children:[B.consumes?`${B.consumesQuantity} ${((W=Er(B.consumes))==null?void 0:W.name)||B.consumes}  `:"",B.quantity," ",((ie=Er(B.produces))==null?void 0:ie.name)||B.produces]}),l.jsx(Is,{value:je,className:"h-2 mt-1"})]},B.id)})]})]}),e.type==="mill"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-muted/50 p-2 text-sm rounded border border-dashed",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(ed,{className:"h-4 w-4 text-amber-600"}),l.jsx("span",{className:"font-semibold",children:"Malom informcik:"})]}),l.jsxs("p",{className:"text-xs",children:["Bza feldolgozs: ",Yl," bza  ",M0," liszt",l.jsx("br",{}),"Kukorica feldolgozs: ",Si," kukorica  ",mp," kukoricaliszt",l.jsx("br",{}),"Idtartam: ",gp/1e3," msodperc",l.jsx("br",{}),"Szksges: alkalmazott"]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("p",{children:["Bza kszlet: ",l.jsx("strong",{children:((ae=e.millInventory)==null?void 0:ae.wheat)||0})," db"]}),l.jsxs("p",{children:["Liszt kszlet: ",l.jsx("strong",{children:((Pe=e.millInventory)==null?void 0:Pe.flour)||0})," db"]}),l.jsxs("p",{children:["Kukorica kszlet: ",l.jsx("strong",{children:((Oe=e.millInventory)==null?void 0:Oe.corn)||0})," db"]})]}),e.employeeIds.length===0&&l.jsx("p",{className:"text-red-500 text-xs mt-2",children:"Nincs alkalmazott a malomban, a feldolgozs sznetel!"})]}),e.ownerId===u&&l.jsxs("div",{className:"p-3 border rounded-md bg-yellow-50/50 dark:bg-yellow-900/20 space-y-2",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(sc,{className:"h-4 w-4 mr-2 text-amber-700"})," Feldolgozs indtsa"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{type:"number",defaultValue:1,min:1,max:Math.floor((((De=e.millInventory)==null?void 0:De.wheat)||0)/Yl),id:"mill-wheat-qty",className:"w-20 h-8"}),l.jsx(_e,{size:"sm",onClick:()=>{var ue;const B=Number(((ue=document.getElementById("mill-wheat-qty"))==null?void 0:ue.value)||1);G(e.id,B)},disabled:e.employeeIds.length===0||(((Ke=e.millInventory)==null?void 0:Ke.wheat)||0)<Yl,children:"Bza  Liszt"})]}),l.jsxs("p",{className:"text-xs mt-1 text-muted-foreground",children:["Feldolgozhat bza adag: ",Math.floor((((Ue=e.millInventory)==null?void 0:Ue.wheat)||0)/Yl)]}),l.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[l.jsx(_t,{type:"number",defaultValue:1,min:1,max:Math.floor((((mt=e.millInventory)==null?void 0:mt.corn)||0)/Si),id:"mill-corn-qty",className:"w-20 h-8"}),l.jsx(_e,{size:"sm",onClick:()=>{var ue;const B=Number(((ue=document.getElementById("mill-corn-qty"))==null?void 0:ue.value)||1);he(e.id,B)},disabled:e.employeeIds.length===0||((($e=e.millInventory)==null?void 0:$e.corn)||0)<Si,children:"Kukorica  Kukoricaliszt"})]}),l.jsxs("p",{className:"text-xs mt-1 text-muted-foreground",children:["Feldolgozhat kukorica adag: ",Math.floor((((Lt=e.millInventory)==null?void 0:Lt.corn)||0)/Si)]})]}),y.filter(B=>B.millId===e.id).length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"font-semibold flex items-center",children:[l.jsx(Zu,{className:"h-4 w-4 mr-2"})," Aktv folyamatok:"]}),y.filter(B=>B.millId===e.id).map(B=>{const ue=Date.now()-B.startTime,je=Math.min(100,ue/B.duration*100),W=Math.ceil((B.duration-ue)/1e3);return l.jsxs("div",{className:"border p-2 rounded text-xs",children:[l.jsx("p",{className:"font-medium",children:B.productType===It.Flour?`${B.wheatConsumed} bza  ${B.flourProduced} liszt`:`${Math.round(B.flourProduced*(Si/mp))} kukorica  ${B.flourProduced} kukoricaliszt`}),l.jsx(Is,{value:je,className:"h-2 mt-1"}),l.jsx("p",{className:"text-right text-muted-foreground mt-1",children:W>0?`${W} mp htra`:"Befejezs..."})]},B.id)})]}),l.jsxs("div",{className:"p-3 border rounded-md bg-green-50/50 dark:bg-green-900/20",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(sc,{className:"h-4 w-4 mr-2 text-amber-700"})," Bza hozzadsa"]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Bza hozzadsa a malom kszlethez a termelshez."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{type:"number",defaultValue:1,min:1,max:re.inventory.wheat||0,id:"wheat-add-qty-public",className:"w-20 h-8"}),l.jsx(_e,{size:"sm",onClick:()=>{var ue;const B=Number(((ue=document.getElementById("wheat-add-qty-public"))==null?void 0:ue.value)||1);X(e.id,B)},disabled:(re.inventory.wheat||0)===0,children:"Hozzads"})]}),l.jsxs("p",{className:"text-xs mt-1",children:["Kszleten: ",re.inventory.wheat||0," db"]})]}),l.jsxs("div",{className:"p-3 border rounded-md bg-green-50/50 dark:bg-green-900/20",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(Cm,{className:"h-4 w-4 mr-2 text-green-700"})," Kukorica hozzadsa"]}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Kukorica hozzadsa a malom kszlethez a termelshez."}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{type:"number",defaultValue:1,min:1,max:re.inventory[It.Corn]||0,id:"corn-add-qty-public",className:"w-20 h-8"}),l.jsx(_e,{size:"sm",onClick:()=>{var ue;const B=Number(((ue=document.getElementById("corn-add-qty-public"))==null?void 0:ue.value)||1);_(e.id,()=>{s(je=>je.map(W=>W.id===u?{...W,inventory:{...W.inventory,[It.Corn]:(W.inventory[It.Corn]||0)-B}}:W)),i(je=>je.map(W=>{var ie,ye,We;return W.id===e.id&&W.type==="mill"?{...W,millInventory:{wheat:((ie=W.millInventory)==null?void 0:ie.wheat)||0,flour:((ye=W.millInventory)==null?void 0:ye.flour)||0,corn:(((We=W.millInventory)==null?void 0:We.corn)||0)+B}}:W})),Xe(`${B} kukorica hozzadva a malom kszlethez!`)})},disabled:(re.inventory[It.Corn]||0)===0,children:"Hozzads"})]})]})]}),e.type==="popcorn_stand"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-muted/50 p-2 text-sm rounded border border-dashed",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(zi,{className:"h-4 w-4 text-red-600"}),l.jsx("span",{className:"font-semibold",children:"Popcorn rus informcik:"})]}),l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("p",{children:["Kukorica kszlet: ",((Vt=e.popcornStandInventory)==null?void 0:Vt.corn)||0," db"]}),l.jsxs("p",{children:["Popcorn kszlet: ",((Kt=e.popcornStandInventory)==null?void 0:Kt.popcorn)||0," db"]})]})]}),l.jsxs("div",{className:"p-3 border rounded-md bg-red-50/50 dark:bg-red-900/20 space-y-2",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[l.jsx(km,{className:"h-4 w-4 mr-2 text-red-700"})," Kukorica betltse a kszletbe"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{type:"number",defaultValue:1,min:1,max:re.inventory[It.Corn]||0,id:"popcorn-corn-qty",className:"w-20 h-8"}),l.jsx(_e,{size:"sm",onClick:()=>{var ue;const B=Number(((ue=document.getElementById("popcorn-corn-qty"))==null?void 0:ue.value)||1);$(e.id,B)},disabled:(re.inventory[It.Corn]||0)<1,children:"Kukorica hozzadsa"})]}),l.jsxs("p",{className:"text-xs mt-1 text-muted-foreground",children:["Kszletben: ",re.inventory[It.Corn]||0," db kukorica"]})]}),l.jsxs("div",{className:"bg-muted/50 p-2 text-sm rounded border border-dashed",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(zi,{className:"h-4 w-4 text-red-500"}),l.jsx("span",{className:"font-semibold",children:"Termels:"})]}),l.jsxs("p",{className:"text-xs",children:["Feldolgozs: ",Xl," kukorica  ",z0," popcorn",l.jsx("br",{}),"Idtartam: ",D0/1e3," msodperc",l.jsx("br",{}),"Szksges: alkalmazott"]}),e.employeeIds.length===0&&l.jsx("p",{className:"text-red-500 text-xs mt-2",children:"Nincs alkalmazott, a termels sznetel!"})]}),e.ownerId===u&&l.jsxs("div",{className:"p-3 border rounded-md bg-yellow-50/50 dark:bg-yellow-900/20 space-y-2",children:[l.jsxs("h4",{className:"font-semibold flex items-center",children:[l.jsx(zi,{className:"h-4 w-4 mr-2 text-red-700"})," Popcorn kszts indtsa"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{type:"number",defaultValue:1,min:1,max:Math.floor((((Ot=e.popcornStandInventory)==null?void 0:Ot.corn)||0)/Xl),id:"popcorn-qty",className:"w-20 h-8"}),l.jsx(_e,{size:"sm",onClick:()=>{var ue;const B=Number(((ue=document.getElementById("popcorn-qty"))==null?void 0:ue.value)||1);Z(e.id,B)},disabled:e.employeeIds.length===0||(((yn=e.popcornStandInventory)==null?void 0:yn.corn)||0)<Xl,children:"Kszts"})]}),l.jsxs("p",{className:"text-xs mt-1 text-muted-foreground",children:["Feldolgozhat adag: ",Math.floor(((($t=e.popcornStandInventory)==null?void 0:$t.corn)||0)/Xl)]})]}),x.filter(B=>B.standId===e.id).length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"font-semibold flex items-center",children:[l.jsx(Zu,{className:"h-4 w-4 mr-2"})," Aktv folyamatok:"]}),x.filter(B=>B.standId===e.id).map(B=>{const ue=Date.now()-B.startTime,je=Math.min(100,ue/B.duration*100),W=Math.ceil((B.duration-ue)/1e3);return l.jsxs("div",{className:"border p-2 rounded text-xs",children:[l.jsxs("p",{className:"font-medium",children:[B.cornConsumed," kukorica  ",B.popcornProduced," popcorn"]}),l.jsx(Is,{value:je,className:"h-2 mt-1"}),l.jsx("p",{className:"text-right text-muted-foreground mt-1",children:W>0?`${W} mp htra`:"Befejezs..."})]},B.id)})]})]}),e.type==="office"&&e.name==="Polgrmesteri Hivatal"&&e.ownerId===u&&l.jsxs(_e,{onClick:()=>U(e.id),className:"w-full bg-gray-600",children:[l.jsx(sE,{className:"h-4 w-4 mr-2"})," tpts (K: ",_I," / csempe)"]}),e.type==="office"&&e.name==="Piac"&&l.jsx(_e,{onClick:()=>{K(!0),t(null)},className:"w-full bg-indigo-600",children:"Piac megnyitsa"})]}),e.isDemolishing&&l.jsxs("div",{className:"p-3 border rounded-md bg-red-50/50 dark:bg-red-900/20 mb-4 mx-4",children:[l.jsxs("h4",{className:"font-semibold mb-2 flex items-center text-red-600",children:[l.jsx(ad,{className:"h-4 w-4 mr-2"})," Bonts folyamatban..."]}),l.jsx(Is,{value:e.demolishProgress||0,className:"h-2"}),l.jsxs("p",{className:"text-xs text-center mt-1 text-muted-foreground",children:[Math.max(0,Math.ceil(((e.demolishEta||0)-Date.now())/1e3))," mp htra"]})]}),l.jsxs(Wr,{children:[!e.isDemolishing&&l.jsxs(l.Fragment,{children:[(e.category==="residential"||e.type==="house")&&(e.residentIds.includes(u)?l.jsx(_e,{variant:"destructive",onClick:()=>ne(e.id),children:"Kikltzs"}):(()=>{const B=a.some(ye=>ye.residentIds.includes(u)),ue=e.residentIds.length>=e.capacity,je=e.ownerId!==u&&e.rentalPrice?re.money<(e.rentalPrice||0):!1,W=B||ue||je;let ie="";return B?ie="Mr brelsz egy msik ingatlant.":ue?ie="Ez a laks mr betelt.":je&&(ie="Nincs elg pnzed a brlshez."),l.jsx(_e,{className:"bg-green-600 hover:bg-green-700",onClick:()=>ce(e.id),disabled:W,title:ie,children:e.ownerId===u?"Bekltzs (Sajt)":"Kibrls / Bekltzs"})})()),e.ownerId===u&&l.jsxs(_e,{variant:"destructive",onClick:()=>{confirm("Biztosan le akarod bontani ezt az pletet?")&&de(e.id)},children:[l.jsx(ad,{className:"h-4 w-4 mr-2"})," Lebonts"]})]}),l.jsx(_e,{variant:"outline",onClick:()=>t(null),children:"Bezrs"})]})]})})},GI=Te.memo(({buildings:e,trees:t,stones:n,players:s,currentPlayerId:a,mapGridSize:i,cameraOffset:u,onJumpTo:d,viewportSize:h,cellSizePx:m,exploredTiles:y})=>{const v=p.useRef(null),x=150;p.useEffect(()=>{const _=v.current;if(!_)return;const k=_.getContext("2d");if(!k)return;k.fillStyle="black",k.fillRect(0,0,x,x);const S=x/i;k.fillStyle="#2d4a22",y.forEach(O=>{const[L,U]=O.split(",").map(Number);k.fillRect(L*S,U*S,Math.max(S,1),Math.max(S,1))}),e.forEach(O=>{if(!y.has(`${O.x},${O.y}`))return;O.type==="road"?k.fillStyle="#ccc":O.type==="house"?k.fillStyle="#facc15":O.type==="office"||O.type==="shop"||O.type==="bank"||O.type==="mill"||O.type==="popcorn_stand"?k.fillStyle="#f97316":O.type==="forestry"?k.fillStyle="#166534":O.type==="farm"?k.fillStyle="#84cc16":k.fillStyle="#888";const L=O.rotation===90||O.rotation===270?O.height:O.width,U=O.rotation===90||O.rotation===270?O.width:O.height;k.fillRect(O.x*S,O.y*S,L*S,U*S)}),k.fillStyle="#2d6a4f",t.forEach(O=>{y.has(`${O.x},${O.y}`)&&k.fillRect(O.x*S,O.y*S,3*S,3*S)}),k.fillStyle="#555",n.forEach(O=>{y.has(`${O.x},${O.y}`)&&k.fillRect(O.x*S,O.y*S,2*S,2*S)}),s.forEach(O=>{if(!y.has(`${O.x},${O.y}`))return;k.fillStyle=O.id===a?"#00f":"#f00";const L=Math.max(2,1*S);k.beginPath(),k.arc(O.x*S,O.y*S,L,0,Math.PI*2),k.fill()});const C=-u.x/m,N=-u.y/m,j=h.width/m,T=h.height/m;k.strokeStyle="#fff",k.lineWidth=1,k.strokeRect(C*S,N*S,j*S,T*S)},[e,t,n,s,a,i,u,h,m,y]);const w=_=>{const k=_.currentTarget.getBoundingClientRect(),S=_.clientX-k.left,C=_.clientY-k.top,N=S/x*i,j=C/x*i;d(N,j)};return l.jsx("div",{className:"absolute bottom-4 right-4 z-50 border-2 border-gray-600 bg-black rounded overflow-hidden shadow-lg",children:l.jsx("canvas",{ref:v,width:x,height:x,onClick:w,className:"cursor-pointer block"})})}),QI=(e,t,n=!0)=>{const s=p.useCallback((i,u,d,h)=>{if(n&&h===0){console.log(`[Economy] Filtered zero transaction: ${d}`);return}e(m=>[...m,{id:`tx-${Date.now()}-${Math.random()}`,playerId:i,type:u,description:d,amount:h,timestamp:Date.now()}])},[e,n]),a=p.useCallback(i=>{const u=Date.now(),d=i.filter(h=>n&&h.amount===0?(console.debug(`[Economy]  Filtered zero transaction: ${h.description} (Player: ${h.playerId})`),!1):!0).map(h=>({...h,id:`tx-${u}-${Math.random()}`,timestamp:u}));d.length>0&&e(h=>[...h,...d])},[e,n]);return{addTransaction:s,addTransactions:a}},YI=({buildings:e,players:t,setPlayers:n,customBuildings:s,initialMillProcesses:a=[],initialPopcornProcesses:i=[],initialCustomProcesses:u=[]})=>{const[d,h]=p.useState(a),[m,y]=p.useState(i),[v,x]=p.useState(u);return p.useEffect(()=>{const w=setInterval(()=>{performance.now();const _=Date.now();let k=[...d],S=[...m],C=[...v];const N={},j=(ne,ee)=>{var me;const re=t.find(be=>be.id===ne),ce=(re==null?void 0:re.inventory[ee])||0,Ee=((me=N[ne])==null?void 0:me[ee])||0;return ce+Ee},T=(ne,ee,re)=>{N[ne]||(N[ne]={}),N[ne][ee]=(N[ne][ee]||0)+re},O=[],L=[];k.forEach(ne=>{ne.startTime+ne.duration<=_?L.push(ne):O.push(ne)}),L.length>0&&(k=O,L.forEach(ne=>{const ee=e.find(re=>re.id===ne.millId);ee!=null&&ee.ownerId?(T(ee.ownerId,It.Flour,ne.flourProduced),Xe(`Liszt elkszlt a malomban! (+${ne.flourProduced})`),j(ee.ownerId,It.Wheat)>=MILL_WHEAT_CONSUMPTION_PER_PROCESS?(T(ee.ownerId,It.Wheat,-MILL_WHEAT_CONSUMPTION_PER_PROCESS),k.push({id:`mill-${_}-${Math.random()}`,millId:ee.id,productType:It.Flour,startTime:_,duration:MILL_PROCESSING_TIME_MS,wheatConsumed:MILL_WHEAT_CONSUMPTION_PER_PROCESS,flourProduced:MILL_FLOUR_PRODUCTION_PER_PROCESS})):console.debug(`[Process]  Mill auto-restart failed: Not enough wheat (Owner: ${ee.ownerId})`)):console.debug(`[Process]  Mill completion skipped: Building ${ne.millId} not found or no owner`)}),h(k));const U=[],K=[];S.forEach(ne=>{ne.startTime+ne.duration<=_?K.push(ne):U.push(ne)}),K.length>0&&(S=U,K.forEach(ne=>{const ee=e.find(re=>re.id===ne.standId);ee!=null&&ee.ownerId&&(T(ee.ownerId,It.Popcorn,ne.popcornProduced),Xe(`Popcorn elkszlt! (+${ne.popcornProduced})`),j(ee.ownerId,It.Corn)>=POPCORN_CORN_CONSUMPTION?(T(ee.ownerId,It.Corn,-POPCORN_CORN_CONSUMPTION),S.push({id:`popcorn-${_}-${Math.random()}`,standId:ee.id,startTime:_,duration:POPCORN_PROCESSING_TIME_MS,cornConsumed:POPCORN_CORN_CONSUMPTION,popcornProduced:POPCORN_PRODUCTION})):console.debug("[Process]  Popcorn auto-restart failed: Not enough corn"))}),y(S));const de=[],fe=[];C.forEach(ne=>{ne.startTime+ne.duration<=_?fe.push(ne):de.push(ne)}),fe.length>0&&(C=de,fe.forEach(ne=>{const ee=e.find(re=>re.id===ne.buildingId);if(ee!=null&&ee.ownerId){T(ee.ownerId,ne.produces,ne.quantity),Xe(`Termels ksz: ${ne.produces} (+${ne.quantity})`);let re=null;const ce=s.find(Ee=>Ee.name===ee.name&&Ee.type===ee.type);if(ce&&ce.productionConfig)re=ce.productionConfig;else{const Ee=Oi.find(me=>me.name===ee.name);Ee&&Ee.productionConfig&&(re=Ee.productionConfig)}if(re){const Ee=re.consumes,me=re.consumesQuantity||0;!Ee||j(ee.ownerId,Ee)>=me?(Ee&&T(ee.ownerId,Ee,-me),C.push({id:`custom-${_}-${Math.random()}`,buildingId:ee.id,produces:re.produces,quantity:re.quantity,startTime:_,duration:re.duration})):console.debug("[Process]  Custom process auto-restart failed: Not enough resources")}}}),x(C)),Object.keys(N).length>0&&n(ne=>ne.map(ee=>{if(N[ee.id]){const re={...ee.inventory};return Object.entries(N[ee.id]).forEach(([ce,Ee])=>{re[ce]=(re[ce]||0)+Ee}),{...ee,inventory:re}}return ee}))},1e3);return()=>clearInterval(w)},[d,m,v,e,t,s,n]),{millProcesses:d,setMillProcesses:h,popcornProcesses:m,setPopcornProcesses:y,customProcesses:v,setCustomProcesses:x}},Ys=(e,t,n=3e4)=>{const s=p.useRef(t);p.useEffect(()=>{s.current=t},[t]),p.useEffect(()=>{const a=()=>{try{localStorage.setItem(e,JSON.stringify(s.current)),console.log(`[AutoSave] Saved ${e}`)}catch(u){console.error(`[AutoSave] Error saving ${e}`,u)}},i=setInterval(a,n);return()=>{clearInterval(i),a()}},[e,n])},_s=(e,t)=>{try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error(`[AutoSave] Error loading ${e}`,n),t}},XI=(e=!0)=>{const[t,n]=p.useState(0),s=p.useRef(0),a=p.useRef(performance.now()),[i,u]=p.useState({fps:0});return p.useEffect(()=>{if(!e)return;const d=()=>{s.current++;const m=performance.now(),y=m-a.current;if(y>=1e3){const v=Math.round(s.current*1e3/y);n(v);const x=performance.memory;u({fps:v,memory:x?Math.round(x.usedJSHeapSize/1024/1024):void 0}),s.current=0,a.current=m}requestAnimationFrame(d)},h=requestAnimationFrame(d);return()=>cancelAnimationFrame(h)},[e]),i},JI=e=>{const t=p.useRef(),n=p.useRef(),s=p.useRef(e);p.useEffect(()=>{s.current=e},[e]);const a=i=>{if(n.current!==void 0){const u=i-n.current;s.current(u)}n.current=i,t.current=requestAnimationFrame(a)};p.useEffect(()=>(t.current=requestAnimationFrame(a),()=>{t.current&&cancelAnimationFrame(t.current)}),[])},ZI=({tracks:e,initialDelay:t=0})=>{var O;const n=p.useRef(null),[s,a]=p.useState(!1),[i,u]=p.useState(()=>Math.floor(Math.random()*e.length)),[d,h]=p.useState(.4),[m,y]=p.useState(!0),[v,x]=p.useState("all");p.useEffect(()=>{let L;return t>0?L=setTimeout(()=>{a(!0)},t):a(!0),()=>clearTimeout(L)},[t]);const w=p.useCallback(()=>{e.length!==0&&(u(L=>{if(v==="one")return L;if(m){let K;do K=Math.floor(Math.random()*e.length);while(K===L&&e.length>1);return K}const U=(L+1)%e.length;return v==="none"&&U===0?(a(!1),L):U}),a(!0))},[e,m,v]);p.useEffect(()=>{if(e.length===0){n.current&&(n.current.pause(),n.current.src=""),a(!1);return}if(n.current){const L=e[i];n.current.src!==L&&n.current.src!==window.location.origin+L?n.current.getAttribute("src")!==L&&(n.current.src=L,n.current.load(),s&&n.current.play().catch(K=>console.error("Error playing audio:",K))):s&&n.current.paused&&n.current.play().catch(U=>console.error("Error playing audio:",U))}},[i,e,s]),p.useEffect(()=>{n.current&&(n.current.volume=d,s?n.current.play().catch(L=>console.error("Error playing audio:",L)):n.current.pause())},[s,d]),p.useEffect(()=>{const L=n.current;if(L)return L.addEventListener("ended",w),()=>L.removeEventListener("ended",w)},[w]);const _=()=>{a(L=>!L)},k=()=>{e.length!==0&&(u(L=>(L-1+e.length)%e.length),a(!0))},S=L=>{h(L[0]/100)},C=()=>{y(L=>!L)},N=()=>{x(L=>L==="none"?"all":L==="all"?"one":"none")};if(e.length===0)return null;const j=((O=e[i].split("/").pop())==null?void 0:O.replace(".mp3",""))||`Track ${i+1}`,T=decodeURIComponent(j);return l.jsxs(dn,{className:"w-full mt-4 bg-sidebar-accent text-sidebar-accent-foreground border-sidebar-border shadow-none",children:[l.jsx(Pr,{className:"pb-2",children:l.jsx($n,{className:"text-lg font-semibold",children:"Httrzene"})}),l.jsxs(dr,{className:"flex flex-col space-y-2",children:[l.jsx("p",{className:"text-sm truncate",title:T,children:T}),l.jsxs("div",{className:"flex justify-start space-x-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:C,className:ot("h-8 w-8",m?"text-primary":"text-gray-500 hover:text-primary"),title:"Kevers",children:l.jsx(iE,{className:"h-4 w-4"})}),l.jsxs(_e,{variant:"ghost",size:"icon",onClick:N,className:ot("h-8 w-8",v!=="none"?"text-primary":"text-gray-500 hover:text-primary"),title:v==="one"?"Ismtls: egy dal":v==="all"?"Ismtls: sszes":"Ismtls kikapcsolva",children:[l.jsx(rE,{className:"h-4 w-4"}),v==="one"&&l.jsx("span",{className:"absolute text-[0.6rem] bottom-1 right-1",children:"1"})]})]}),l.jsxs("div",{className:"flex justify-center space-x-2",children:[l.jsx(_e,{variant:"outline",size:"icon",onClick:k,className:"bg-sidebar-primary text-sidebar-primary-foreground border-sidebar-border hover:bg-sidebar-primary/80",children:l.jsx(lE,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"outline",size:"icon",onClick:_,className:"bg-sidebar-primary text-sidebar-primary-foreground border-sidebar-border hover:bg-sidebar-primary/80",children:s?l.jsx(Op,{className:"h-4 w-4"}):l.jsx(Mp,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"outline",size:"icon",onClick:w,className:"bg-sidebar-primary text-sidebar-primary-foreground border-sidebar-border hover:bg-sidebar-primary/80",children:l.jsx(cE,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[d===0?l.jsx(Mp,{className:"h-4 w-4 text-gray-500"}):d<.5?l.jsx(tx,{className:"h-4 w-4 text-gray-500"}):l.jsx(Op,{className:"h-4 w-4 text-gray-500"}),l.jsx(Zm,{value:[d*100],max:100,step:1,onValueChange:S,className:"w-[60%]"}),l.jsxs("span",{className:"text-xs text-gray-500 w-12 text-right",children:[Math.round(d*100),"%"]})]}),l.jsx("audio",{ref:n,preload:"auto"})]})]})},eO="/tile-o-polis/assets/80-as%20%C3%A9vek%20New%20Yorkja%20(1)-CbxTrw9K.mp3",tO="/tile-o-polis/assets/80-as%20%C3%A9vek%20New%20Yorkja-D22cxYa4.mp3",nO="/tile-o-polis/assets/Betonon%20T%C3%A1ncolunk%202-C9mGFHee.mp3",rO="/tile-o-polis/assets/Betonon%20T%C3%A1ncolunk-CQx2_uhj.mp3",sO="/tile-o-polis/assets/Boogie%20in%20the%20Happy%20City%202-tIQKvdcy.mp3",oO="/tile-o-polis/assets/Boogie%20in%20the%20Happy%20City%20on%20a%20Guitar%202-g8NQMcpE.mp3",aO="/tile-o-polis/assets/Boogie%20in%20the%20Happy%20City%20on%20a%20Guitar-Bqy9gpzk.mp3",iO="/tile-o-polis/assets/Boogie%20in%20the%20Happy%20City-BTf5xgVn.mp3",lO="/tile-o-polis/assets/Boots%20on%20the%20Groove%201-CDyry6xE.mp3",cO="/tile-o-polis/assets/Boots%20on%20the%20Groove%202-TuERMZnj.mp3",uO="/tile-o-polis/assets/Broadway's%20Dreams%202-gYUlqcTf.mp3",dO="/tile-o-polis/assets/Broadway's%20Dreams-DPAPKPdt.mp3",fO="/tile-o-polis/assets/City%20Runs%20On%20Rock%20_%20Roll%202-CUB_-zhs.mp3",hO="/tile-o-polis/assets/City%20Runs%20On%20Rock%20_%20Roll-DSx1BXPg.mp3",pO="/tile-o-polis/assets/Fast%20Lanes_%20Bright%20Days%202-DOvPDjiW.mp3",mO="/tile-o-polis/assets/Fast%20Lanes_%20Bright%20Days-BPeob6nG.mp3",gO="/tile-o-polis/assets/Groove%20On%20Sunshine%201-v5OcNVEA.mp3",yO="/tile-o-polis/assets/Groove%20On%20Sunshine%202-BL4wZyNM.mp3",vO="/tile-o-polis/assets/Happy%20City%20Boogie%202-DyORQqAS.mp3",wO="/tile-o-polis/assets/Happy%20City%20Boogie-aHUGzw4W.mp3",xO="/tile-o-polis/assets/Harlem%20F%C3%BCstje%202-DaZFyfe8.mp3",bO="/tile-o-polis/assets/Harlem%20F%C3%BCstje-Dz7eRUQj.mp3",SO="/tile-o-polis/assets/New%20York_%20%E2%80%9984%20Nyara%202-CbGCp7GI.mp3",kO="/tile-o-polis/assets/New%20York_%20%E2%80%9984%20Nyara-C5ScP_8q.mp3",_O="/tile-o-polis/assets/Nyugi%20a%20k%C3%B6r%C3%BAton%202-Df_0yrfs.mp3",CO="/tile-o-polis/assets/Nyugi%20a%20k%C3%B6r%C3%BAton%203-CWiHaI0l.mp3",EO="/tile-o-polis/assets/Nyugi%20a%20k%C3%B6r%C3%BAton%204-Dzmxzr8d.mp3",jO="/tile-o-polis/assets/Nyugi%20a%20k%C3%B6r%C3%BAton-DzvDhXzZ.mp3",NO="/tile-o-polis/assets/Small%20Town%20Sunshine-BoxLm2HC.mp3",TO="/tile-o-polis/assets/Sun%20On%20Every%20Corner%202-j8LKmjWk.mp3",PO="/tile-o-polis/assets/Sun%20On%20Every%20Corner-KWEQrM-M.mp3",RO="/tile-o-polis/assets/Sunny%20Side%20of%20the%20Sidewalk%202-DcthJRZc.mp3",AO="/tile-o-polis/assets/Sunny%20Side%20of%20the%20Sidewalk-CrMQfXGX.mp3",IO="/tile-o-polis/assets/Sunshine%20On%20Every%20Corner%202-CJPFTMzb.mp3",OO="/tile-o-polis/assets/Sunshine%20On%20Every%20Corner%203-h7L1fDOm.mp3",MO="/tile-o-polis/assets/Sunshine%20On%20Every%20Corner%204-B87XRYBq.mp3",zO="/tile-o-polis/assets/Sunshine%20On%20Every%20Corner-DQIha8Wp.mp3",DO="/tile-o-polis/assets/Sunshine%20in%20My%20Pocket-CEAWA-Fo.mp3",LO="/tile-o-polis/assets/Sunshine%20in%20My%20Shoes%201-C4TZTZAk.mp3",$O="/tile-o-polis/assets/Sunshine%20in%20My%20Shoes%202-rBXOl_rS.mp3",FO="/tile-o-polis/assets/Sunshine%20on%20a%20Rainy%20Day%201-DTtoK_Wt.mp3",UO="/tile-o-polis/assets/Sunshine%20on%20a%20Rainy%20Day%202-By8dKW_M.mp3",BO="/tile-o-polis/assets/Sunshine%20on%20the%20Porch%201-CxnZ1brd.mp3",VO="/tile-o-polis/assets/Sunshine%20on%20the%20Porch%202-CZzPkTR-.mp3",HO="/tile-o-polis/assets/Swinging%20Through%20Time%201-Bp4cnoeC.mp3",WO="/tile-o-polis/assets/Swinging%20Through%20Time%202-BfEqeFN0.mp3",KO="/tile-o-polis/assets/Whiskey%20on%20the%20Keys%201-Y_ewAYRa.mp3",qO="/tile-o-polis/assets/Whiskey%20on%20the%20Keys%202-Bza7thOM.mp3",GO=Object.assign({"/src/music/80-as vek New Yorkja (1).mp3":eO,"/src/music/80-as vek New Yorkja.mp3":tO,"/src/music/Betonon Tncolunk 2.mp3":nO,"/src/music/Betonon Tncolunk.mp3":rO,"/src/music/Boogie in the Happy City 2.mp3":sO,"/src/music/Boogie in the Happy City on a Guitar 2.mp3":oO,"/src/music/Boogie in the Happy City on a Guitar.mp3":aO,"/src/music/Boogie in the Happy City.mp3":iO,"/src/music/Boots on the Groove 1.mp3":lO,"/src/music/Boots on the Groove 2.mp3":cO,"/src/music/Broadway's Dreams 2.mp3":uO,"/src/music/Broadway's Dreams.mp3":dO,"/src/music/City Runs On Rock & Roll 2.mp3":fO,"/src/music/City Runs On Rock & Roll.mp3":hO,"/src/music/Fast Lanes, Bright Days 2.mp3":pO,"/src/music/Fast Lanes, Bright Days.mp3":mO,"/src/music/Groove On Sunshine 1.mp3":gO,"/src/music/Groove On Sunshine 2.mp3":yO,"/src/music/Happy City Boogie 2.mp3":vO,"/src/music/Happy City Boogie.mp3":wO,"/src/music/Harlem Fstje 2.mp3":xO,"/src/music/Harlem Fstje.mp3":bO,"/src/music/New York, 84 Nyara 2.mp3":SO,"/src/music/New York, 84 Nyara.mp3":kO,"/src/music/Nyugi a krton 2.mp3":_O,"/src/music/Nyugi a krton 3.mp3":CO,"/src/music/Nyugi a krton 4.mp3":EO,"/src/music/Nyugi a krton.mp3":jO,"/src/music/Small Town Sunshine.mp3":NO,"/src/music/Sun On Every Corner 2.mp3":TO,"/src/music/Sun On Every Corner.mp3":PO,"/src/music/Sunny Side of the Sidewalk 2.mp3":RO,"/src/music/Sunny Side of the Sidewalk.mp3":AO,"/src/music/Sunshine On Every Corner 2.mp3":IO,"/src/music/Sunshine On Every Corner 3.mp3":OO,"/src/music/Sunshine On Every Corner 4.mp3":MO,"/src/music/Sunshine On Every Corner.mp3":zO,"/src/music/Sunshine in My Pocket.mp3":DO,"/src/music/Sunshine in My Shoes 1.mp3":LO,"/src/music/Sunshine in My Shoes 2.mp3":$O,"/src/music/Sunshine on a Rainy Day 1.mp3":FO,"/src/music/Sunshine on a Rainy Day 2.mp3":UO,"/src/music/Sunshine on the Porch 1.mp3":BO,"/src/music/Sunshine on the Porch 2.mp3":VO,"/src/music/Swinging Through Time 1.mp3":HO,"/src/music/Swinging Through Time 2.mp3":WO,"/src/music/Whiskey on the Keys 1.mp3":KO,"/src/music/Whiskey on the Keys 2.mp3":qO}),QO=Object.values(GO),YO=({status:e,onClose:t})=>{const n=e==="win"?"Gyzelem!":"Vesztettl!",s=e==="win"?"Gratullunk, teljestetted a jtk cljait!":"Sajnos nem sikerlt teljesteni a jtk cljait. Prbld jra!";return l.jsx(Or,{open:!0,onOpenChange:t,children:l.jsxs(hr,{children:[l.jsxs(pr,{children:[l.jsx(mr,{className:`text-2xl font-bold ${e==="win"?"text-green-500":"text-red-500"}`,children:n}),l.jsx(Mr,{children:s})]}),l.jsx(Wr,{children:l.jsx(_e,{onClick:t,children:"Vissza a fmenbe"})})]})})};class XO extends Te.Component{constructor(t){super(t),this.state={hasError:!1,errorMsg:""}}static getDerivedStateFromError(t){return{hasError:!0,errorMsg:String(t)}}componentDidCatch(t,n){console.error(t,n)}render(){return this.state.hasError?l.jsx("div",{className:"flex items-center justify-center h-screen p-6",children:l.jsxs("div",{className:"max-w-md w-full border rounded p-4 bg-red-50 dark:bg-red-900/20",children:[l.jsx("h2",{className:"font-bold text-red-700 dark:text-red-300 mb-2",children:"Hiba trtnt a Jtk kpernyn"}),l.jsx("p",{className:"text-sm break-words",children:this.state.errorMsg}),l.jsx("button",{className:"mt-3 px-3 py-2 bg-red-600 text-white rounded",onClick:()=>this.setState({hasError:!1,errorMsg:""}),children:"jraprblom"})]})}):this.props.children}}const Ti=Ds.reduce((e,t)=>(e[t.type]=1,e),{});Object.assign(Ti,{[pe.Potato]:5,[pe.Water]:5,[pe.Clothes]:5,[pe.Wood]:50,[pe.Brick]:20,[pe.Stone]:20,[pe.WheatSeed]:10,[pe.Wheat]:10,[pe.Flour]:5,[pe.CornSeed]:10,[pe.Corn]:10,[pe.CornFlour]:5,[pe.Popcorn]:5});const yp=[{id:"player-test",name:"Teszt Elek",money:5e4,inventory:{...Ti},workplace:"Munkanlkli",workplaceSalary:0},{id:"player-2",name:"Lyukas Zseb Lajos",money:300,inventory:{...Ti},workplace:"Munkanlkli",workplaceSalary:0},{id:"player-3",name:"Grf Csekkfzet",money:15e3,inventory:{...Ti},workplace:"Munkanlkli",workplaceSalary:0},{id:"player-4",name:"Krajcr Kzmr",money:2e3,inventory:{...Ti},workplace:"Munkanlkli",workplaceSalary:0},{id:"player-5",name:"Zsrosbdn dn",money:8e3,inventory:{...Ti},workplace:"Munkanlkli",workplaceSalary:0}],JO=()=>{var Bc,Vc,Za;const e=Cc(),[t,n]=p.useState(!!document.fullscreenElement),[s,a]=p.useState(!1);p.useEffect(()=>{const R=()=>n(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",R),document.fullscreenElement||setTimeout(()=>a(!0),1e3),()=>document.removeEventListener("fullscreenchange",R)},[]);const i=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(R=>{console.error(`Error attempting to enable full-screen mode: ${R.message} (${R.name})`)}),a(!1)},d=ol().state||{},h=(d==null?void 0:d.allPlayers)||(d==null?void 0:d.players),m=d==null?void 0:d.buildings,y=d==null?void 0:d.transactions,v=d==null?void 0:d.currentPlayerId,[x,w]=p.useState(()=>{const R=_s("players",null);return R||(h&&h.length>0?h:yp)}),[_,k]=p.useState(()=>{const R=_s("currentPlayerId",null);if(R)return R;const P=h&&h.length>0?h:yp,I=P[0].id;return v&&P.some(z=>z.id===v)?v:I}),S=x.find(R=>R.id===_)||x[0],[C,N]=p.useState(()=>_s("buildings",null)||m||[]),[j,T]=p.useState(null),[O,L]=p.useState(!1),[U,K]=p.useState(!1),[de,fe]=p.useState(!1),[ne,ee]=p.useState(!1),[re,ce]=p.useState(()=>{const R=localStorage.getItem("customBuildings");return R?JSON.parse(R):[]}),[Ee,me]=p.useState(()=>_s("buildings",[]).length),[be,X]=p.useState(null),[G,he]=p.useState(()=>{const R=localStorage.getItem("mapGridSize");return R?parseInt(R,10):200}),[$,Z]=p.useState(()=>{const R=localStorage.getItem("exploredTiles");if(R)try{return new Set(JSON.parse(R))}catch{return new Set}return new Set});p.useEffect(()=>{const R=setTimeout(()=>{localStorage.setItem("exploredTiles",JSON.stringify(Array.from($)))},1e3);return()=>clearTimeout(R)},[$]);const ke=p.useCallback((R,P,I)=>{Z(z=>{const M=new Set(z);let D=!1;const Q=I;for(let H=-Q;H<=Q;H++)for(let q=-Q;q<=Q;q++)if(H*H+q*q<=Q*Q){const se=R+H,xe=P+q;if(se>=0&&se<G&&xe>=0&&xe<G){const oe=`${se},${xe}`;M.has(oe)||(M.add(oe),D=!0)}}return D?M:z})},[G]);p.useEffect(()=>{localStorage.setItem("customBuildings",JSON.stringify(re))},[re]);const[ge,Ce]=p.useState({cycleTime:3e4,winMoney:0,winCompanies:0,loseInsolvencyCycles:0}),[Le,ae]=p.useState(0);p.useEffect(()=>{const R=localStorage.getItem("gameRules_cycleTime"),P=localStorage.getItem("gameRules_winMoney"),I=localStorage.getItem("gameRules_winCompanies"),z=localStorage.getItem("gameRules_loseInsolvencyCycles");Ce({cycleTime:R?parseInt(R,10):3e4,winMoney:P?parseInt(P,10):0,winCompanies:I?parseInt(I,10):0,loseInsolvencyCycles:z?parseInt(z,10):0})},[]);const[Pe,Oe]=p.useState(hp),[De,Ke]=p.useState(null),[Ue,mt]=p.useState(!1),[$e,Lt]=p.useState(null),[Vt,Kt]=p.useState(null),[Ot,yn]=p.useState(0),[$t,B]=p.useState(!1),[ue,je]=p.useState(null),[W,ie]=p.useState(y||[]),[ye,We]=p.useState(!0),{addTransaction:ze,addTransactions:Ct}=QI(ie,ge,ye),[Qe,lt]=p.useState(null),{fps:Ie,memory:tn}=XI(),[Fn,gt]=p.useState(!1),[et,At]=p.useState(null),[Xt,on]=p.useState(()=>_s("shopInventories",null)||{}),[Yn,Xn]=p.useState(()=>_s("bankConfigs",null)||{}),[Jn,Un]=p.useState(()=>_s("loans",null)||[]),[Aa,ct]=p.useState(!1),[ft,Rt]=p.useState(null),[Et,vn]=p.useState(()=>{const R={};return(h&&h.length>0?h:yp).forEach((I,z)=>{const M=1+z,D=1;R[I.id]={x:M,y:D,renderX:M*kr,renderY:D*kr,dir:"down",frame:0,path:[]}}),R}),[wn,Bn]=p.useState({});p.useRef(0);const an=p.useCallback(()=>{vn(R=>{const P={...R},I=P[_];if(!I)return R;if(I.path.length===0)return I.frame!==0?(P[_]={...I,frame:0},P):R;const z=I.path[0],M=I.renderX,D=I.renderY,Q=z.x*kr,H=z.y*kr;let q=M,se=D,xe=I.dir,oe=I.frame;const Re=C.some(Ae=>Ae.type==="road"&&Ae.x===I.x&&Ae.y===I.y)?pp*2:pp;return M<Q?(q=Math.min(M+Re,Q),xe="right"):M>Q&&(q=Math.max(M-Re,Q),xe="left"),D<H?(se=Math.min(D+Re,H),xe="down"):D>H&&(se=Math.max(D-Re,H),xe="up"),Math.abs(q-M)>Math.abs(se-D)||Math.abs(se-D)>0&&(xe=se>D?"down":"up"),q!==M||se!==D?oe=(I.frame+1)%4:oe=0,q===Q&&se===H&&(I.x=z.x,I.y=z.y,I.path.shift(),P[_]&&ke(I.x,I.y,6),I.path.length===0&&wn[_]&&(wn[_](),Bn(Ae=>({...Ae,[_]:null})))),P[_]={...I,renderX:q,renderY:se,dir:xe,frame:oe},P})},[_,wn,kr,pp,C,ke]);p.useEffect(()=>{const R=setInterval(()=>{an()},xI);return()=>clearInterval(R)},[an]),p.useEffect(()=>{const R=Et[_];R&&ke(R.x,R.y,6)},[_,ke]);const[Vn,qr]=p.useState(!1),[ms,Ho]=p.useState([]),[Ia,rf]=p.useState({}),[Pc,sf]=p.useState({}),Mt=p.useRef(null),[of,Oa]=p.useState(!1),[Rc,dl]=p.useState(0),[Ma,Wo]=p.useState(!1),fn=p.useRef(null),[mg,za]=p.useState(!1),[Ht,Ac]=p.useState(0),[Ko,fl]=p.useState([]),Da=R=>{var D,Q;const P=C.find(H=>H.id===R);if(!P||P.ownerId!==_)return;const I=((D=P.residentIds)==null?void 0:D.length)||0,z=((Q=P.employeeIds)==null?void 0:Q.length)||0;if(I>0||z>0){Me("Csak res pletet lehet lebontani! (Lakk vagy dolgozk vannak benne)");return}if(P.isUnderConstruction){const H=Oi.find(q=>q.type===P.type&&q.name===P.name)||re.find(q=>q.type===P.type&&q.name===P.name);if(H){const q=Math.floor(H.cost*Ql);w(se=>se.map(xe=>xe.id===_?{...xe,money:xe.money+q}:xe)),ze(_,"income",`pts megszaktva: ${P.name}`,q),Xe(`${P.name} ptse megszaktva. Visszatrts: ${q}`)}N(q=>q.filter(se=>se.id!==R)),T(null);return}const M=`demolish-${Date.now()}`;fl(H=>[...H,{id:M,buildingId:P.id,startTime:Date.now(),duration:CI}]),N(H=>H.map(q=>q.id===R?{...q,isDemolishing:!0,demolishProgress:0}:q)),Xe("Bonts megkezdve...")},[af,hl]=p.useState(null),[La,Zn]=p.useState(null),lf=(R,P)=>{const I=[],z=new Set;(P||[]).forEach(Q=>{var se;const H=Q.rotation===90||Q.rotation===270?Q.height:Q.width,q=Q.rotation===90||Q.rotation===270?Q.width:Q.height;for(let xe=0;xe<H;xe++)for(let oe=0;oe<q;oe++)z.add(`${Q.x+xe},${Q.y+oe}`);(se=Q.farmlandTiles)==null||se.forEach(xe=>z.add(`${xe.x},${xe.y}`))});const M=Math.max(6,Math.floor(R/3));let D=0;for(;I.length<M&&D<R*R;){D++;const Q=Math.floor(Math.random()*(R-3)),H=Math.floor(Math.random()*(R-3)),q=[`${Q},${H}`,`${Q+1},${H}`,`${Q+2},${H}`,`${Q},${H+1}`,`${Q+1},${H+1}`,`${Q+2},${H+1}`,`${Q},${H+2}`,`${Q+1},${H+2}`,`${Q+2},${H+2}`];q.every(se=>!z.has(se))&&(I.push({x:Q,y:H,woodQuantity:30}),q.forEach(se=>z.add(se)))}return I},gr=(R,P,I)=>{const z=[],M=new Set;(P||[]).forEach(H=>{var xe;const q=H.rotation===90||H.rotation===270?H.height:H.width,se=H.rotation===90||H.rotation===270?H.width:H.height;for(let oe=0;oe<q;oe++)for(let Fe=0;Fe<se;Fe++)M.add(`${H.x+oe},${H.y+Fe}`);(xe=H.farmlandTiles)==null||xe.forEach(oe=>M.add(`${oe.x},${oe.y}`))}),I.forEach(H=>{for(let q=0;q<3;q++)for(let se=0;se<3;se++)M.add(`${H.x+q},${H.y+se}`)});const D=Math.max(3,Math.floor(R/6));let Q=0;for(;z.length<D&&Q<R*R;){Q++;const H=Math.floor(Math.random()*(R-1)),q=Math.floor(Math.random()*(R-1)),se=[`${H},${q}`,`${H+1},${q}`,`${H},${q+1}`,`${H+1},${q+1}`];se.every(xe=>!M.has(xe))&&(z.push({x:H,y:q,stoneQuantity:100}),se.forEach(xe=>M.add(xe)))}return z},[Rn,cf]=p.useState(()=>lf(G,m||[])),[Gr,$a]=p.useState(()=>gr(G,m||[],Rn)),Cn=p.useCallback((R,P,I=!1)=>{var z;for(const M of C){if(I&&M.type==="road")continue;const D=M.rotation===90||M.rotation===270?M.height:M.width,Q=M.rotation===90||M.rotation===270?M.width:M.height;if(R>=M.x&&R<M.x+D&&P>=M.y&&P<M.y+Q||(z=M.farmlandTiles)!=null&&z.some(H=>H.x===R&&H.y===P))return!0}for(const M of Rn)if(R>=M.x&&R<M.x+3&&P>=M.y&&P<M.y+3)return!0;for(const M of Gr)if(R>=M.x&&R<M.x+2&&P>=M.y&&P<M.y+2)return!0;return!!ms.some(M=>M.x===R&&M.y===P)},[C,Rn,Gr,ms]),yr=p.useCallback((R,P,I=new Set)=>{const z=(oe,Fe)=>oe>=0&&oe<G&&Fe>=0&&Fe<G,M=new Set;C.forEach(oe=>{var Ae;if(oe.type==="road")return;const Fe=oe.rotation===90||oe.rotation===270?oe.height:oe.width,Re=oe.rotation===90||oe.rotation===270?oe.width:oe.height;for(let tt=0;tt<Fe;tt++)for(let yt=0;yt<Re;yt++)M.add(`${oe.x+tt},${oe.y+yt}`);(Ae=oe.farmlandTiles)==null||Ae.forEach(tt=>M.add(`${tt.x},${tt.y}`))}),Rn.forEach(oe=>{for(let Fe=0;Fe<3;Fe++)for(let Re=0;Re<3;Re++)M.add(`${oe.x+Fe},${oe.y+Re}`)}),ms.forEach(oe=>{I.has("stumps")||M.add(`${oe.x},${oe.y}`)}),Gr.forEach(oe=>{M.add(`${oe.x},${oe.y}`),M.add(`${oe.x+1},${oe.y}`),M.add(`${oe.x},${oe.y+1}`),M.add(`${oe.x+1},${oe.y+1}`)}),Object.entries(Et).forEach(([oe,Fe])=>{oe!==_&&!I.has("players")&&M.add(`${Fe.x},${Fe.y}`)});const D=(oe,Fe)=>`${oe},${Fe}`,Q=[{x:R.x,y:R.y,g:0,f:Math.abs(R.x-P.x)+Math.abs(R.y-P.y)}],H=new Map,q=new Map([[D(R.x,R.y),0]]),se=new Set,xe=[[1,0,1],[-1,0,1],[0,1,1],[0,-1,1],[1,1,1.41],[1,-1,1.41],[-1,1,1.41],[-1,-1,1.41]];for(;Q.length;){Q.sort((Re,Ae)=>Re.f-Ae.f);const oe=Q.shift(),Fe=D(oe.x,oe.y);if(!se.has(Fe)){if(se.add(Fe),oe.x===P.x&&oe.y===P.y){const Re=[];let Ae=Fe,tt={x:oe.x,y:oe.y};for(;Ae!==D(R.x,R.y);){Re.unshift({x:tt.x,y:tt.y});const yt=H.get(Ae);Ae=D(yt.x,yt.y),tt=yt}return Re}xe.forEach(([Re,Ae,tt])=>{const yt=oe.x+Re,wt=oe.y+Ae,xt=D(yt,wt);if(!z(yt,wt)||M.has(xt))return;const bt=oe.g+tt,In=q.get(xt);if(In===void 0||bt<In){q.set(xt,bt);const nn=Math.abs(yt-P.x)+Math.abs(wt-P.y);Q.push({x:yt,y:wt,g:bt,f:bt+nn}),H.set(xt,{x:oe.x,y:oe.y})}})}}return[]},[C,Rn,ms,Et,_,G]),ro=p.useCallback((R,P)=>{let I=yr(R,P);return I.length>0||(console.warn("Pathfinding failed, trying to ignore players."),I=yr(R,P,new Set(["players"])),I.length>0)||(console.warn("Pathfinding failed, trying to ignore stumps."),I=yr(R,P,new Set(["stumps"])),I.length>0)||(console.warn("Pathfinding failed, trying to ignore players and stumps."),I=yr(R,P,new Set(["players","stumps"]))),I},[yr]),er=p.useCallback((R,P)=>{const I=C.find(Re=>Re.id===R);if(!I)return;const z=Et[_]||{x:0,y:0,dir:"down",frame:0,path:[]},M=(Re,Ae)=>Re>=0&&Re<G&&Ae>=0&&Ae<G,D=I.rotation===90||I.rotation===270?I.height:I.width,Q=I.rotation===90||I.rotation===270?I.width:I.height,H=[];for(let Re=I.x-1;Re<=I.x+D;Re++)for(let Ae=I.y-1;Ae<=I.y+Q;Ae++)Re>=I.x&&Re<I.x+D&&Ae>=I.y&&Ae<I.y+Q||M(Re,Ae)&&H.push({x:Re,y:Ae});const xe=Array.from(new Set(H.map(Re=>`${Re.x},${Re.y}`))).map(Re=>{const[Ae,tt]=Re.split(",").map(Number);return{x:Ae,y:tt}}).filter(Re=>Re.x===z.x&&Re.y===z.y?!0:!Cn(Re.x,Re.y,!0)).sort((Re,Ae)=>{const tt=Math.abs(Re.x-z.x)+Math.abs(Re.y-z.y),yt=Math.abs(Ae.x-z.x)+Math.abs(Ae.y-z.y);return tt-yt});if(xe.some(Re=>Math.abs(Re.x-z.x)+Math.abs(Re.y-z.y)===0)||z.x>=I.x&&z.x<I.x+D&&z.y>=I.y&&z.y<I.y+Q){P();return}let Fe=[];for(const Re of xe){const Ae=ro({x:z.x,y:z.y},{x:Re.x,y:Re.y});if(Ae.length>0){Fe=Ae;break}}if(Fe.length===0){Me("Nem talltam tvonalat a clhoz (lehet, hogy blokkolva van).");return}vn(Re=>({...Re,[_]:{...z,path:Fe}})),Bn(Re=>({...Re,[_]:P})),Xe("Elindultl a clhoz.")},[C,Et,_,yr,ro,Cn,G]),Qr=p.useCallback((R,P,I)=>{const z=Et[_]||{x:0,y:0,dir:"down",frame:0,path:[]};if(z.x===R&&z.y===P){I();return}const M=ro({x:z.x,y:z.y},{x:R,y:P});if(M.length===0){Me("Nem talltam tvonalat a clhoz.");return}vn(D=>({...D,[_]:{...z,path:M}})),Bn(D=>({...D,[_]:I})),Xe("Elindultl a clhoz.")},[Et,_,yr]),[Fa,Ua]=p.useState(!1),[zr,qo]=p.useState(null),[Ba,so]=p.useState([]),[Nt,pl]=p.useState(0),[ml,Va]=p.useState(0),gs=p.useRef(null),Hn=p.useRef(null),[Ha,Wa]=p.useState(!1),[Dr,vr]=p.useState(!1),[ys,En]=p.useState([]),[Go,Fs]=p.useState(null),An=Ue||$t||Dr,{millProcesses:Ic,setMillProcesses:Oc,popcornProcesses:oo,setPopcornProcesses:uf,customProcesses:gl,setCustomProcesses:Ka}=YI({buildings:C,players:x,setPlayers:w,customBuildings:re,initialMillProcesses:_s("millProcesses",[]),initialPopcornProcesses:_s("popcornProcesses",[]),initialCustomProcesses:_s("customProcesses",[])});Ys("players",x),Ys("buildings",C),Ys("currentPlayerId",_),Ys("millProcesses",Ic),Ys("popcornProcesses",oo),Ys("customProcesses",gl),Ys("shopInventories",Xt),Ys("bankConfigs",Yn),Ys("loans",Jn);const[qa,tr]=p.useState(!1),[nr,ao]=p.useState(null),[io,rr]=p.useState([]);p.useEffect(()=>{const R=I=>{wr.current[I.key]=!0,I.key==="Shift"&&Wa(!0),I.key==="Escape"&&An&&(mt(!1),B(!1),vr(!1),Kt(null),tr(!1),rr([]),En([]))},P=I=>{wr.current[I.key]=!1,I.key==="Shift"&&Wa(!1)};return window.addEventListener("keydown",R),window.addEventListener("keyup",P),()=>{window.removeEventListener("keydown",R),window.removeEventListener("keyup",P)}},[An]);const yl=p.useRef(0),df=p.useCallback(()=>{if(!Mt.current){dl(0);return}const R=Date.now()-Mt.current.startTime,P=Math.min(100,R/Mt.current.duration*100);if(dl(P),R>=Mt.current.duration){const I=Mt.current.treeIndex,z=Mt.current.sourceBuildingId,M=Mt.current.treeX,D=Mt.current.treeY,Q=5,H=Rn[I];if((!H||H.x!==M||H.y!==D)&&Rn.findIndex(bt=>bt.x===M&&bt.y===D)===-1){Mt.current=null;return}const q=Rn.findIndex(xt=>xt.x===M&&xt.y===D);if(q===-1){Mt.current=null;return}const se=Rn[q],xe=se.woodQuantity!==void 0?se.woodQuantity:30,oe=Math.max(0,xe-Q),Fe=oe>0;cf(xt=>{const bt=[...xt],In=bt.findIndex(nn=>nn.x===M&&nn.y===D);return In===-1?xt:oe<=0?(bt.splice(In,1),bt):(bt[In]={...bt[In],woodQuantity:oe},bt)}),Fe||Ho(xt=>[...xt,{x:M+1,y:D+1}]);const Ae=(Ia[_]||0)+Q;let tt=0,yt=Ae;for(;yt>=90;)tt+=1,yt-=90;rf(xt=>({...xt,[_]:yt})),w(xt=>xt.map(bt=>bt.id===_?{...bt,carryingWood:Q,inventory:{...bt.inventory,[pe.Axe]:Math.max(0,(bt.inventory[pe.Axe]||0)-tt)}}:bt)),Mt.current=null,Oa(!1);const wt=(z?C.find(xt=>xt.id===z):null)||C.find(xt=>xt.type==="forestry"&&xt.ownerId===_);wt?(Xe(`Fa kivgva (+${Q}). Szllts az Erdszhzhoz...`),er(wt.id,()=>{w(xt=>xt.map(bt=>{if(bt.id===_){const In=bt.carryingWood||0;return{...bt,carryingWood:0,inventory:{...bt.inventory,wood:(bt.inventory.wood||0)+In}}}return bt})),Xe("Fa leszlltva."),ze(_,"income","Fa kivgsa (nyers fa)",0),setTimeout(()=>{if(Fe){const xt=[];for(let nn=M-1;nn<=M+3;nn++)for(let co=D-1;co<=D+3;co++)nn>=M&&nn<M+3&&co>=D&&co<D+3||xt.push({x:nn,y:co});Et[_];const In=xt.filter(nn=>nn.x>=0&&nn.x<G&&nn.y>=0&&nn.y<G&&!Cn(nn.x,nn.y,!0))[0];Qr(In.x,In.y,()=>{if((S.inventory[pe.Axe]||0)<1){Me("A fejszd elhasznldott.");return}Mt.current={id:`chop-${Date.now()}`,playerId:_,treeIndex:0,treeX:M,treeY:D,startTime:Date.now(),duration:L0,sourceBuildingId:z},Oa(!0),hl({x:M+1,y:D+1,active:!0}),Xe("Folytatdik a vgs...")})}},1e3)})):(w(xt=>xt.map(bt=>bt.id===_?{...bt,carryingWood:0,inventory:{...bt.inventory,wood:(bt.inventory.wood||0)+Q}}:bt)),ze(_,"income","Fa kivgsa (nyers fa)",0),Xe(`Fa kivgva. +${Q} fa. (Nincs erdszhz, azonnal jvrva)`))}},[Ia,_,ze,Rn,C,er,Qr,G,Cn,S]),Qo=p.useRef(0),Ga=p.useCallback(()=>{if(!fn.current){Ac(0);return}const R=Date.now()-fn.current.startTime,P=Math.min(100,R/fn.current.duration*100);if(Ac(P),R>=fn.current.duration){const I=fn.current.stoneIndex,z=fn.current.sourceBuildingId,M=5,D=Gr[I];if(!D){fn.current=null;return}const Q=D.stoneQuantity!==void 0?D.stoneQuantity:100,H=Math.max(0,Q-M),q=H>0;$a(Ae=>{const tt=[...Ae];return tt[I]?H<=0?tt.filter((yt,wt)=>wt!==I):(tt[I]={...D,stoneQuantity:H},tt):Ae});const xe=(Pc[_]||0)+M;let oe=0,Fe=xe;for(;Fe>=200;)oe+=1,Fe-=200;sf(Ae=>({...Ae,[_]:Fe})),w(Ae=>Ae.map(tt=>tt.id===_?{...tt,carryingStone:M,miningTarget:q?{x:D.x,y:D.y,stoneIndex:I}:void 0,inventory:{...tt.inventory,[pe.Pickaxe]:Math.max(0,(tt.inventory[pe.Pickaxe]||0)-oe)}}:tt)),fn.current=null,za(!1);const Re=(z?C.find(Ae=>Ae.id===z):null)||C.find(Ae=>Ae.type==="quarry"&&Ae.ownerId===_);Re?(Xe(`K kibnyszva (+${M}). Szllts a kfejthz...`),er(Re.id,()=>{w(Ae=>Ae.map(tt=>{if(tt.id===_){const yt=tt.carryingStone||0;return{...tt,carryingStone:0,inventory:{...tt.inventory,[pe.Stone]:(tt.inventory[pe.Stone]||0)+yt}}}return tt})),Xe("K leszlltva."),ze(_,"income","Kbnyszat (k)",0),setTimeout(()=>{if(q){const Ae=[];for(let wt=D.x-1;wt<=D.x+2;wt++)for(let xt=D.y-1;xt<=D.y+2;xt++)wt>=D.x&&wt<D.x+2&&xt>=D.y&&xt<D.y+2||Ae.push({x:wt,y:xt});const yt=Ae.filter(wt=>wt.x>=0&&wt.x<G&&wt.y>=0&&wt.y<G&&!Cn(wt.x,wt.y,!0))[0];Qr(yt.x,yt.y,()=>{if((S.inventory[pe.Pickaxe]||0)<1){Me("A csknyod elhasznldott, nem tudod folytatni a bnyszatot.");return}fn.current={id:`mine-${Date.now()}-${Math.random()}`,playerId:_,stoneIndex:I,stoneX:D.x,stoneY:D.y,startTime:Date.now(),duration:5e3,sourceBuildingId:z},za(!0),Zn({x:D.x,y:D.y,active:!0}),Xe("Visszatrtl a bnyhoz, folytats...")})}},1e3)})):(w(Ae=>Ae.map(tt=>tt.id===_?{...tt,carryingStone:0,inventory:{...tt.inventory,[pe.Stone]:(tt.inventory[pe.Stone]||0)+M}}:tt)),ze(_,"income","Kbnyszat (k)",0),Xe(`K kibnyszva. +${M} k. (Nincs kfejt, azonnal jvrva)`),q&&Qr(D.x,D.y,()=>{if((S.inventory[pe.Pickaxe]||0)-oe<1){Me("A csknyod elhasznldott, nem tudod folytatni a bnyszatot.");return}fn.current={id:`mine-${Date.now()}-${Math.random()}`,playerId:_,stoneIndex:I,stoneX:D.x,stoneY:D.y,startTime:Date.now(),duration:5e3},za(!0),Zn({x:D.x,y:D.y,active:!0}),Xe("Folytatdik a bnyszat...")}))}},[Pc,_,Gr,C,er,Qr,S,ze,G,Cn]),Yo=p.useRef(0),Mc=p.useCallback(()=>{Ho(R=>{const P=[];let I=!1;return R.forEach(z=>{z.cyclesRemaining!==void 0?z.cyclesRemaining>1?P.push({...z,cyclesRemaining:z.cyclesRemaining-1}):I=!0:(P.push({...z,cyclesRemaining:10}),I=!0)}),I?P:R})},[]),vs=p.useCallback(()=>{const R=[],P={};x.forEach(M=>P[M.id]=0),C.forEach(M=>{M.type==="house"&&M.ownerId&&M.rentalPrice&&M.residentIds.length>0&&M.residentIds.forEach(D=>{D!==M.ownerId&&(P[D]-=M.rentalPrice,P[M.ownerId]+=M.rentalPrice,R.push({playerId:D,type:"expense",description:`Brleti dj: ${M.name}`,amount:M.rentalPrice}),R.push({playerId:M.ownerId,type:"income",description:`Lakbr: ${M.name}`,amount:M.rentalPrice}))}),M.salary&&M.employeeIds.length>0&&M.employeeIds.forEach(D=>{P[M.ownerId]-=M.salary,P[D]+=M.salary,R.push({playerId:M.ownerId,type:"expense",description:`Munkabr kifizets: ${M.name}`,amount:M.salary}),R.push({playerId:D,type:"income",description:`Fizets: ${M.name}`,amount:M.salary})})}),w(M=>M.map(D=>{const Q=D.money+(P[D.id]||0);return{...D,money:Q}})),Ct(R);const I=P[_]||0,z=S.money+I;if(ge.loseInsolvencyCycles>0)if(z<0){const M=Le+1;if(ae(M),M>=ge.loseInsolvencyCycles){X("loss");return}else Me(`VIGYZAT! Fizetskptelen vagy! (${M}/${ge.loseInsolvencyCycles} ciklus)`)}else ae(0);if(ge.winMoney>0&&z>=ge.winMoney){X("win");return}if(ge.winCompanies>0&&C.filter(D=>D.ownerId===_&&D.category==="business").length>=ge.winCompanies){X("win");return}},[C,x,_,ge,Le,e,S.money,Ct]),Xo=p.useRef(0),Qa=p.useCallback(()=>{N(R=>R.map(P=>{if(P.type==="farm"&&P.farmlandTiles){const I=P.farmlandTiles.map(z=>{let M=0;const D=100;let Q=0;return z.cropType===Yt.Wheat?Q=bI:z.cropType===Yt.Corn&&(Q=kI),Q>0&&(z.cropProgress||0)<D?(M=1e3/Q*100,{...z,cropProgress:Math.min(D,(z.cropProgress||0)+M)}):z});return{...P,farmlandTiles:I}}return P}))},[]),vl=p.useCallback((R,P,I)=>{on(z=>{const D=(z[R]||[]).map(Q=>Q.type===P?{...Q,stock:Q.stock+I,orderedStock:Math.max(0,Q.orderedStock-I),isDelivering:Q.orderedStock-I>0}:Q);return{...z,[R]:D}})},[]),lo=p.useRef(0),Ya=p.useCallback(()=>{Object.entries(Xt).forEach(([R,P])=>{P.forEach(I=>{I.isDelivering&&I.deliveryEta&&Date.now()>=I.deliveryEta&&(vl(R,I.type,I.orderedStock),Xe(`Megrkezett a rendels a boltba: ${I.name} (${I.orderedStock} db)`))})})},[Xt,vl]),wr=p.useRef({}),Pt=p.useRef({x:0,y:0}),ws=p.useRef(0),wl=p.useCallback(()=>{const R=Date.now();if(Ko.length>0){const P=[];fl(I=>{const z=I.filter(M=>R>=M.startTime+M.duration?(P.push(M.buildingId),!1):!0);return P.length>0&&(N(M=>{const D=[],Q=M.filter(H=>P.includes(H.id)?(D.push(H),!1):!0);return D.forEach(H=>{if(H.ownerId!==_)return;const q=Oi.find(se=>se.type===H.type&&se.name===H.name)||re.find(se=>se.type===H.type&&se.name===H.name);if(q){const se=Math.floor(q.cost*Ql),xe=Math.floor((q.woodCost||0)*Ql),oe=Math.floor((q.brickCost||0)*Ql),Fe=Math.floor((q.stoneCost||0)*Ql);w(Re=>Re.map(Ae=>Ae.id===_?{...Ae,money:Ae.money+se,inventory:{...Ae.inventory,wood:(Ae.inventory.wood||0)+xe,brick:(Ae.inventory.brick||0)+oe,stone:(Ae.inventory.stone||0)+Fe}}:Ae)),ze(_,"income",`pletbonts visszatrts: ${H.name}`,se),Xe(`${H.name} lebontva.`),Hn.current&&Hn.current.stopAllSfx()}}),Q}),T(null)),z})}N(P=>{let I=!1,z=!1;const M=P.map(D=>{let Q={...D},H=!1;const q=Ko.find(se=>se.buildingId===D.id);if(q){z=!0;const se=R-q.startTime,xe=Math.min(100,se/q.duration*100);Math.abs((D.demolishProgress||0)-xe)>.1&&(Q.demolishProgress=xe,H=!0)}else D.isDemolishing&&(Q.isDemolishing=!1,Q.demolishProgress=0,H=!0);if(D.isUnderConstruction&&D.constructionEta){if(z=!0,R>=D.constructionEta)Xe(`${D.name} ksz!`),Hn.current&&Hn.current.stopAllSfx(),Q={...Q,isUnderConstruction:!1,constructionEta:void 0,originalDuration:void 0,buildProgress:100},H=!0;else if(D.originalDuration){const se=R-(D.constructionEta-D.originalDuration),xe=Math.min(100,se/D.originalDuration*100);Math.abs((D.buildProgress||0)-xe)>.1&&(Q.buildProgress=xe,H=!0)}}if(D.type==="farm"&&D.farmlandTiles){let se=!1;const xe=D.farmlandTiles.map(oe=>{if(oe.isUnderConstruction&&oe.constructionEta){if(z=!0,R>=oe.constructionEta)return Xe(`Szntfld ksz: (${oe.x}, ${oe.y})!`),se=!0,{...oe,isUnderConstruction:!1,constructionEta:void 0,originalDuration:void 0,buildProgress:100};if(oe.originalDuration){const Fe=R-(oe.constructionEta-oe.originalDuration),Re=Math.min(100,Fe/oe.originalDuration*100);if(Math.abs((oe.buildProgress||0)-Re)>.1)return se=!0,{...oe,buildProgress:Re}}}return oe});se&&(Q.farmlandTiles=xe,H=!0)}return H&&(I=!0),Q});return Hn.current&&!z&&P.some(Q=>{var H;return Q.isUnderConstruction||Q.isDemolishing||((H=Q.farmlandTiles)==null?void 0:H.some(q=>q.isUnderConstruction))})&&Hn.current.stopAllSfx(),I?M:P})},[_,Ko,re,ze,Hn,w,N,T]);JI(R=>{var Q,H;let M=0,D=0;if((wr.current.ArrowUp||wr.current.w)&&(D+=1.5),(wr.current.ArrowDown||wr.current.s)&&(D-=1.5),(wr.current.ArrowLeft||wr.current.a)&&(M+=1.5),(wr.current.ArrowRight||wr.current.d)&&(M-=1.5),Pt.current.x+=M,Pt.current.y+=D,Pt.current.x*=.9,Pt.current.y*=.9,Pt.current.x=Math.max(-25,Math.min(25,Pt.current.x)),Pt.current.y=Math.max(-25,Math.min(25,Pt.current.y)),Math.abs(Pt.current.x)<.1&&(Pt.current.x=0),Math.abs(Pt.current.y)<.1&&(Pt.current.y=0),Pt.current.x!==0||Pt.current.y!==0){const q=((Q=gs.current)==null?void 0:Q.clientWidth)||window.innerWidth,se=((H=gs.current)==null?void 0:H.clientHeight)||window.innerHeight,xe=G*kr,oe=G*kr;pl(Fe=>{const Re=Math.min(0,-(xe-q));return Math.max(Re,Math.min(0,Fe+Pt.current.x))}),Va(Fe=>{const Re=Math.min(0,-(oe-se));return Math.max(Re,Math.min(0,Fe+Pt.current.y))})}ws.current+=R,yl.current+=R,Qo.current+=R,Yo.current+=R,Oe(q=>q-R),Xo.current+=R,lo.current+=R,ws.current>=500&&(wl(),ws.current-=500),yl.current>=100&&(df(),yl.current-=100),Qo.current>=100&&(Ga(),Qo.current-=100),Yo.current>=1e3&&(Mc(),Yo.current-=1e3),Pe<=0&&(vs(),Oe(hp)),Xo.current>=1e3&&(Qa(),Xo.current-=1e3),lo.current>=1e3&&(Ya(),lo.current-=1e3)}),p.useEffect(()=>{if(j){const R=C.find(P=>P.id===j.id);R&&R!==j&&T(R)}},[C,j]);const Jo=100-Pe/hp*100,ff=Math.ceil(Pe/1e3),xl=(R,P,I)=>{var Q;const z=C.find(H=>H.id===I);if(!z)return!1;const M=R>=z.x-1&&R<=z.x+z.width&&P>=z.y-1&&P<=z.y+z.height,D=(Q=z.farmlandTiles)==null?void 0:Q.some(H=>Math.abs(H.x-R)+Math.abs(H.y-P)===1);return M||D},bl=(R,P,I)=>{let z="Kzponti Bank";if(P!=="system"){const Q=x.find(H=>H.id===P);z=Q?`${Q.name} Bankja`:"Ismeretlen Bank"}const M=Math.floor(R*(1+I/100)),D={id:`loan-${Date.now()}-${Math.random()}`,borrowerId:_,lenderId:P,lenderName:z,amount:R,interestRate:I,totalRepayment:M,remainingRepayment:M,dueDate:Date.now()+600*1e3};Un(Q=>[...Q,D]),w(Q=>Q.map(H=>H.id===_?{...H,money:H.money+R}:H)),ze(_,"income",`Hitel felvtele (${z})`,R),Xe(`Sikeresen felvettl ${R} Ft hitelt!`)},Zo=(R,P)=>{const I=Jn.find(M=>M.id===R);if(!I)return;if(S.money<P){Me("Nincs elg pnzed a trlesztshez!");return}const z=I.remainingRepayment-P;w(M=>M.map(D=>D.id===_?{...D,money:D.money-P}:D)),I.lenderId!=="system"&&(w(M=>M.map(D=>D.id===I.lenderId?{...D,money:D.money+P}:D)),ze(I.lenderId,"income",`Hitel trleszts rkezett (${S.name})`,P)),z<=0?(Un(M=>M.filter(D=>D.id!==R)),Xe("Hitel teljes egszben trlesztve!"),ze(_,"expense",`Hitel visszafizetse (${I.lenderName})`,P)):(Un(M=>M.map(D=>D.id===R?{...D,remainingRepayment:z}:D)),Xe(`Trleszts sikeres! Htralk: ${z} Ft`),ze(_,"expense",`Hitel trlesztse (${I.lenderName})`,P))},Xa=(R,P)=>{ft&&(Xn(I=>({...I,[ft.id]:{interestRate:R,maxLoanAmount:P}})),Xe("Bank belltsai frisstve!"))},zc=R=>{if(An)return;const P=C.find(I=>I.id===R);if((P==null?void 0:P.type)==="shop"){At(P),gt(!0);return}if((P==null?void 0:P.type)==="bank"){Rt(P),ct(!0);return}T(P||null),(P==null?void 0:P.type)==="office"&&P.name==="Piac"&&(qo(P.id),Ua(!0))},Ja=(R,P)=>{const I=[],z=Math.min(R.x,P.x),M=Math.max(R.x,P.x),D=Math.min(R.y,P.y),Q=Math.max(R.y,P.y);for(let H=D;H<=Q;H++)for(let q=z;q<=M;q++)I.push({x:q,y:H});return I},hf=(R,P,I)=>{if(!$e)return;const z=Ot===90||Ot===270?$e.height:$e.width,M=Ot===90||Ot===270?$e.width:$e.height;if(R+z>G||P+M>G){Me("Az plet kilgna a plyrl!");return}for(let xe=0;xe<z;xe++)for(let oe=0;oe<M;oe++)if(!$.has(`${R+xe},${P+oe}`)){Me("Csak felfedezett terletre pthetsz!");return}const D=C.some(xe=>xe.name==="Polgrmesteri Hivatal"),Q=$e.name==="Stor"||$e.name==="Erdszhz";if(D&&!Q){let xe=!1;const oe=new Set(C.filter(Fe=>Fe.type==="road").map(Fe=>`${Fe.x},${Fe.y}`));for(let Fe=0;Fe<z;Fe++){for(let Re=0;Re<M;Re++){const Ae=R+Fe,tt=P+Re;if(oe.has(`${Ae+1},${tt}`)||oe.has(`${Ae-1},${tt}`)||oe.has(`${Ae},${tt+1}`)||oe.has(`${Ae},${tt-1}`)){xe=!0;break}}if(xe)break}if(!xe){Me("Az pletet csak t mell lehet pteni (Polgrmesteri rendelet)!");return}}for(let xe=0;xe<z;xe++)for(let oe=0;oe<M;oe++)if(Cn(R+xe,P+oe)){Me("Hely foglalt!");return}if(S.money<$e.cost){Me("Nincs elg pnzed!");return}if($e.woodCost&&(S.inventory.wood||0)<$e.woodCost){Me("Nincs elg fd!");return}if($e.brickCost&&(S.inventory.brick||0)<$e.brickCost){Me("Nincs elg tgld!");return}if($e.stoneCost&&(S.inventory.stone||0)<$e.stoneCost){Me("Nincs elg kved!");return}Fs({x:R,y:P}),Kt({x:R,y:P}),mt(!0);const H=`${$e.name}-${Date.now()}`,q=$e.duration,se=Ee+1;me(se),Qr(R,P,()=>{const xe=Ot===90||Ot===270?$e.height:$e.width,oe=Ot===90||Ot===270?$e.width:$e.height;for(let yt=0;yt<xe;yt++)for(let wt=0;wt<oe;wt++)if(Cn(R+yt,P+wt)){Me("Idkzben a hely foglalt lett!");return}const Fe=$e.woodCost||0,Re=$e.brickCost||0,Ae=$e.stoneCost||0;if(S.money<$e.cost||(S.inventory.wood||0)<Fe||(S.inventory.brick||0)<Re||(S.inventory.stone||0)<Ae){Me("Nincs elg erforrsod az ptshez!");return}w(yt=>yt.map(wt=>wt.id===_?{...wt,money:wt.money-$e.cost,inventory:{...wt.inventory,wood:(wt.inventory.wood||0)-Fe,brick:(wt.inventory.brick||0)-Re,stone:(wt.inventory.stone||0)-Ae}}:wt)),ze(_,"expense",`pts: ${$e.name}`,$e.cost);const tt={id:H,name:$e.name,x:R,y:P,width:$e.width,height:$e.height,type:$e.type,category:$e.category,rentalPrice:$e.rentalPrice,salary:$e.salary,capacity:$e.capacity,ownerId:_,residentIds:[],employeeIds:[],isUnderConstruction:!0,buildProgress:0,constructionEta:Date.now()+q,originalDuration:q,rotation:Ot,farmlandTiles:$e.type==="farm"?[]:void 0,level:1,millInventory:$e.type==="mill"?{wheat:0,flour:0,corn:0}:void 0,popcornStandInventory:$e.type==="popcorn_stand"?{corn:0,popcorn:0}:void 0,marketFeeType:$e.name==="Piac"?"percent":void 0,marketFeeValue:$e.name==="Piac"?5:void 0,activeMarketTransactions:$e.name==="Piac"?0:void 0,customGraphics:$e.customGraphics,productionConfig:$e.productionConfig,genericInventory:$e.productionConfig?{}:void 0,houseNumber:se};if(N(yt=>[...yt,tt]),Hn.current){const yt=$e.category==="residential"?"construction-01":"construction-02";Hn.current.playSfx(yt,!0)}Fs(null),mt(I)})},pf=(R,P)=>{$t&&ue?(tr(!0),ao({x:R,y:P}),rr([{x:R,y:P}])):Dr&&(tr(!0),ao({x:R,y:P}),En([{x:R,y:P}]))},Sl=(R,P)=>{if(Go||Kt({x:R,y:P}),qa){if($t&&ue&&nr){const I=Ja(nr,{x:R,y:P});rr(I)}else if(Dr&&nr){const I=Ja(nr,{x:R,y:P});En(I)}}else Dr&&En([{x:R,y:P}])},Dc=(R,P)=>{if(qa){if($t&&ue&&nr){const I=Ja(nr,{x:R,y:P}),z=C.find(H=>H.id===ue);if(!z||z.ownerId!==_){Me("Ez nem a te farmod!"),rr([]),tr(!1);return}if(z.employeeIds.length===0){Me("A farm zrva van! Nincs alkalmazott."),rr([]),tr(!1);return}const M=I.filter(H=>!Cn(H.x,H.y)&&xl(H.x,H.y,ue));if(M.length===0){Me("Nem lehet ide szntfldet tenni, vagy a hely foglalt!"),rr([]),tr(!1);return}const D=M.length*FARMLAND_COST_PER_TILE;if(S.money<D){Me(`Nincs elg pnzed! Szksges: ${D} pnz.`),rr([]),tr(!1);return}w(H=>H.map(q=>q.id===_?{...q,money:q.money-D}:q)),ze(_,"expense",`Szntfld vsrls (${M.length} csempe)`,D);const Q=FARMLAND_BUILD_DURATION_MS;N(H=>H.map(q=>{if(q.id===ue){const se=M.map(xe=>({x:xe.x,y:xe.y,ownerId:_,cropType:Yt.None,cropProgress:0,isUnderConstruction:!0,buildProgress:0,constructionEta:Date.now()+Q,originalDuration:Q}));return{...q,farmlandTiles:[...q.farmlandTiles||[],...se]}}return q})),Hn.current&&Hn.current.playSfx("construction-02",!0),rr([]),B(Ha),tr(!1)}else if(Dr&&nr){const z=Ja(nr,{x:R,y:P}).filter(H=>!Cn(H.x,H.y));if(z.length===0){Me("Nem lehet ide utat pteni, vagy a hely foglalt!"),En([]),tr(!1);return}const M=z.length*ROAD_COST_PER_TILE,D=z.length*ROAD_STONE_COST_PER_TILE;if(S.money<M||(S.inventory.stone||0)<D){Me(`Nincs elg pnz vagy k! Szksges: ${M} pnz s ${D} k.`),En([]),tr(!1);return}w(H=>H.map(q=>q.id===_?{...q,money:q.money-M,inventory:{...q.inventory,stone:(q.inventory.stone||0)-D}}:q)),ze(_,"expense",`tpts (${z.length} csempe)`,M);const Q=z.map(H=>({id:`road-${Date.now()}-${H.x}-${H.y}`,name:"t",x:H.x,y:H.y,width:1,height:1,type:"road",capacity:0,ownerId:_,residentIds:[],employeeIds:[],isUnderConstruction:!1,rotation:0}));N(H=>[...H,...Q]),Xe(`${z.length} t csempe lerakva!`),En([]),vr(Ha),tr(!1)}}else if(Ue&&$e&&Vt)hf(R,P,Ha);else if(Vn){const I=Rn.findIndex(q=>R>=q.x&&R<q.x+3&&P>=q.y&&P<q.y+3);if(I===-1){Me("Nem fra kattintottl. Prbld jra.");return}const z=Rn[I],M=[];for(let q=z.x-1;q<=z.x+3;q++)for(let se=z.y-1;se<=z.y+3;se++)q>=z.x&&q<z.x+3&&se>=z.y&&se<z.y+3||M.push({x:q,y:se});const D=Et[_],H=M.filter(q=>q.x<0||q.x>=G||q.y<0||q.y>=G?!1:!Cn(q.x,q.y,!0)).sort((q,se)=>{const xe=Math.abs(q.x-D.x)+Math.abs(q.y-D.y),oe=Math.abs(se.x-D.x)+Math.abs(se.y-D.y);return xe-oe})[0];if(!H){Me("Nincs szabad hely a fa krl a vgshoz.");return}Qr(H.x,H.y,()=>{if((S.inventory[pe.Axe]||0)<1){Me("Nincs fejszd a kivgshoz!"),qr(!1);return}Mt.current={id:`chop-${Date.now()}-${Math.random()}`,playerId:_,treeIndex:I,treeX:z.x,treeY:z.y,startTime:Date.now(),duration:L0,sourceBuildingId:De||void 0},Ke(null),Oa(!0),hl({x:z.x+1,y:z.y+1,active:!0}),Xe("Fa kivgsa megkezdve..."),qr(!1)})}else if(Ma){const I=Gr.findIndex(q=>R>=q.x&&R<q.x+2&&P>=q.y&&P<q.y+2);if(I===-1){Me("Nem kre kattintottl. Prbld jra.");return}const z=Gr[I],M=[];for(let q=z.x-1;q<=z.x+2;q++)for(let se=z.y-1;se<=z.y+2;se++)q>=z.x&&q<z.x+2&&se>=z.y&&se<z.y+2||M.push({x:q,y:se});const D=Et[_],H=M.filter(q=>q.x<0||q.x>=G||q.y<0||q.y>=G?!1:!Cn(q.x,q.y,!0)).sort((q,se)=>{const xe=Math.abs(q.x-D.x)+Math.abs(q.y-D.y),oe=Math.abs(se.x-D.x)+Math.abs(se.y-D.y);return xe-oe})[0];Qr(H.x,H.y,()=>{if((S.inventory[pe.Pickaxe]||0)<1){Me("Nincs csknyod a bnyszathoz!"),Wo(!1);return}fn.current={id:`mine-${Date.now()}-${Math.random()}`,playerId:_,stoneIndex:I,stoneX:z.x,stoneY:z.y,startTime:Date.now(),duration:5e3,sourceBuildingId:De||void 0},Ke(null),za(!0),Zn({x:z.x,y:z.y,active:!0}),Xe("Kbnyszat megkezdve..."),Wo(!1)})}else An||Qr(R,P,()=>{})},mf=R=>{const P=re.find(I=>I.name===R)||Oi.find(I=>I.name===R);if(P){if(P.category==="business"&&!C.some(z=>z.type==="house"&&z.residentIds.includes(_))){Me("Lakhely nlkl vllalkozst nem pthetsz.");return}if(S.money<P.cost){Me("Nincs elg pnzed!");return}if(P.woodCost&&(S.inventory.wood||0)<P.woodCost){Me("Nincs elg fd!");return}if(P.brickCost&&(S.inventory.brick||0)<P.brickCost){Me("Nincs elg tgld!");return}if(P.stoneCost&&(S.inventory.stone||0)<P.stoneCost){Me("Nincs elg kved!");return}K(!1),Lt(P),mt(!0),Fs(null),Xe(`pts md aktivlva: ${P.name}. Kattints a trkpre a lerakshoz. (Shift: folyamatos)`)}},Lc=R=>{const P=C.find(I=>I.id===R);if(!(!P||!P.salary)){if(S.workplace!=="Munkanlkli"){Me("Elbb fel kell mondanod a jelenlegi munkahelyeden!");return}if(P.employeeIds.length>=P.capacity){Me("Ez a munkahely mr betelt!");return}er(R,()=>{N(I=>I.map(z=>z.id===R?{...z,employeeIds:[...z.employeeIds,_]}:z)),w(I=>I.map(z=>z.id===_?{...z,workplace:P.name,workplaceSalary:P.salary}:z)),Xe(`Sikeresen elhelyezkedtl a(z) ${P.name} munkahelyen!`),ee(!1)})}},gf=R=>{const P=C.find(M=>M.id===R);if(!P||P.type!=="house")return;if(C.some(M=>M.residentIds.includes(S.id))){Me("Mr brelsz egy ingatlant! Elbb ki kell kltznd.");return}if(P.residentIds.length>=P.capacity){Me("Ez a laks mr betelt!");return}const I=P.rentalPrice??0,z=P.ownerId===_;if(!z&&S.money<I){Me("Nincs elg pnzed az els brleti dj kifizetshez!");return}er(R,()=>{z||(w(M=>M.map(D=>D.id===_?{...D,money:D.money-I}:D)),ze(_,"expense",`Els brleti dj: ${P.name}`,I)),N(M=>M.map(D=>D.id===R?{...D,residentIds:[...D.residentIds,_],renterId:z?void 0:_}:D)),Xe(`Sikeresen bekltztl a(z) ${P.name} ingatlanba!`),ee(!1)})},$c=R=>{const P=C.find(I=>I.id===R);!P||!P.employeeIds.includes(_)||(N(I=>I.map(z=>z.id===R?{...z,employeeIds:z.employeeIds.filter(M=>M!==_)}:z)),w(I=>I.map(z=>z.id===_?{...z,workplace:"Munkanlkli",workplaceSalary:0}:z)),Xe(`Felmondtl a(z) ${P.name} munkahelyen.`),T(null))},kl=R=>{const P=C.find(I=>I.id===R);P&&(N(I=>I.map(z=>z.id===R?{...z,residentIds:z.residentIds.filter(M=>M!==_)}:z)),Xe(`Kikltztl a(z) ${P.name} pletbl.`),T(null))},yf=(R,P,I)=>{var D;const z=C.find(Q=>Q.id===R);if(!z||z.employeeIds.length===0){Me("A bolt zrva van! Nincs alkalmazott aki kiszolgljon.");return}const M=(D=Xt[R])==null?void 0:D.find(Q=>Q.type===P);if(!(!M||M.stock<I)){if(_!==z.ownerId&&S.money<M.sellPrice*I){Me("Nincs elg pnzed!");return}er(R,()=>{const Q=_===z.ownerId?0:M.sellPrice*I;w(H=>H.map(q=>q.id===_?{...q,money:Math.max(0,q.money-Q),inventory:{...q.inventory,[P]:(q.inventory[P]||0)+I}}:q.id===z.ownerId&&_!==z.ownerId?{...q,money:q.money+Q}:q)),_!==z.ownerId&&(ze(_,"expense",`Vsrls: ${M.name} (${I} db)`,Q),ze(z.ownerId,"income",`Elads: ${M.name} (${I} db)`,Q)),on(H=>({...H,[R]:H[R].map(q=>q.type===P?{...q,stock:q.stock-I}:q)})),Xe("Vsrls megtrtnt.")})}},vf=R=>{const P=C.find(M=>M.id===R);if(!P)return;const I=P.level||1,z=I===1?1500:4e3;if(S.money<z){Me("Nincs elg pnzed a fejlesztsre!");return}w(M=>M.map(D=>D.id===_?{...D,money:D.money-z}:D)),N(M=>M.map(D=>D.id===R?{...D,level:I+1}:D)),ze(_,"expense",`Bolt fejleszts: ${P.name} (Lvl ${I+1})`,z),Xe(`Bolt sikeresen fejlesztve a ${I+1}. szintre!`)},wf=R=>{var Q;const P=zr?C.find(H=>H.id===zr):null,I=(P==null?void 0:P.level)||1,z=I===1?2:I===2?4:8;if(Ba.filter(H=>H.sellerId===_).length>=z)return Me("Elrted a maximlis egyszerre aktv ajnlatok szmt ezen a piacon."),!1;const D={...R,id:`offer-${Date.now()}-${Math.random()}`,sellerName:S.name,sellerId:_};return R.sellingType!=="money"&&(S.inventory[R.sellingType]||0)<R.sellingQuantity?(Me(`Nincs elg ${((Q=Er(R.sellingType))==null?void 0:Q.name)||R.sellingType} a kszletben!`),!1):(w(H=>H.map(q=>q.id===_?{...q,inventory:{...q.inventory,[R.sellingType]:(q.inventory[R.sellingType]||0)-R.sellingQuantity}}:q)),so(H=>[...H,D]),Xe("Ajnlat sikeresen kirva a piacra!"),!0)},xf=R=>{var M,D;const P=Ba.find(Q=>Q.id===R);if(!P)return;const I=S,z=x.find(Q=>Q.id===P.sellerId);if(!z){Me("Az elad mr nem elrhet."),so(Q=>Q.filter(H=>H.id!==R));return}if(P.buyingType==="money"){const Q=zr?C.find(oe=>oe.id===zr):null,H=P.commissionType||(Q==null?void 0:Q.marketFeeType),q=P.commissionValue??(Q==null?void 0:Q.marketFeeValue)??0;let se=0;H==="percent"?se=Math.floor(P.buyingQuantity*q/100):H==="fixed"&&(se=Math.floor(q));const xe=P.buyingQuantity+se;if(I.money<xe){Me("Nincs elg pnzed a cserhez!");return}}else if((I.inventory[P.buyingType]||0)<P.buyingQuantity){Me(`Nincs elg ${((M=Er(P.buyingType))==null?void 0:M.name)||P.buyingType} a cserhez!`);return}w(Q=>Q.map(H=>{if(H.id===I.id){const q={...H.inventory};if(P.buyingType==="money"){const se=zr?C.find(Ae=>Ae.id===zr):null,xe=P.commissionType||(se==null?void 0:se.marketFeeType),oe=P.commissionValue??(se==null?void 0:se.marketFeeValue)??0;let Fe=0;xe==="percent"?Fe=Math.floor(P.buyingQuantity*oe/100):xe==="fixed"&&(Fe=Math.floor(oe));const Re=P.buyingQuantity+Fe;H.money-=Re,ze(H.id,"expense",`Vsrls a piactren: ${P.sellingQuantity} ${P.sellingType}`,Re)}else q[P.buyingType]=(q[P.buyingType]||0)-P.buyingQuantity;return q[P.sellingType]=(q[P.sellingType]||0)+P.sellingQuantity,{...H,inventory:q}}if(H.id===z.id){const q={...H.inventory};if(P.buyingType==="money"){const se=zr?C.find(Ae=>Ae.id===zr):null,xe=P.commissionType||(se==null?void 0:se.marketFeeType),oe=P.commissionValue??(se==null?void 0:se.marketFeeValue)??0;let Fe=0;xe==="percent"?Fe=Math.floor(P.buyingQuantity*oe/100):xe==="fixed"&&(Fe=Math.floor(oe));const Re=P.buyingQuantity;if(H.money+=Re,ze(H.id,"income",`Elads a piactren: ${P.sellingQuantity} ${P.sellingType}`,Re),se!=null&&se.ownerId&&Fe>0){const Ae=se.ownerId,tt=Q.find(yt=>yt.id===Ae);tt&&(tt.money+=Fe,ze(Ae,"income","Piaci rszeseds",Fe))}}else q[P.buyingType]=(q[P.buyingType]||0)+P.buyingQuantity;return{...H,inventory:q}}return H})),so(Q=>Q.filter(H=>H.id!==R)),Xe(`Sikeres csere! Megkaptad: ${P.sellingQuantity} ${((D=Er(P.sellingType))==null?void 0:D.name)||P.sellingType}.`)},_l=R=>{const P=Ba.find(I=>I.id===R);!P||P.sellerId!==_||(w(I=>I.map(z=>z.id===_?{...z,inventory:{...z.inventory,[P.sellingType]:(z.inventory[P.sellingType]||0)+P.sellingQuantity}}:z)),so(I=>I.filter(z=>z.id!==R)),Xe("Ajnlat visszavonva, termk visszakerlt a kszletbe."))},bf=()=>{const P=(x.findIndex(I=>I.id===_)+1)%x.length;k(x[P].id)},Sf=()=>{const P=(x.findIndex(I=>I.id===_)-1+x.length)%x.length;k(x[P].id)},kf=R=>{const P=C.find(I=>I.id===R);!P||P.name!=="Polgrmesteri Hivatal"||P.ownerId!==_||(T(null),vr(!0),Xe("tptsi md aktivlva. Hzd az egeret az t lerakshoz. (Shift: folyamatos)"))},Fc=(R,P,I,z)=>{var Q,H;const M=C.find(q=>q.id===R);if(!M||M.employeeIds.length===0){Me("A farmon nincs alkalmazott a vetshez!");return}let D;if(z===Yt.Wheat)D=pe.WheatSeed;else if(z===Yt.Corn)D=pe.CornSeed;else return;if((S.inventory[D]||0)<1){Me(`Nincs ${((Q=Er(D))==null?void 0:Q.name)||D} vetmagod! Vsrolj a boltban.`);return}w(q=>q.map(se=>se.id===_?{...se,inventory:{...se.inventory,[D]:(se.inventory[D]||0)-1}}:se)),N(q=>q.map(se=>{var xe;return se.id===R?{...se,farmlandTiles:(xe=se.farmlandTiles)==null?void 0:xe.map(oe=>oe.x===P&&oe.y===I?{...oe,cropType:z,cropProgress:0}:oe)}:se})),Xe(`${((H=Er(D))==null?void 0:H.name)||D} elvetve!`)},_f=(R,P,I)=>{var H,q;const z=C.find(se=>se.id===R);if(!z||z.employeeIds.length===0){Me("Nincs alkalmazott az aratshoz!");return}const M=(H=z.farmlandTiles)==null?void 0:H.find(se=>se.x===P&&se.y===I);if(!M||M.cropProgress<100)return;let D,Q;if(M.cropType===Yt.Wheat)D=pe.Wheat,Q=SI;else if(M.cropType===Yt.Corn)D=pe.Corn,Q=10;else return;N(se=>se.map(xe=>{var oe;return xe.id===R?{...xe,farmlandTiles:(oe=xe.farmlandTiles)==null?void 0:oe.map(Fe=>Fe.x===P&&Fe.y===I?{...Fe,cropType:Yt.None,cropProgress:0}:Fe)}:xe})),w(se=>se.map(xe=>xe.id===_?{...xe,inventory:{...xe.inventory,[D]:(xe.inventory[D]||0)+Q}}:xe)),Xe(`Betakartva ${Q} ${((q=Er(D))==null?void 0:q.name)||D}!`)},[Cf,gg]=p.useState(()=>localStorage.getItem("playerSwitchEnabled")!=="false"),[Uc]=p.useState(()=>{const R=localStorage.getItem("avatarSize");return R?parseInt(R,10):100}),Ef=l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-sidebar-primary-foreground",children:"Tile-o-polis"}),l.jsx(yI,{playerName:S.name,onPlayerNameChange:R=>w(P=>P.map(I=>I.id===_?{...I,name:R}:I)),filterZeroTransactions:ye,onFilterZeroTransactionsChange:We})]}),l.jsxs("div",{className:"px-1 mb-2 text-xs text-muted-foreground",children:["FPS: ",Ie," ",tn?`| Mem: ${tn} MB`:""]}),Cf&&l.jsxs("div",{className:"mb-4 space-y-2",children:[l.jsx(ht,{className:"text-xs text-sidebar-foreground",children:"Jtkos vltsa (Teszt md):"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"outline",size:"icon",onClick:Sf,className:"h-8 w-8 shrink-0",children:l.jsx(GC,{className:"h-4 w-4"})}),l.jsxs(Ps,{onValueChange:k,value:_,children:[l.jsx(us,{className:"flex-1 bg-sidebar-accent border-sidebar-border h-8",children:l.jsx(Rs,{placeholder:"Vlassz jtkost"})}),l.jsx(ds,{children:x.map(R=>l.jsx(_n,{value:R.id,children:R.name},R.id))})]}),l.jsx(_e,{variant:"outline",size:"icon",onClick:bf,className:"h-8 w-8 shrink-0",children:l.jsx(QC,{className:"h-4 w-4"})})]})]}),l.jsx(aP,{playerName:S.name,money:S.money,inventory:S.inventory,workplace:S.workplace,workplaceSalary:S.workplaceSalary,ownedBusinesses:C.filter(R=>R.ownerId===_&&R.type!=="house"&&R.type!=="road"),playerSettingsButton:null,nextTickProgress:Jo,timeRemaining:ff,isMayor:((Bc=C.find(R=>R.name==="Polgrmesteri Hivatal"))==null?void 0:Bc.ownerId)===_,buildings:C}),l.jsxs("div",{className:"mt-4 space-y-2",children:[An?l.jsxs("div",{className:"space-y-2",children:[l.jsxs(_e,{onClick:()=>{mt(!1),B(!1),vr(!1),Kt(null),tr(!1),rr([]),En([])},className:"w-full bg-red-600 flex items-center justify-center",children:[l.jsx(jm,{className:"mr-2 h-4 w-4"})," Mgsem"]}),l.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[Ue&&"Shift: Folyamatos pts",$t&&"Shift: Folyamatos sznts",Dr&&"Shift: Folyamatos tpts"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(_e,{onClick:()=>K(!0),className:"w-full bg-blue-600 font-bold",children:"pts"}),l.jsxs(_e,{onClick:()=>ee(!0),className:"w-full bg-indigo-600 font-bold flex items-center justify-center",children:[l.jsx(Ea,{className:"h-4 w-4 mr-2"})," lls/Laks Keres"]})]}),l.jsx(_e,{onClick:()=>fe(!0),className:"w-full bg-yellow-600 font-bold",children:"Pnzgyek"}),l.jsx(_e,{onClick:()=>e("/"),className:"w-full bg-gray-600",children:"Fmen"}),l.jsx(_e,{onClick:()=>{confirm("Biztosan trlni akarod a jtkllst s jrakezdeni? Minden elveszik!")&&(localStorage.clear(),window.location.reload())},className:"w-full bg-red-800 font-bold mt-4",children:" Plya Trlse (Reset)"})]}),l.jsx(RI,{isOpen:Aa,onClose:()=>ct(!1),bankId:(ft==null?void 0:ft.id)||"",ownerId:ft==null?void 0:ft.ownerId,isOwner:(ft==null?void 0:ft.ownerId)===_,currentPlayerId:_,currentPlayerMoney:S.money,activeLoans:Jn.filter(R=>R.borrowerId===_),onTakeLoan:bl,onRepayLoan:Zo,onUpdateConfig:Xa,bankConfig:ft?Yn[ft.id]:void 0}),l.jsx(JA,{ref:Hn,sfxUrls:tI}),l.jsx(ZI,{tracks:QO,initialDelay:2e3})]});return l.jsxs(XO,{children:[be&&l.jsx(YO,{status:be,onClose:()=>{X(null),e("/")}}),l.jsx($T,{sidebarContent:Ef,mainContent:l.jsxs("div",{ref:gs,className:"block w-full h-full relative overflow-hidden bg-black",children:[l.jsx(vP,{avatarSize:Uc,buildings:C,gridSize:G,cellSizePx:kr,onBuildingClick:zc,isPlacingBuilding:Ue,buildingToPlace:$e,ghostBuildingCoords:Vt,onGridMouseMove:Sl,onMapClick:Dc,onMapMouseDown:pf,onMapMouseUp:Dc,currentPlayerId:_,currentBuildingRotation:Ot,isPlacingFarmland:$t,selectedFarmId:ue,onFarmlandClick:(R,P,I)=>{var D;const z=C.find(Q=>Q.id===R),M=(D=z==null?void 0:z.farmlandTiles)==null?void 0:D.find(Q=>Q.x===P&&Q.y===I);M&&M.ownerId===_&&!M.isUnderConstruction&&lt({isOpen:!0,farmId:R,tileX:P,tileY:I,cropType:M.cropType,cropProgress:M.cropProgress||0})},ghostFarmlandTiles:io,isPlacingRoad:Dr,ghostRoadTiles:ys,isDemolishingRoad:!1,mapOffsetX:Nt,mapOffsetY:ml,isPlacementMode:An,isDragging:qa,trees:Rn,stumps:ms,isSelectingTree:Vn,isTreeChoppingMode:!!Mt.current,activeChopTree:Mt.current?{x:Mt.current.treeX,y:Mt.current.treeY}:null,treeChopProgress:Rc,isSelectingStone:Ma,isStoneMiningMode:!!fn.current,activeMineStone:fn.current?{x:fn.current.stoneX,y:fn.current.stoneY}:null,stoneMineProgress:Ht,pickaxeAnimation:La,stones:Gr,avatarSize:Uc,axeAnimation:af,playerAvatars:x.map(R=>{var P,I,z,M,D,Q;return{id:R.id,name:R.name,x:((P=Et[R.id])==null?void 0:P.x)||0,y:((I=Et[R.id])==null?void 0:I.y)||0,renderX:(z=Et[R.id])==null?void 0:z.renderX,renderY:(M=Et[R.id])==null?void 0:M.renderY,dir:((D=Et[R.id])==null?void 0:D.dir)||"down",frame:((Q=Et[R.id])==null?void 0:Q.frame)||0,carryingStone:R.carryingStone,carryingWood:R.carryingWood}}),shopInventories:Xt,bankConfigs:Yn,exploredTiles:$}),(Vn||Ma||Ue)&&l.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-xl z-50 flex gap-4 items-center border border-gray-200 dark:border-gray-700",children:[l.jsx("span",{className:"font-semibold",children:Ue?"Kattints a trkpre az plet lerakshoz.":Vn?"Vlassz ki egy ft a kivgshoz!":"Vlassz ki egy kvet a bnyszshoz!"}),l.jsx(_e,{variant:"destructive",size:"sm",onClick:()=>{qr(!1),Wo(!1),mt(!1),Lt(null)},children:"Mgsem"})]}),Mt.current&&l.jsxs("div",{className:"absolute bottom-4 left-4 bg-muted/70 dark:bg-black/50 backdrop-blur-sm border rounded p-3 w-64",children:[l.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Fa kivgsa..."})]}),l.jsx(Is,{value:Rc,className:"h-2 mt-2"})]}),fn.current&&l.jsxs("div",{className:"absolute bottom-4 left-4 bg-muted/70 dark:bg-black/50 backdrop-blur-sm border rounded p-3 w-64",children:[l.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"K bnyszata..."})]}),l.jsx(Is,{value:Ht,className:"h-2 mt-2"})]}),l.jsx(qI,{selectedBuilding:j,setSelectedBuilding:T,players:x,setPlayers:w,buildings:C,setBuildings:N,currentPlayerId:_,addTransaction:ze,customProcesses:gl,setCustomProcesses:Ka,millProcesses:Ic,setMillProcesses:Oc,popcornProcesses:oo,setPopcornProcesses:uf,executeAtBuilding:er,setIsShopMenuOpen:gt,setSelectedShopBuilding:At,setIsPlacingFarmland:B,setSelectedFarmId:je,setIsSelectingTree:qr,onStartChopping:R=>{Ke(R),qr(!0),T(null),Xe("Vlassz ki egy ft a trkpen kivgshoz!")},onStartMining:R=>{Ke(R),Wo(!0),T(null),Xe("Vlassz ki egy kvet a trkpen bnyszshoz!")},handleStartRoadPlacement:kf,setIsMarketplaceOpen:Ua,handleDemolishBuilding:Da,handleResignFromJob:$c,handleMoveOut:kl,handleApplyForJob:Lc}),et&&l.jsx(NI,{isOpen:Fn,onClose:()=>gt(!1),shopOwnerId:et.ownerId||"",currentPlayerId:_,currentPlayerMoney:S.money,shopItems:Xt[et.id]||[],shopLevel:et.level||1,onAddItem:R=>er(et.id,()=>{on(P=>({...P,[et.id]:[...P[et.id]||[],{...R,stock:0,orderedStock:0,isDelivering:!1}]})),Xe("Termk felvve a bolt knlatba.")}),onOrderStock:(R,P)=>{var z;const I=(z=Xt[et.id])==null?void 0:z.find(M=>M.type===R);if(I){if(S.money<I.wholesalePrice*P){Me("Nincs elg pnz a rendelshez.");return}er(et.id,()=>{w(M=>M.map(D=>D.id===_?{...D,money:D.money-I.wholesalePrice*P}:D)),on(M=>({...M,[et.id]:M[et.id].map(D=>D.type===R?{...D,orderedStock:D.orderedStock+P,isDelivering:!0,deliveryEta:Date.now()+D.deliveryTimeMs}:D)})),ze(_,"expense",`Bolt rendels: ${I.name} (${P} db)`,I.wholesalePrice*P),Xe("Rendels leadva.")})}},onUpdatePrice:(R,P)=>er(et.id,()=>{on(I=>({...I,[et.id]:I[et.id].map(z=>z.type===R?{...z,sellPrice:P}:z)})),Xe("r frisstve.")}),onBuyProduct:(R,P)=>yf(et.id,R,P),onUpgrade:()=>er(et.id,()=>vf(et.id))}),Qe&&l.jsx(EI,{...Qe,onClose:()=>lt(null),playerMoney:S.money,playerInventory:S.inventory,onPlant:Fc,onHarvest:_f}),Fa&&l.jsx(PI,{isOpen:Fa,onClose:()=>Ua(!1),currentPlayer:S,allPlayers:x,marketOffers:Ba,onAddOffer:wf,onAcceptOffer:xf,onCancelOffer:_l}),l.jsx(IA,{isOpen:U,onClose:()=>K(!1),onSelectBuilding:mf,availableBuildings:[...Oi,...re].filter(R=>R.name!=="Polgrmesteri Hivatal"||!C.some(P=>P.name==="Polgrmesteri Hivatal")),playerMoney:S.money,playerWood:S.inventory.wood,playerBrick:S.inventory.brick,playerStone:S.inventory.stone,isBuildingInProgress:An}),l.jsx(WI,{isOpen:de,onClose:()=>fe(!1),transactions:W,currentPlayerId:_}),l.jsx(KI,{isOpen:ne,onClose:()=>ee(!1),buildings:C,currentPlayer:S,onApplyForJob:Lc,onRentHouse:gf,onResignFromJob:$c,onMoveOut:kl}),l.jsx("div",{className:"absolute top-4 right-4 z-50 flex gap-2",children:l.jsx(_e,{variant:"secondary",size:"icon",onClick:i,className:"bg-black/50 hover:bg-black/70 text-white border border-white/20",title:t?"Kilps a teljes kpernybl":"Teljes kperny",children:t?l.jsx(Zw,{className:"h-5 w-5"}):l.jsx(Jw,{className:"h-5 w-5"})})}),l.jsx(Or,{open:s,onOpenChange:a,children:l.jsxs(hr,{className:"sm:max-w-[425px]",children:[l.jsxs(pr,{children:[l.jsx(mr,{children:"Teljes kperny"}),l.jsx(Mr,{children:"Szeretnl tvltani teljes kpernys mdra a jobb jtklmnyrt?"})]}),l.jsxs(Wr,{children:[l.jsx(_e,{variant:"outline",onClick:()=>a(!1),children:"Nem, ksz"}),l.jsx(_e,{onClick:i,children:"Igen, legyen!"})]})]})}),l.jsx(GI,{buildings:C,trees:Rn,stones:Gr,players:x.map(R=>{var P,I;return{id:R.id,x:((P=Et[R.id])==null?void 0:P.x)||0,y:((I=Et[R.id])==null?void 0:I.y)||0,color:R.id===_?"blue":"red"}}),currentPlayerId:_,mapGridSize:G,cameraOffset:{x:Nt,y:ml},viewportSize:{width:((Vc=gs.current)==null?void 0:Vc.clientWidth)||window.innerWidth,height:((Za=gs.current)==null?void 0:Za.clientHeight)||window.innerHeight},cellSizePx:kr,exploredTiles:$,onJumpTo:(R,P)=>{var Fe,Re;const I=((Fe=gs.current)==null?void 0:Fe.clientWidth)||window.innerWidth,z=((Re=gs.current)==null?void 0:Re.clientHeight)||window.innerHeight,M=R*kr,D=P*kr;let Q=-(M-I/2),H=-(D-z/2);const q=G*kr,se=G*kr,xe=Math.min(0,-(q-I)),oe=Math.min(0,-(se-z));Q=Math.max(xe,Math.min(0,Q)),H=Math.max(oe,Math.min(0,H)),pl(Q),Va(H),Pt.current={x:0,y:0}}})]})})]})},ZO=()=>{const e=ol();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},e4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class cg extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class t4 extends cg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class B0 extends cg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class V0 extends cg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sm||(sm={}));class n4{constructor(t,{headers:n={},customFetch:s,region:a=sm.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=e4(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return EP(this,arguments,void 0,function*(n,s={}){var a;let i,u;try{const{headers:d,method:h,body:m,signal:y,timeout:v}=s;let x={},{region:w}=s;w||(w=this.region);const _=new URL(`${this.url}/${n}`);w&&w!=="any"&&(x["x-region"]=w,_.searchParams.set("forceFunctionRegion",w));let k;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",k=m):typeof m=="string"?(x["Content-Type"]="text/plain",k=m):typeof FormData<"u"&&m instanceof FormData?k=m:(x["Content-Type"]="application/json",k=JSON.stringify(m)):k=m;let S=y;v&&(u=new AbortController,i=setTimeout(()=>u.abort(),v),y?(S=u.signal,y.addEventListener("abort",()=>u.abort())):S=u.signal);const C=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),d),body:k,signal:S}).catch(O=>{throw new t4(O)}),N=C.headers.get("x-relay-error");if(N&&N==="true")throw new B0(C);if(!C.ok)throw new V0(C);let j=((a=C.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield C.json():j==="application/octet-stream"||j==="application/pdf"?T=yield C.blob():j==="text/event-stream"?T=C:j==="multipart/form-data"?T=yield C.formData():T=yield C.text(),{data:T,error:null,response:C}}catch(d){return{data:null,error:d,response:d instanceof V0||d instanceof B0?d.context:void 0}}finally{i&&clearTimeout(i)}})}}var r4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},s4=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let u=null,d=null,h=null,m=i.status,y=i.statusText;if(i.ok){var v,x;if(n.method!=="HEAD"){var w;const C=await i.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const k=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),S=(x=i.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&S&&S.length>1&&(h=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var _;const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,y="OK")}catch{i.status===404&&k===""?(m=204,y="No Content"):u={message:k}}if(u&&n.isMaybeSingle&&(!(u==null||(_=u.details)===null||_===void 0)&&_.includes("0 rows"))&&(u=null,m=200,y="OK"),u&&n.shouldThrowOnError)throw new r4(u)}return{error:u,data:d,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(i=>{var u;let d="";const h=i==null?void 0:i.cause;if(h){var m,y,v,x;const _=(m=h==null?void 0:h.message)!==null&&m!==void 0?m:"",k=(y=h==null?void 0:h.code)!==null&&y!==void 0?y:"";d=`${(v=i==null?void 0:i.name)!==null&&v!==void 0?v:"FetchError"}: ${i==null?void 0:i.message}`,d+=`

Caused by: ${(x=h==null?void 0:h.name)!==null&&x!==void 0?x:"Error"}: ${_}`,k&&(d+=` (${k})`),h!=null&&h.stack&&(d+=`
${h.stack}`)}else{var w;d=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(u=i==null?void 0:i.name)!==null&&u!==void 0?u:"FetchError"}: ${i==null?void 0:i.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},o4=class extends s4{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",u=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var u;const d=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${h}"; options=${d};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const H0=new RegExp("[,()]");var Pi=class extends o4{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&H0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&H0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},a4=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=s}select(e,t){const{head:n=!1,count:s}=t??{},a=n?"HEAD":"GET";let i=!1;const u=(e??"*").split("").map(d=>/\s/.test(d)&&!i?"":(d==='"'&&(i=!i),d)).join("");return this.url.searchParams.set("select",u),s&&this.headers.append("Prefer",`count=${s}`),new Pi({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var s;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(i.length>0){const u=[...new Set(i)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Pi({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var i;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new Pi({method:u,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const s="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Pi({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Pi({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},i4=class QS{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new a4(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new QS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:i}={}){var u;let d;const h=new URL(`${this.url}/rpc/${t}`);let m;s||a?(d=s?"HEAD":"GET",Object.entries(n).filter(([v,x])=>x!==void 0).map(([v,x])=>[v,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([v,x])=>{h.searchParams.append(v,x)})):(d="POST",m=n);const y=new Headers(this.headers);return i&&y.set("Prefer",`count=${i}`),new Pi({method:d,url:h,headers:y,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class l4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const c4="2.89.0",u4=`realtime-js/${c4}`,YS="1.0.0",d4="2.0.0",W0=YS,om=1e4,f4=1e3,h4=100;var To;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(To||(To={}));var mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(mn||(mn={}));var cs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(cs||(cs={}));var am;(function(e){e.websocket="websocket"})(am||(am={}));var ya;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ya||(ya={}));class p4{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,s;const a=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var n,s;const a=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,s){var a,i;const u=t.topic,d=(a=t.ref)!==null&&a!==void 0?a:"",h=(i=t.join_ref)!==null&&i!==void 0?i:"",m=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+m.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let _=new DataView(w),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,h.length),_.setUint8(k++,d.length),_.setUint8(k++,u.length),_.setUint8(k++,m.length),_.setUint8(k++,v.length),_.setUint8(k++,n),Array.from(h,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(d,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(u,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(m,C=>_.setUint8(k++,C.charCodeAt(0))),Array.from(v,C=>_.setUint8(k++,C.charCodeAt(0)));var S=new Uint8Array(w.byteLength+s.byteLength);return S.set(new Uint8Array(w),0),S.set(new Uint8Array(s),w.byteLength),S.buffer}decode(t,n){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return n(s)}if(typeof t=="string"){const s=JSON.parse(t),[a,i,u,d,h]=s;return n({join_ref:a,ref:i,topic:u,event:d,payload:h})}return n({})}_binaryDecode(t){const n=new DataView(t),s=n.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,a)}}_decodeUserBroadcast(t,n,s){const a=n.getUint8(1),i=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let h=this.HEADER_LENGTH+4;const m=s.decode(t.slice(h,h+a));h=h+a;const y=s.decode(t.slice(h,h+i));h=h+i;const v=s.decode(t.slice(h,h+u));h=h+u;const x=t.slice(h,t.byteLength),w=d===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,_={type:this.BROADCAST_EVENT,event:y,payload:w};return u>0&&(_.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>n.includes(s)))}}class XS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dt||(Dt={}));const K0=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,u)=>(i[u]=m4(u,e,t,a),i),{}):{}},m4=(e,t,n,s)=>{const a=t.find(d=>d.name===e),i=a==null?void 0:a.type,u=n[e];return i&&!s.includes(i)?JS(i,u):im(u)},JS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return w4(t,n)}switch(e){case Dt.bool:return g4(t);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return y4(t);case Dt.json:case Dt.jsonb:return v4(t);case Dt.timestamp:return x4(t);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return im(t);default:return im(t)}},im=e=>e,g4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},y4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},v4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},w4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const u=e.slice(1,n);try{i=JSON.parse("["+u+"]")}catch{i=u?u.split(","):[]}return i.map(d=>JS(t,d))}return e},x4=e=>typeof e=="string"?e.replace(" ","T"):e,ZS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class vp{constructor(t,n,s={},a=om){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var q0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(q0||(q0={}));class tc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tc.syncState(this.state,a,i,u),this.pendingDiffs.forEach(h=>{this.state=tc.syncDiff(this.state,h,i,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=tc.syncDiff(this.state,a,i,u),d())}),this.onJoin((a,i,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:u})}),this.onLeave((a,i,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const i=this.cloneDeep(t),u=this.transformState(n),d={},h={};return this.map(i,(m,y)=>{u[m]||(h[m]=y)}),this.map(u,(m,y)=>{const v=i[m];if(v){const x=y.map(S=>S.presence_ref),w=v.map(S=>S.presence_ref),_=y.filter(S=>w.indexOf(S.presence_ref)<0),k=v.filter(S=>x.indexOf(S.presence_ref)<0);_.length>0&&(d[m]=_),k.length>0&&(h[m]=k)}else d[m]=y}),this.syncDiff(i,{joins:d,leaves:h},s,a)}static syncDiff(t,n,s,a){const{joins:i,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(d,h)=>{var m;const y=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),y.length>0){const v=t[d].map(w=>w.presence_ref),x=y.filter(w=>v.indexOf(w.presence_ref)<0);t[d].unshift(...x)}s(d,y,h)}),this.map(u,(d,h)=>{let m=t[d];if(!m)return;const y=h.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),t[d]=m,a(d,m,h),m.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(G0||(G0={}));var nc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nc||(nc={}));var Js;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Js||(Js={}));class Mi{constructor(t,n={config:{}},s){var a,i;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vp(this,cs.join,this.params,this.timeout),this.rejoinTimer=new XS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cs.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new tc(this),this.broadcastEndpointURL=ZS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==mn.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[nc.PRESENCE]&&this.bindings[nc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,v={},x={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:y}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(Js.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(Js.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t==null||t(Js.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,S=(_=k==null?void 0:k.length)!==null&&_!==void 0?_:0,C=[];for(let N=0;N<S;N++){const j=k[N],{filter:{event:T,schema:O,table:L,filter:U}}=j,K=w&&w[N];if(K&&K.event===T&&Mi.isFilterValueEqual(K.schema,O)&&Mi.isFilterValueEqual(K.table,L)&&Mi.isFilterValueEqual(K.filter,U))C.push(Object.assign(Object.assign({},j),{id:K.id}));else{this.unsubscribe(),this.state=mn.errored,t==null||t(Js.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Js.SUBSCRIBED);return}}).receive("error",w=>{this.state=mn.errored,t==null||t(Js.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Js.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===mn.joined&&t===nc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:u}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var u,d,h;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cs.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new vp(this,cs.leave,{},t),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),u}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new vp(this,t,n,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>h4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,i;const u=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:y}=cs;if(s&&[d,h,m,y].indexOf(u)>=0&&s!==this._joinRef())return;let x=this._onMessage(u,n,s);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var _,k,S;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(k=w.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===u}).map(w=>w.callback(x,s)):(i=this.bindings[u])===null||i===void 0||i.filter(w=>{var _,k,S,C,N,j;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const T=w.id,O=(_=w.filter)===null||_===void 0?void 0:_.event;return T&&((k=n.ids)===null||k===void 0?void 0:k.includes(T))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const T=(N=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return T==="*"||T===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof x=="object"&&"ids"in x){const _=x.data,{schema:k,table:S,commit_timestamp:C,type:N,errors:j}=_;x=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:C,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(_))}w.callback(x,s)})}_isClosed(){return this.state===mn.closed}_isJoined(){return this.state===mn.joined}_isJoining(){return this.state===mn.joining}_isLeaving(){return this.state===mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Mi.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cs.close,{},t)}_onError(t){this._on(cs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=K0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=K0(t.columns,t.old_record)),n}}const wp=()=>{},Ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},b4=[1e3,2e3,5e3,1e4],S4=1e4,k4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _4{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=om,this.transport=null,this.heartbeatIntervalMs=Ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wp,this.ref=0,this.reconnectTimer=null,this.vsn=W0,this.logger=wp,this.conn=null,this.sendBuffer=[],this.serializer=new p4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${am.websocket}`,this.httpEndpoint=ZS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return ya.Connecting;case To.open:return ya.Open;case To.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Mi(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:s,payload:a,ref:i}=t,u=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${s} (${i})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(f4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:u}=n,d=u?`(${u})`:"",h=i.status||"";this.log("receive",`${h} ${s} ${a} ${d}`.trim(),i),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(a,i,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===To.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===To.open||this.conn.readyState===To.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(cs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([k4],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,s=!1;if(t)n=t,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:u4};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(cs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new XS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,a,i,u,d,h,m,y,v,x,w;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:om,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Ku.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=t==null?void 0:t.heartbeatCallback)!==null&&d!==void 0?d:wp,this.vsn=(h=t==null?void 0:t.vsn)!==null&&h!==void 0?h:W0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(_=>b4[_-1]||S4),this.vsn){case YS:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:((_,k)=>k(JSON.stringify(_))),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:((_,k)=>k(JSON.parse(_)));break;case d4:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var fc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function C4(e,t,n){const s=new URL(t,e);if(n)for(const[a,i]of Object.entries(n))i!==void 0&&s.searchParams.set(a,i);return s.toString()}async function E4(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function j4(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:a,body:i,headers:u}){const d=C4(e.baseUrl,s,a),h=await E4(e.auth),m=await t(d,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...h,...u},body:i?JSON.stringify(i):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),x=v&&y?JSON.parse(y):y;if(!m.ok){const w=v?x:void 0,_=w==null?void 0:w.error;throw new fc((_==null?void 0:_.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:w})}return{status:m.status,headers:m.headers,data:x}}}}function qu(e){return e.join("")}var N4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:qu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qu(e.namespace)}`}),!0}catch(t){if(t instanceof fc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof fc&&n.status===409)return;throw n}}};function ki(e){return e.join("")}var T4=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ki(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof fc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof fc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},P4=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=j4({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new N4(this.client,t),this.tableOps=new T4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Zd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var R4=class extends Zd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lm=class extends Zd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ug=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),A4=()=>Response,cm=e=>{if(Array.isArray(e))return e.map(n=>cm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=cm(s)}),t},I4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},O4=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function M4(e,t){if(hc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(hc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z4(e){var t=M4(e,"string");return hc(t)=="symbol"?t:t+""}function D4(e,t,n){return(t=z4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(n),!0).forEach(function(s){D4(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q0(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const xp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},L4=async(e,t,n)=>{e instanceof await A4()&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new R4(xp(s),a,i))}).catch(s=>{t(new lm(xp(s),s))}):t(new lm(xp(e),e))},$4=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(I4(s)?(a.headers=it({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),it(it({},a),n))};async function Tc(e,t,n,s,a,i){return new Promise((u,d)=>{e(n,$4(t,s,a,i)).then(h=>{if(!h.ok)throw h;return s!=null&&s.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>L4(h,d,s))})}async function pc(e,t,n,s){return Tc(e,"GET",t,n,s)}async function as(e,t,n,s,a){return Tc(e,"POST",t,s,a,n)}async function um(e,t,n,s,a){return Tc(e,"PUT",t,s,a,n)}async function F4(e,t,n,s){return Tc(e,"HEAD",t,it(it({},n),{},{noResolveJson:!0}),s)}async function dg(e,t,n,s,a){return Tc(e,"DELETE",t,s,a,n)}var U4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}};let ek;ek=Symbol.toStringTag;var B4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ek]="BlobDownloadBuilder",this.promise=null}asStream(){return new U4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}};const V4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var H4=class{constructor(e,t={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=ug(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,s){var a=this;try{let i;const u=it(it({},Y0),s);let d=it(it({},a.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",u.cacheControl),h&&i.append("metadata",a.encodeMetadata(h)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",u.cacheControl),h&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(h))):(i=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!u.duplex&&(u.duplex="half")),s!=null&&s.headers&&(d=it(it({},d),s.headers));const m=a._removeEmptyFolders(t),y=a._getFinalPath(m),v=await(e=="PUT"?um:as)(a.fetch,`${a.url}/object/${y}`,i,it({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,s){var a=this;const i=a._removeEmptyFolders(e),u=a._getFinalPath(i),d=new URL(a.url+`/object/upload/sign/${u}`);d.searchParams.set("token",t);try{let h;const m=it({upsert:Y0.upsert},s),y=it(it({},a.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{data:{path:i,fullPath:(await um(a.fetch,d.toString(),h,{headers:y})).Key},error:null}}catch(h){if(a.shouldThrowOnError)throw h;if(Qt(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var n=this;try{let s=n._getFinalPath(e);const a=it({},n.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await as(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:a}),u=new URL(n.url+i.url),d=u.searchParams.get("token");if(!d)throw new Zd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var s=this;try{return{data:await as(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}async copy(e,t,n){var s=this;try{return{data:{path:(await as(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,n){var s=this;try{let a=s._getFinalPath(e),i=await as(s.fetch,`${s.url}/object/sign/${a}`,it({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${u}`)},{data:i,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,n){var s=this;try{const a=await as(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(u=>it(it({},u),{},{signedUrl:u.signedURL?encodeURI(`${s.url}${u.signedURL}${i}`):null})),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"",i=this._getFinalPath(e),u=()=>pc(this.fetch,`${this.url}/${n}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new B4(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:cm(await pc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await F4(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Qt(s)&&s instanceof lm){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${d}`)}}}async remove(e){var t=this;try{return{data:await dg(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async list(e,t,n){var s=this;try{const a=it(it(it({},V4),t),{},{prefix:e||""});return{data:await as(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},n),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}async listV2(e,t){var n=this;try{const s=it({},e);return{data:await as(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},t),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const tk="2.89.0",nk={"X-Client-Info":`storage-js/${tk}`};var W4=class{constructor(e,t={},n,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=it(it({},nk),t),this.fetch=ug(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await pc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await pc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await as(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var n=this;try{return{data:await um(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Qt(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await as(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await dg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},K4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=it(it({},nk),t),this.fetch=ug(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await as(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const s=n.toString(),a=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await pc(t.fetch,a,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await dg(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!O4(e))throw new Zd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new P4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(a,i){const u=a[i];return typeof u!="function"?u:async(...d)=>{try{return{data:await u.apply(a,d),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}};const fg={"X-Client-Info":`storage-js/${tk}`,"Content-Type":"application/json"};var rk=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var bp=class extends rk{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},q4=class extends rk{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const hg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},X0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q4=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const u=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new bp(X0(i),s,u))}).catch(()=>{const i=s+"";t(new bp(a.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";t(new bp(a.statusText||`HTTP ${s} error`,s,i))}}else t(new q4(X0(e),e))},Y4=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return s?(G4(s)?(a.headers=it({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,it(it({},a),n)):a};async function X4(e,t,n,s,a,i){return new Promise((u,d)=>{e(n,Y4(t,s,a,i)).then(h=>{if(!h.ok)throw h;if(s!=null&&s.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>Q4(h,d,s))})}async function Nr(e,t,n,s,a){return X4(e,"POST",t,s,a,n)}var J4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=it(it({},fg),t),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Nr(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(jr(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Nr(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(jr(s))return{data:null,error:s};throw s}}},Z4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=it(it({},fg),t),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nr(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Nr(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nr(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}},eM=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=it(it({},fg),t),this.fetch=hg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Nr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jr(n))return{data:null,error:n};throw n}}},tM=class extends eM{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new nM(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},nM=class extends J4{constructor(e,t,n,s){super(e,t,s),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,it(it({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,it(it({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new rM(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},rM=class extends Z4{constructor(e,t,n,s,a){super(e,t,a),this.vectorBucketName=n,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,it(it({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,it(it({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,it(it({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,it(it({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,it(it({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},sM=class extends W4{constructor(e,t={},n,s){super(e,t,n,s)}from(e){return new H4(this.url,this.headers,e,this.fetch)}get vectors(){return new tM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new K4(this.url+"/iceberg",this.headers,this.fetch)}};const sk="2.89.0",Ri=30*1e3,dm=3,Sp=dm*Ri,oM="http://localhost:9999",aM="supabase.auth.token",iM={"X-Client-Info":`gotrue-js/${sk}`},fm="X-Supabase-Api-Version",ok={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cM=600*1e3;class mc extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uM extends mc{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function dM(e){return Je(e)&&e.name==="AuthApiError"}class va extends mc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class no extends mc{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class _r extends no{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fM(e){return Je(e)&&e.name==="AuthSessionMissingError"}class _i extends no{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gu extends no{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends no{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hM(e){return Je(e)&&e.name==="AuthImplicitGrantRedirectError"}class J0 extends no{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pM extends no{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hm extends no{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kp(e){return Je(e)&&e.name==="AuthRetryableFetchError"}class Z0 extends no{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class pm extends no{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ew=` 	
\r=`.split(""),mM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ew.length;t+=1)e[ew[t].charCodeAt(0)]=-2;for(let t=0;t<wd.length;t+=1)e[wd[t].charCodeAt(0)]=t;return e})();function tw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(wd[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(wd[s]),t.queuedBits-=6}}function ak(e,t,n){const s=mM[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nw(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=u=>{vM(u,s,n)};for(let u=0;u<e.length;u+=1)ak(e.charCodeAt(u),a,i);return t.join("")}function gM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yM(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}gM(s,t)}}function vM(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Fi(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)ak(e.charCodeAt(a),n,s);return new Uint8Array(t)}function wM(e){const t=[];return yM(e,n=>t.push(n)),new Uint8Array(t)}function wa(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>tw(a,n,s)),tw(null,n,s),t.join("")}function xM(e){return Math.round(Date.now()/1e3)+e}function bM(){return Symbol("auth-callback")}const Pn=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},ik=()=>{if(!Pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function SM(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const lk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ai=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tn=async(e,t)=>{await e.removeItem(t)};class ef{constructor(){this.promise=new ef.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ef.promiseConstructor=Promise;function _p(e){const t=e.split(".");if(t.length!==3)throw new pm("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!lM.test(t[s]))throw new pm("JWT not in base64url format");return{header:JSON.parse(nw(t[0])),payload:JSON.parse(nw(t[1])),signature:Fi(t[2]),raw:{header:t[0],payload:t[1]}}}async function _M(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CM(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const u=await e(i);if(!t(i,null,u)){s(u);return}}catch(u){if(!t(i,u)){a(u);return}}})()})}function EM(e){return("0"+e.toString(16)).substr(-2)}function jM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,EM).join("")}async function NM(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function TM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await NM(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(e,t,n=!1){const s=jM();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Ai(e,`${t}-code-verifier`,a);const i=await TM(s);return[i,s===i?"plain":"s256"]}const PM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RM(e){const t=e.headers.get(fm);if(!t||!t.match(PM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function AM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ei(e){if(!OM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MM(e,t){return new Proxy(e,{get:(n,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,a)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,s,a)}})}function rw(e){return JSON.parse(JSON.stringify(e))}const ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zM=[502,503,504];async function sw(e){var t;if(!kM(e))throw new hm(ga(e),0);if(zM.includes(e.status))throw new hm(ga(e),e.status);let n;try{n=await e.json()}catch(i){throw new va(ga(i),i)}let s;const a=RM(e);if(a&&a.getTime()>=ok["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Z0(ga(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new _r}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,u)=>i&&typeof u=="string",!0))throw new Z0(ga(n),e.status,n.weak_password.reasons);throw new uM(ga(n),e.status||500,s)}const DM=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function at(e,t,n,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[fm]||(i[fm]=ok["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const u=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await LM(e,t,n+d,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}}async function LM(e,t,n,s,a,i){const u=DM(t,s,a,i);let d;try{d=await e(n,Object.assign({},u))}catch(h){throw console.error(h),new hm(ga(h),0)}if(d.ok||await sw(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(h){await sw(h)}}function rs(e){var t;let n=null;UM(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=xM(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function ow(e){const t=rs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Po(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $M(e){return{data:e,error:null}}function FM(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i}=e,u=al(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function aw(e){return e}function UM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ep=["global","local","others"];class BM{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=lk(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ep[0]){if(Ep.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ep.join(", ")}`);try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Po})}catch(s){if(Je(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=al(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:FM,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Je(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Po})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,i,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},y=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aw});if(y.error)throw y.error;const v=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);m[`${S}Page`]=k}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Je(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Ei(t);try{return await at(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Po})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ei(t);try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Po})}catch(s){if(Je(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ei(t);try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Po})}catch(s){if(Je(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ei(t.userId);try{const{data:n,error:s}=await at(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ei(t.userId),Ei(t.id);try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,a,i,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},y=await at(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aw});if(y.error)throw y.error;const v=await y.json(),x=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=y.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);m[`${S}Page`]=k}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Je(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await at(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await at(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await at(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Je(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await at(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await at(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}}function iw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ji={debug:!!(globalThis&&ik()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ck extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class VM extends ck{}async function HM(e,t,n){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),ji.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ji.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new VM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ji.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function WM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function KM(e){return parseInt(e,16)}function qM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function GM(e){var t;const{chainId:n,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:y,uri:v,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=uk(e.address),_=y?`${y}://${s}`:s,k=e.statement?`${e.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${w}

${k}`;let C=`URI: ${v}
Version: ${x}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${i.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),d&&(C+=`
Not Before: ${d.toISOString()}`),h&&(C+=`
Request ID: ${h}`),m){let N=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}C+=N}return`${S}
${C}`}class cn extends Error{constructor({message:t,code:n,cause:s,name:a}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class xd extends cn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function QM({error:e,options:t}){var n,s,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new cn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new cn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new cn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new cn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new cn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new cn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(dk(u)){if(i.rp.id!==u)return new cn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new cn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function YM({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new cn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new cn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(dk(s)){if(n.rpId!==s)return new cn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new cn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new cn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new cn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class XM{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const JM=new XM;function ZM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,a=al(e,["challenge","user","excludeCredentials"]),i=Fi(t).buffer,u=Object.assign(Object.assign({},n),{id:Fi(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:i,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Fi(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function e3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=al(e,["challenge","allowCredentials"]),a=Fi(t).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];i.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Fi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return i}function t3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:wa(new Uint8Array(e.response.attestationObject)),clientDataJSON:wa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function n3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wa(new Uint8Array(a.authenticatorData)),clientDataJSON:wa(new Uint8Array(a.clientDataJSON)),signature:wa(new Uint8Array(a.signature)),userHandle:a.userHandle?wa(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lw(){var e,t;return!!(Pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function r3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xd("Browser returned unexpected credential type",t)}:{data:null,error:new xd("Empty credential response",t)}}catch(t){return{data:null,error:QM({error:t,options:e})}}}async function s3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xd("Browser returned unexpected credential type",t)}:{data:null,error:new xd("Empty credential response",t)}}catch(t){return{data:null,error:YM({error:t,options:e})}}}const o3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},a3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of e)if(a)for(const i in a){const u=a[i];if(u!==void 0)if(Array.isArray(u))s[i]=u;else if(n(u))s[i]=u;else if(t(u)){const d=s[i];t(d)?s[i]=bd(d,u):s[i]=bd(u)}else s[i]=u}return s}function i3(e,t){return bd(o3,e,t||{})}function l3(e,t){return bd(a3,e,t||{})}class c3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:a},i){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const h=a??JM.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=i3(u.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:y,error:v}=await r3({publicKey:m,signal:h});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const m=l3(u.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:y,error:v}=await s3(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return Je(u)?{data:null,error:u}:{data:null,error:new va("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!n)return{data:null,error:new mc("rpId is required for WebAuthn authentication")};try{if(!lw())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:a},{request:i});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:h.type,rpId:n,rpOrigins:s,credential_response:h.credential_response}})}catch(u){return Je(u)?{data:null,error:u}:{data:null,error:new va("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!n)return{data:null,error:new mc("rpId is required for WebAuthn registration")};try{if(!lw())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:a},{create:i});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:n,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return Je(u)?{data:null,error:u}:{data:null,error:new va("Unexpected error in register",u)}}}}WM();const u3={url:oM,storageKey:aM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cw(e,t,n){return await n()}const Ni={};class gc{get jwks(){var t,n;return(n=(t=Ni[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ni[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ni[this.storageKey]=Object.assign(Object.assign({},Ni[this.storageKey]),{cachedAt:t})}constructor(t){var n,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},u3),t);if(this.storageKey=i.storageKey,this.instanceID=(n=gc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Pn()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new BM({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=lk(i.fetch),this.lock=i.lock||cw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Pn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=HM:this.lock=cw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ik()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=iw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=iw(this.memoryStorage)),Pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sk}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},s="none";if(Pn()&&(n=SM(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Pn()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hM(i)){const h=(t=i.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:u,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Je(n)?this._returnResult({error:n}):this._returnResult({error:new va("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:rs}),{data:u,error:d}=i;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,s,a;try{let i;if("email"in t){const{email:y,password:v,options:x}=t;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await Ci(this.storage,this.storageKey)),i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:v,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:_},xform:rs})}else if("phone"in t){const{phone:y,password:v,options:x}=t;i=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:rs})}else throw new Gu("You must provide either an email or phone number and a password");const{data:u,error:d}=i;if(d||!u)return await Tn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:u,options:d}=t;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ow})}else if("phone"in t){const{phone:i,password:u,options:d}=t;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ow})}else throw new Gu("You must provide either an email or phone number and a password");const{data:s,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new _i;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(Je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,a,i,u,d,h,m,y,v,x;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:k,wallet:S,statement:C,options:N}=t;let j;if(Pn())if(typeof S=="object")j=S;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")j=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=S}const T=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),O=await j.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=uk(O[0]);let U=(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!U){const de=await j.request({method:"eth_chainId"});U=KM(de)}const K={domain:T.host,address:L,statement:C,uri:T.href,version:"1",chainId:U,nonce:(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=N==null?void 0:N.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=GM(K),_=await j.request({method:"personal_sign",params:[qM(w),L]})}try{const{data:k,error:S}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:_},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:rs});if(S)throw S;if(!k||!k.session||!k.user){const C=new _i;return this._returnResult({data:{user:null,session:null},error:C})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:S})}catch(k){if(Je(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var n,s,a,i,u,d,h,m,y,v,x,w;let _,k;if("message"in t)_=t.message,k=t.signature;else{const{chain:S,wallet:C,statement:N,options:j}=t;let T;if(Pn())if(typeof C=="object")T=C;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))T=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=C}const O=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const L=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),N?{statement:N}:null));let U;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")U=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)U=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)_=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),k=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${O.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(s=j==null?void 0:j.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((u=j==null?void 0:j.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j==null?void 0:j.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((v=(y=j==null?void 0:j.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...j.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const L=await T.signMessage(new TextEncoder().encode(_),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=L}}try{const{data:S,error:C}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:wa(k)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:rs});if(C)throw C;if(!S||!S.session||!S.user){const N=new _i;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:C})}catch(S){if(Je(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const n=await pa(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new pM;const{data:i,error:u}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:rs});if(await Tn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!i||!i.session||!i.user){const d=new _i;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:u})}catch(i){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Je(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:i,nonce:u}=t,d=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rs}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const y=new _i;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(n){if(Je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,s,a,i,u;try{if("email"in t){const{email:d,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ci(this.storage,this.storageKey));const{error:v}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:y}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new Gu("You must provide either an email or phone number.")}catch(d){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Je(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var n,s;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:rs});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(Je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var n,s,a,i,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ci(this.storage,this.storageKey));const m=await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:$M});return!((i=m.data)===null||i===void 0)&&i.url&&Pn()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Je(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new _r;const{error:a}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Je(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:u}=await at(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:u,error:d}=await at(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Gu("You must provide either an email or phone number and a type")}catch(n){if(Je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Sp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const u=await pa(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=Cp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=MM(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Po}):await this._useSession(async n=>{var s,a,i;const{data:u,error:d}=n;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _r}:await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Po})})}catch(n){if(Je(n))return fM(n)&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new _r;const u=a.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await Ci(this.storage,this.storageKey));const{data:m,error:y}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Po});if(y)throw y;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Je(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _r;const n=Date.now()/1e3;let s=n,a=!0,i=null;const{payload:u}=_p(t.access_token);if(u.exp&&(s=u.exp,a=s<=n),a){const{data:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};i=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;i={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:u,error:d}=n;if(d)throw d;t=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new _r;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Je(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Pn())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new J0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new J0("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=t;if(!i||!d||!u||!m)throw new Qu("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(d);let x=y+v;h&&(x=parseInt(h));const w=x-y;w*1e3<=Ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const _=x-v;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,x,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,x,y);const{data:k,error:S}=await this._getUser(i);if(S)throw S;const C={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:v,expires_at:x,refresh_token:u,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(s){if(Je(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return this._returnResult({error:i});const u=(s=a.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(dM(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=bM(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:i},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Ci(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Je(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:a}=await this._useSession(async i=>{var u,d,h,m,y;const{data:v,error:x}=i;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Pn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Je(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:a,data:{session:i}}=n;if(a)throw a;const{options:u,provider:d,token:h,access_token:m,nonce:y}=t,v=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:h,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rs}),{data:x,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new _i}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(a){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:u}=n;if(u)throw u;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await CM(async a=>(a>0&&await _M(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rs})),(a,i)=>{const u=200*Math.pow(2,a);return i&&kp(i)&&Date.now()+u-s<Ri})}catch(s){if(this._debug(n,"error",s),Je(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Pn()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await pa(this.storage,this.storageKey);if(a&&this.userStorage){let u=await pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Ai(this.userStorage,this.storageKey+"-user",u)),a.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:Cp()}else if(a&&!a.user&&!a.user){const u=await pa(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await Tn(this.storage,this.storageKey+"-user"),await Ai(this.storage,this.storageKey,a)):a.user=Cp()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sp;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Sp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),kp(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(a.access_token);!d&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new _r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ef;const{data:i,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!i.session)throw new _r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const d={data:i.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(i){if(this._debug(a,"error",i),Je(i)){const u={data:null,error:i};return kp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(h){i.push(h)}});if(await Promise.all(u),i.length>0){for(let d=0;d<i.length;d+=1)console.error(i[d]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Tn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ai(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=rw(a);await Ai(this.storage,this.storageKey,i)}else{const a=rw(n);await Ai(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tn(this.storage,this.storageKey),await Tn(this.storage,this.storageKey+"-code-verifier"),await Tn(this.storage,this.storageKey+"-user"),this.userStorage&&await Tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ri}ms, refresh threshold is ${dm} ticks`),a<=dm&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ck)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,u]=await Ci(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(d.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?this._returnResult({data:null,error:i}):await at(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:i,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await at(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&h.type==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return this._returnResult({data:null,error:i});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?t3(t.webauthn.credential_response):n3(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:h}=await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return this._returnResult({data:null,error:i});const u=await at(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:ZM(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:e3(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=_p(s.access_token);let u=null;i.aal&&(u=i.aal);let d=u;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const m=i.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await at(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new _r})})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new _r});const u=await at(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Pn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Je(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new _r});const u=await at(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Pn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Je(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;return s?this._returnResult({data:null,error:s}):n?await at(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new _r})})}catch(t){if(Je(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?(await at(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _r})})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(d=>d.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(d=>d.kid===t),s&&this.jwks_cached_at+cM>a)return s;const{data:i,error:u}=await at(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(d=>d.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:w,error:_}=await this.getSession();if(_||!w.session)return this._returnResult({data:null,error:_});s=w.session.access_token}const{header:a,payload:i,signature:u,raw:{header:d,payload:h}}=_p(s);n!=null&&n.allowExpired||AM(i.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:i,header:a,signature:u},error:null}}const y=IM(a.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,wM(`${d}.${h}`)))throw new pm("Invalid JWT signature");return{data:{claims:i,header:a,signature:u},error:null}}catch(s){if(Je(s))return this._returnResult({data:null,error:s});throw s}}}gc.nextInstanceID={};const d3=gc,f3="2.89.0";let Zl="";typeof Deno<"u"?Zl="deno":typeof document<"u"?Zl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zl="react-native":Zl="node";const h3={"X-Client-Info":`supabase-js-${Zl}/${f3}`},p3={headers:h3},m3={schema:"public"},g3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y3={};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function v3(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(yc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w3(e){var t=v3(e,"string");return yc(t)=="symbol"?t:t+""}function x3(e,t,n){return(t=w3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(n),!0).forEach(function(s){x3(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const b3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S3=()=>Headers,k3=(e,t,n)=>{const s=b3(n),a=S3();return async(i,u)=>{var d;const h=(d=await t())!==null&&d!==void 0?d:e;let m=new a(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),s(i,en(en({},u),{},{headers:m}))}};function _3(e){return e.endsWith("/")?e:e+"/"}function C3(e,t){var n,s;const{db:a,auth:i,realtime:u,global:d}=e,{db:h,auth:m,realtime:y,global:v}=t,x={db:en(en({},h),a),auth:en(en({},m),i),realtime:en(en({},y),u),storage:{},global:en(en(en({},v),d),{},{headers:en(en({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function E3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var j3=class extends d3{constructor(e){super(e)}},N3=class{constructor(e,t,n){var s,a;this.supabaseUrl=e,this.supabaseKey=t;const i=E3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const u=`sb-${i.hostname.split(".")[0]}-auth-token`,d={db:m3,realtime:y3,auth:en(en({},g3),{},{storageKey:u}),global:p3},h=C3(n??{},d);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=k3(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(en({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new i4(new URL("rest/v1",i).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new sM(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new n4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:u,lock:d,debug:h,throwOnError:m},y,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j3({url:this.authUrl.href,headers:en(en({},x),y),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,userStorage:a,flowType:u,lock:d,debug:h,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _4(this.realtimeUrl.href,en(en({},e),{},{params:en(en({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const T3=(e,t,n)=>new N3(e,t,n);function P3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}P3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const R3="https://kkjkcbplhouxnvqkucaa.supabase.co",A3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtramtjYnBsaG91eG52cWt1Y2FhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY0NDAyOTMsImV4cCI6MjA4MjAxNjI5M30.UAMHq-2qHX2KaqUhkRdAqXbw079sX-HFeCPBbs-E8Wo",fk=T3(R3,A3),I3=async e=>{try{const t=JSON.stringify(e);localStorage.setItem("tile_o_polis_save",t);const{data:n,error:s}=await fk.from("game_saves").upsert({id:"global_save",state:e,updated_at:new Date},{onConflict:"id"});if(s)throw s;return!0}catch(t){return console.error("Hiba a ments sorn:",t),!1}},O3=async()=>{try{const{data:e,error:t}=await fk.from("game_saves").select("state").eq("id","global_save").single();if(e&&e.state)return e.state;const n=localStorage.getItem("tile_o_polis_save");return n===null?null:JSON.parse(n)}catch(e){return console.error("Hiba a betlts sorn:",e),null}};var tf="Switch",[M3]=fr(tf),[z3,D3]=M3(tf),hk=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:u,disabled:d,value:h="on",onCheckedChange:m,form:y,...v}=e,[x,w]=p.useState(null),_=pt(t,j=>w(j)),k=p.useRef(!1),S=x?y||!!x.closest("form"):!0,[C,N]=Ms({prop:a,defaultProp:i??!1,onChange:m,caller:tf});return l.jsxs(z3,{scope:n,checked:C,disabled:d,children:[l.jsx(Ze.button,{type:"button",role:"switch","aria-checked":C,"aria-required":u,"data-state":yk(C),"data-disabled":d?"":void 0,disabled:d,value:h,...v,ref:_,onClick:Ve(e.onClick,j=>{N(T=>!T),S&&(k.current=j.isPropagationStopped(),k.current||j.stopPropagation())})}),S&&l.jsx(gk,{control:x,bubbles:!k.current,name:s,value:h,checked:C,required:u,disabled:d,form:y,style:{transform:"translateX(-100%)"}})]})});hk.displayName=tf;var pk="SwitchThumb",mk=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,a=D3(pk,n);return l.jsx(Ze.span,{"data-state":yk(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});mk.displayName=pk;var L3="SwitchBubbleInput",gk=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const u=p.useRef(null),d=pt(u,i),h=Ec(n),m=_c(t);return p.useEffect(()=>{const y=u.current;if(!y)return;const v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set;if(h!==n&&w){const _=new Event("click",{bubbles:s});w.call(y,n),y.dispatchEvent(_)}},[h,n,s]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:d,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gk.displayName=L3;function yk(e){return e?"checked":"unchecked"}var vk=hk,$3=mk;const mm=p.forwardRef(({className:e,...t},n)=>l.jsx(vk,{className:ot("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx($3,{className:ot("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));mm.displayName=vk.displayName;const F3=()=>{const e=Cc(),t=ol(),[n,s]=p.useState(null),[a,i]=p.useState(!1),[u,d]=p.useState(!1),[h,m]=p.useState(!!document.fullscreenElement);p.useEffect(()=>{const U=()=>m(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",U),()=>document.removeEventListener("fullscreenchange",U)},[]);const y=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(U=>{console.error(`Error attempting to enable full-screen mode: ${U.message} (${U.name})`)})},[v,x]=p.useState(()=>localStorage.getItem("playerSwitchEnabled")!=="false"),[w,_]=p.useState(()=>{const U=localStorage.getItem("avatarSize");return U?parseInt(U,10):100}),[k,S]=p.useState(()=>{const U=localStorage.getItem("mapGridSize");return U?parseInt(U,10):200});p.useEffect(()=>{localStorage.setItem("playerSwitchEnabled",String(v))},[v]),p.useEffect(()=>{localStorage.setItem("avatarSize",String(w))},[w]),p.useEffect(()=>{localStorage.setItem("mapGridSize",String(k))},[k]),p.useEffect(()=>{t.state&&t.state.players&&t.state.buildings&&s(t.state)},[t.state]);const C=()=>{e("/select-player")},N=()=>{e("/building-designer")},j=()=>{e("/game-designer")},T=()=>{n?e("/game",{state:n}):Me("Nincs aktv jtk a memriban.")},O=async()=>{if(n){i(!0);const U=T0("Ments az adatbzisba..."),K={players:n.players,buildings:n.buildings,currentPlayerId:n.currentPlayerId,transactions:n.transactions},de=await I3(K);P0(U),i(!1),de?Xe("Jtk sikeresen mentve a felhbe!"):Me("Hiba trtnt a mentskor. Krlek ellenrizd a Supabase kapcsolatot.")}else Me("Nincs mit elmenteni. Elbb kezdj el jtszani!")},L=async()=>{i(!0);const U=T0("Betlts a felhbl..."),K=await O3();P0(U),i(!1),K?(Xe("Mentett jtk betltve!"),e("/game",{state:K})):Me("Nem tallhat mentett jtk az adatbzisban.")};return l.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-green-800 to-blue-900 text-white",children:[l.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:32px_32px]"}),l.jsx("div",{className:"absolute top-4 right-4 z-50",children:l.jsx(_e,{variant:"ghost",size:"icon",onClick:y,className:"text-white hover:bg-white/10",title:h?"Kilps a teljes kpernybl":"Teljes kperny",children:h?l.jsx(Zw,{className:"h-6 w-6"}):l.jsx(Jw,{className:"h-6 w-6"})})}),l.jsx("div",{className:"relative z-10 w-full max-w-md mx-4",children:u?l.jsxs(dn,{className:"bg-black/40 backdrop-blur-md border-white/10 shadow-2xl text-white",children:[l.jsx(Pr,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>d(!1),className:"text-white hover:text-white/80 hover:bg-white/10",children:l.jsx(bm,{className:"h-5 w-5"})}),l.jsx($n,{className:"text-2xl font-bold",children:"Belltsok"})]})}),l.jsxs(dr,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ht,{className:"text-base font-medium text-white",children:"Teljes kperny"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Jtk megjelentse teljes kpernyn"})]}),l.jsx(mm,{checked:h,onCheckedChange:y,className:"data-[state=checked]:bg-green-500"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ht,{className:"text-base font-medium text-white",children:"Jtkos vltsa"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Jtkosvlt gombok megjelentse a jtkban"})]}),l.jsx(mm,{checked:v,onCheckedChange:x,className:"data-[state=checked]:bg-green-500"})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ht,{className:"text-base font-medium text-white",children:"Jtkos avatr mrete"}),l.jsxs("p",{className:"text-sm text-gray-400",children:["A karakterek mrete a trkpen (",w,"%)"]})]}),l.jsx("div",{className:"flex gap-2",children:[100,75,50].map(U=>l.jsxs(_e,{size:"sm",variant:w===U?"default":"outline",onClick:()=>_(U),className:w===U?"bg-green-600 hover:bg-green-700 border-none":"bg-transparent text-white border-white/20 hover:bg-white/10",children:[U,"%"]},U))})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-white/5 border border-white/10",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(ht,{className:"text-base font-medium text-white",children:"j plya mrete"}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Hatssal van az j jtkokra (",k,"x",k,")"]})]}),l.jsx("div",{className:"flex gap-2 shrink-0",children:[{label:"Kicsi",val:50},{label:"Kzp",val:100},{label:"Nagy",val:200}].map(U=>l.jsx(_e,{size:"sm",variant:k===U.val?"default":"outline",onClick:()=>S(U.val),className:k===U.val?"bg-green-600 hover:bg-green-700 border-none":"bg-transparent text-white border-white/20 hover:bg-white/10",children:U.label},U.val))})]})]})]}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"flex gap-6 mb-8 text-yellow-400 animate-bounce delay-75 duration-1000",children:[l.jsx(od,{className:"w-12 h-12 drop-shadow-lg"}),l.jsx(ex,{className:"w-12 h-12 drop-shadow-lg"}),l.jsx(sc,{className:"w-12 h-12 drop-shadow-lg"})]}),l.jsx("h1",{className:"text-5xl font-extrabold mb-8 tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-orange-400 to-amber-500 drop-shadow-sm filter",children:"Tile-o-Polis"}),l.jsx(dn,{className:"w-full bg-black/40 backdrop-blur-md border-white/10 shadow-2xl",children:l.jsxs(dr,{className:"flex flex-col space-y-3 p-6",children:[n&&l.jsx(_e,{onClick:T,disabled:a,className:"w-full h-12 text-lg font-bold bg-gradient-to-r from-green-500 to-emerald-700 hover:from-green-600 hover:to-emerald-800 text-white border border-green-400/30",children:"Vissza a jtkba"}),l.jsx(_e,{onClick:C,disabled:a,className:"w-full h-12 text-lg bg-white/10 hover:bg-white/20 text-white border border-white/10",children:"j Jtk"}),l.jsxs(_e,{onClick:N,disabled:a,className:"w-full h-12 text-lg bg-purple-600/30 hover:bg-purple-600/50 text-white border border-purple-500/30",children:[l.jsx(od,{className:"mr-2 h-5 w-5"})," plettervez"]}),l.jsxs(_e,{onClick:j,disabled:a,className:"w-full h-12 text-lg bg-cyan-600/30 hover:bg-cyan-600/50 text-white border border-cyan-500/30",children:[l.jsx(Ip,{className:"mr-2 h-5 w-5"})," Jtktervez"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(_e,{onClick:O,disabled:a||!n,className:"w-full bg-blue-600/20 hover:bg-blue-600/30 text-blue-200 border border-blue-500/30",children:"Ments"}),l.jsx(_e,{onClick:L,disabled:a,className:"w-full bg-purple-600/20 hover:bg-purple-600/30 text-purple-200 border border-purple-500/30",children:"Betlts"})]}),l.jsxs(_e,{onClick:()=>d(!0),className:"w-full bg-transparent hover:bg-white/5 text-gray-300 border border-white/10",children:[l.jsx(Ip,{className:"mr-2 h-4 w-4"})," Belltsok"]})]})}),l.jsx("div",{className:"mt-8 text-sm text-gray-400 font-mono",children:"v1.0.0  Tile-o-Polis"})]})})]})},Ii=(e={})=>({...Ds.reduce((n,s)=>({...n,[s.type]:0}),{}),...e}),U3=Ds.reduce((e,t)=>({...e,[t.type]:1}),{}),B3=[{id:"player-test",name:"Teszt Elek",money:5e4,inventory:Ii({...U3,wood:500,stone:100,flour:20,clothes:5,[pe.WheatSeed]:100,wheat:50,[pe.Corn]:50,[pe.CornFlour]:10,[pe.Popcorn]:5,[pe.CornSeed]:50}),workplace:"Munkanlkli"},{id:"player-2",name:"Lyukas Zseb Lajos",money:300,inventory:Ii({potato:2,water:1,hoe:1,[pe.WheatSeed]:2,clothes:1}),workplace:"Munkanlkli"},{id:"player-3",name:"Grf Csekkfzet",money:15e3,inventory:Ii({potato:10,water:10,wood:50,brick:50,stone:20,hoe:1,tractor:1,wheat:20,[pe.WheatSeed]:20,flour:10,clothes:10,[pe.Corn]:10,[pe.CornFlour]:5,[pe.Popcorn]:5,[pe.CornSeed]:10}),workplace:"Munkanlkli"},{id:"player-4",name:"Krajcr Kzmr",money:2e3,inventory:Ii({potato:5,water:3,wood:10,brick:5,stone:2,hoe:1,wheat:5,[pe.WheatSeed]:5,flour:2,clothes:2,[pe.Corn]:2,[pe.CornFlour]:1,[pe.CornSeed]:2}),workplace:"Munkanlkli"},{id:"player-5",name:"Zsrosbdn dn",money:8e3,inventory:Ii({potato:8,water:8,wood:30,brick:20,stone:10,hoe:1,wheat:15,[pe.WheatSeed]:15,flour:5,clothes:5,[pe.Corn]:5,[pe.CornFlour]:2,[pe.Popcorn]:2,[pe.CornSeed]:5}),workplace:"Munkanlkli"}],V3=()=>{const e=Cc(),[t,n]=p.useState(B3),[s,a]=p.useState(!1),[i,u]=p.useState(""),[d,h]=p.useState("normal"),m=x=>{switch(x){case"easy":return{money:3e3,wood:20,brick:10,stone:5,hoe:1,tractor:0,wheat:0,[pe.WheatSeed]:10,[pe.CornSeed]:5,flour:0};case"hard":return{money:800,wood:0,brick:0,stone:0,hoe:0,tractor:0,wheat:0,[pe.WheatSeed]:0,[pe.CornSeed]:0,flour:0};case"normal":default:return{money:2e3,wood:5,brick:2,stone:0,hoe:0,tractor:0,wheat:0,[pe.WheatSeed]:5,[pe.CornSeed]:2,flour:0}}},y=x=>{e("/game",{state:{initialPlayer:x,allPlayers:t}})},v=()=>{if(!i.trim()){Me("A jtkos neve nem lehet res!");return}const{money:x,wood:w,brick:_,stone:k,hoe:S,tractor:C,wheat:N,[pe.WheatSeed]:j,[pe.CornSeed]:T,flour:O}=m(d),L={id:`player-${Date.now()}`,name:i.trim(),money:x,inventory:Ii({wood:w,brick:_,stone:k,hoe:S,tractor:C,wheat:N,[pe.WheatSeed]:j,[pe.CornSeed]:T,flour:O}),workplace:"Munkanlkli"},U=[...t,L];n(U),Xe(`j jtkos ltrehozva: ${L.name} (${d} nehzsg)!`),a(!1),u(""),e("/game",{state:{initialPlayer:L,allPlayers:U}})};return l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:[l.jsxs(dn,{className:"w-full max-w-md p-6 space-y-4",children:[l.jsx(Pr,{children:l.jsx($n,{className:"text-3xl font-bold text-center",children:"Jtkos kivlasztsa"})}),l.jsxs(dr,{className:"flex flex-col space-y-3",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Vlassz meglv jtkost:"}),t.map(x=>l.jsxs(_e,{onClick:()=>y(x),className:"w-full justify-start",variant:"outline",children:[x.name," (",l.jsx(Qn,{className:"inline-block h-4 w-4 mr-1 text-green-500"})," ",x.money,")"]},x.id)),l.jsx("div",{className:"border-t pt-4 mt-4",children:l.jsx(_e,{onClick:()=>a(!0),className:"w-full bg-green-600 hover:bg-green-700",children:"j jtkos ltrehozsa"})}),l.jsx(_e,{onClick:()=>e("/"),className:"w-full mt-4",variant:"secondary",children:"Vissza a menbe"})]})]}),l.jsx(Or,{open:s,onOpenChange:a,children:l.jsxs(hr,{className:"sm:max-w-[425px]",children:[l.jsxs(pr,{children:[l.jsx(mr,{children:"j jtkos ltrehozsa"}),l.jsx(Mr,{children:"Adj nevet az j jtkosnak s vlassz nehzsgi szintet."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{htmlFor:"new-player-name",className:"text-right",children:"Nv"}),l.jsx(_t,{id:"new-player-name",value:i,onChange:x=>u(x.target.value),className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(ht,{htmlFor:"difficulty",className:"text-right",children:"Nehzsg"}),l.jsxs(Ps,{onValueChange:x=>h(x),defaultValue:d,children:[l.jsx(us,{id:"difficulty",className:"col-span-3",children:l.jsx(Rs,{placeholder:"Vlassz nehzsget"})}),l.jsxs(ds,{children:[l.jsxs(_n,{value:"easy",children:["Knny (3000 ",l.jsx(Qn,{className:"inline-block h-4 w-4 ml-1 text-green-500"})," , 20 fa, 10 tgla, 5 k, 1 kapa, 10 bza vetmag, 5 kukorica vetmag)"]}),l.jsxs(_n,{value:"normal",children:["Norml (2000 ",l.jsx(Qn,{className:"inline-block h-4 w-4 ml-1 text-green-500"})," , 5 fa, 2 tgla, 0 k, 0 kapa, 5 bza vetmag, 2 kukorica vetmag)"]}),l.jsxs(_n,{value:"hard",children:["Nehz (800 ",l.jsx(Qn,{className:"inline-block h-4 w-4 ml-1 text-green-500"})," , 0 fa, 0 tgla, 0 k, 0 kapa, 0 vetmag)"]})]})]})]})]}),l.jsxs(Wr,{children:[l.jsx(_e,{variant:"outline",onClick:()=>a(!1),children:"Mgsem"}),l.jsx(_e,{onClick:v,children:"Ltrehozs"})]})]})})]})};var pg="Radio",[H3,wk]=fr(pg),[W3,K3]=H3(pg),xk=p.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:i,disabled:u,value:d="on",onCheck:h,form:m,...y}=e,[v,x]=p.useState(null),w=pt(t,S=>x(S)),_=p.useRef(!1),k=v?m||!!v.closest("form"):!0;return l.jsxs(W3,{scope:n,checked:a,disabled:u,children:[l.jsx(Ze.button,{type:"button",role:"radio","aria-checked":a,"data-state":_k(a),"data-disabled":u?"":void 0,disabled:u,value:d,...y,ref:w,onClick:Ve(e.onClick,S=>{a||h==null||h(),k&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})}),k&&l.jsx(kk,{control:v,bubbles:!_.current,name:s,value:d,checked:a,required:i,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});xk.displayName=pg;var bk="RadioIndicator",Sk=p.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...a}=e,i=K3(bk,n);return l.jsx(Ir,{present:s||i.checked,children:l.jsx(Ze.span,{"data-state":_k(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});Sk.displayName=bk;var q3="RadioBubbleInput",kk=p.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...a},i)=>{const u=p.useRef(null),d=pt(u,i),h=Ec(n),m=_c(t);return p.useEffect(()=>{const y=u.current;if(!y)return;const v=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(v,"checked").set;if(h!==n&&w){const _=new Event("click",{bubbles:s});w.call(y,n),y.dispatchEvent(_)}},[h,n,s]),l.jsx(Ze.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:d,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kk.displayName=q3;function _k(e){return e?"checked":"unchecked"}var G3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nf="RadioGroup",[Q3]=fr(nf,[qd,wk]),Ck=qd(),Ek=wk(),[Y3,X3]=Q3(nf),jk=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:i,required:u=!1,disabled:d=!1,orientation:h,dir:m,loop:y=!0,onValueChange:v,...x}=e,w=Ck(n),_=il(m),[k,S]=Ms({prop:i,defaultProp:a??null,onChange:v,caller:nf});return l.jsx(Y3,{scope:n,name:s,required:u,disabled:d,value:k,onValueChange:S,children:l.jsx($1,{asChild:!0,...w,orientation:h,dir:_,loop:y,children:l.jsx(Ze.div,{role:"radiogroup","aria-required":u,"aria-orientation":h,"data-disabled":d?"":void 0,dir:_,...x,ref:t})})})});jk.displayName=nf;var Nk="RadioGroupItem",Tk=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...a}=e,i=X3(Nk,n),u=i.disabled||s,d=Ck(n),h=Ek(n),m=p.useRef(null),y=pt(t,m),v=i.value===a.value,x=p.useRef(!1);return p.useEffect(()=>{const w=k=>{G3.includes(k.key)&&(x.current=!0)},_=()=>x.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",_)}},[]),l.jsx(F1,{asChild:!0,...d,focusable:!u,active:v,children:l.jsx(xk,{disabled:u,required:i.required,checked:v,...h,...a,name:i.name,ref:y,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ve(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:Ve(a.onFocus,()=>{var w;x.current&&((w=m.current)==null||w.click())})})})});Tk.displayName=Nk;var J3="RadioGroupIndicator",Pk=p.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,a=Ek(n);return l.jsx(Sk,{...a,...s,ref:t})});Pk.displayName=J3;var Rk=jk,Ak=Tk,Z3=Pk;const Ik=p.forwardRef(({className:e,...t},n)=>l.jsx(Rk,{className:ot("grid gap-2",e),...t,ref:n}));Ik.displayName=Rk.displayName;const sd=p.forwardRef(({className:e,...t},n)=>l.jsx(Ak,{ref:n,className:ot("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Z3,{className:"flex items-center justify-center",children:l.jsx(ZC,{className:"h-2.5 w-2.5 fill-current text-current"})})}));sd.displayName=Ak.displayName;const Yu=[{id:"buildings_32",name:"pletek (32x32)",src:pb,tileSize:32},{id:"details_32",name:"Rszletek (32x32)",src:Hm,tileSize:32},{id:"buildings_48",name:"pletek (48x48)",src:mb,tileSize:48},{id:"details_48",name:"Rszletek (48x48)",src:gb,tileSize:48}],e5=({isOpen:e,onClose:t,onSave:n,initialData:s})=>{const[a,i]=p.useState("basics"),[u,d]=p.useState("j plet"),[h,m]=p.useState("house"),[y,v]=p.useState(2),[x,w]=p.useState(2),[_,k]=p.useState(100),[S,C]=p.useState(0),[N,j]=p.useState(0),[T,O]=p.useState(0),[L,U]=p.useState(2),[K,de]=p.useState(5e3),[fe,ne]=p.useState("none"),[ee,re]=p.useState(1),[ce,Ee]=p.useState("none"),[me,be]=p.useState(1),[X,G]=p.useState(1e4),[he,$]=p.useState(32),[Z,ke]=p.useState("buildings_32"),[ge,Ce]=p.useState(0),[Le,ae]=p.useState(0),[Pe,Oe]=p.useState("tileset"),[De,Ke]=p.useState(""),[Ue,mt]=p.useState(null),$e=p.useRef(null);p.useEffect(()=>{if(s&&e){if(d(s.name),m(s.customType||(s.category==="residential"?"house":"office")),v(s.width),w(s.height),k(s.cost),C(s.woodCost||0),j(s.stoneCost||0),O(s.brickCost||0),U(s.capacity||0),de(s.duration),s.productionConfig?(ne(s.productionConfig.produces),re(s.productionConfig.quantity),Ee(s.productionConfig.consumes||"none"),be(s.productionConfig.consumesQuantity||1),G(s.productionConfig.duration)):ne("none"),s.customGraphics){const{tileset:B,x:ue,y:je,customUrl:W,customBase64:ie,tileSize:ye}=s.customGraphics;$(ye===48?48:32),B==="custom_url"&&W?(Oe("url"),Ke(W)):B==="custom_file"&&ie?(Oe("file"),mt(ie)):(Oe("tileset"),ke(B||"buildings_32"),Ce(ue||0),ae(je||0))}}else e&&!s&&(d("j plet"),m("house"),v(2),w(2),k(100),C(0),j(0),O(0),U(2),de(5e3),ne("none"),Oe("tileset"),ke("buildings_32"),Ce(0),ae(0))},[s,e]);const Lt=Yu.filter(B=>B.tileSize===he);p.useEffect(()=>{var B;if(Pe==="tileset"){const ue=Yu.find(je=>je.id===Z);(!ue||ue.tileSize!==he)&&ke(((B=Lt[0])==null?void 0:B.id)||"buildings_32")}},[he,Lt,Z,Pe]);const Vt=Yu.find(B=>B.id===Z)||Lt[0]||Yu[0];p.useEffect(()=>{const B=$e.current;if(!B)return;const ue=B.getContext("2d");if(!ue)return;const je=new Image;if(Pe==="tileset")je.src=Vt.src;else if(Pe==="url"&&De)je.src=De,je.crossOrigin="Anonymous";else if(Pe==="file"&&Ue)je.src=Ue;else{ue.clearRect(0,0,B.width,B.height);return}je.onload=()=>{B.width=je.width,B.height=je.height,ue.drawImage(je,0,0),ue.strokeStyle="red",ue.lineWidth=2;const W=Pe==="tileset"?Vt.tileSize:he;ue.strokeRect(ge*W,Le*W,y*W,x*W)},je.onerror=()=>{}},[Vt,ge,Le,y,x,e,a,Pe,De,Ue,he]);const Kt=B=>{const ue=$e.current;if(!ue)return;const je=ue.getBoundingClientRect(),W=B.clientX-je.left,ie=B.clientY-je.top,ye=Pe==="tileset"?Vt.tileSize:he,We=Math.floor(W/ye),ze=Math.floor(ie/ye);Ce(We),ae(ze)},Ot=B=>{var je;const ue=(je=B.target.files)==null?void 0:je[0];if(ue){const W=new FileReader;W.onloadend=()=>{mt(W.result)},W.readAsDataURL(ue)}},yn=()=>{const B=y*x*50;k(B),C(Math.floor(B/10)),j(Math.floor(B/20)),O(h==="office"?Math.floor(B/15):0),U(y*x*(h==="house"?2:5)),de(y*x*2e3),h==="office"&&(G(y*x*5e3),re(y*x*2))},$t=()=>{let B={tileset:Z,x:ge,y:Le,tileSize:he};Pe==="url"?B={tileset:"custom_url",customUrl:De,x:ge,y:Le,tileSize:he}:Pe==="file"&&(B={tileset:"custom_file",customBase64:Ue||void 0,x:ge,y:Le,tileSize:he}),n({name:u,type:"custom",customType:h,category:h==="house"?"residential":"business",width:y,height:x,cost:_,woodCost:S,brickCost:T,stoneCost:N,capacity:L,duration:K,customGraphics:B,productionConfig:fe!=="none"?{produces:fe,quantity:ee,consumes:ce!=="none"?ce:void 0,consumesQuantity:ce!=="none"?me:void 0,duration:X}:void 0}),t()};return l.jsx(Or,{open:e,onOpenChange:t,children:l.jsxs(hr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-slate-900 text-white border-slate-800",children:[l.jsx(pr,{children:l.jsx(mr,{className:"text-white",children:s?"plet Mdostsa":"j plet Tervezse"})}),l.jsxs(Nc,{value:a,onValueChange:i,className:"w-full",children:[l.jsxs(cl,{className:"grid w-full grid-cols-3 bg-slate-800",children:[l.jsx(Rr,{value:"basics",className:"data-[state=active]:bg-slate-700 data-[state=active]:text-white text-slate-400",children:"Alapadatok"}),l.jsx(Rr,{value:"graphics",className:"data-[state=active]:bg-slate-700 data-[state=active]:text-white text-slate-400",children:"Grafika"}),l.jsx(Rr,{value:"production",className:"data-[state=active]:bg-slate-700 data-[state=active]:text-white text-slate-400",children:"Termels"})]}),l.jsx(Ar,{value:"basics",className:"space-y-4 py-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"plet Neve"}),l.jsx(_t,{value:u,onChange:B=>d(B.target.value),className:"bg-slate-800 border-slate-700 text-white"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Tpus"}),l.jsxs(Ps,{value:h,onValueChange:B=>m(B),children:[l.jsx(us,{className:"bg-slate-800 border-slate-700 text-white",children:l.jsx(Rs,{})}),l.jsxs(ds,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsx(_n,{value:"house",children:"Lakplet"}),l.jsx(_n,{value:"office",children:"Munkahely"})]})]})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Mret (Szl x Mag)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_t,{type:"number",min:1,max:5,value:y,onChange:B=>v(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"}),l.jsx("span",{className:"py-2",children:"x"}),l.jsx(_t,{type:"number",min:1,max:5,value:x,onChange:B=>w(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]})]})]}),l.jsx(_e,{variant:"outline",onClick:yn,className:"w-full border-slate-700 text-slate-200 hover:bg-slate-800 hover:text-white",children:"Kltsgek s rtkek Ajnlsa"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 content-start",children:[l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Pnz Kltsg"}),l.jsx(_t,{type:"number",value:_,onChange:B=>k(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"ptsi Id (ms)"}),l.jsx(_t,{type:"number",value:K,onChange:B=>de(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Fa Kltsg"}),l.jsx(_t,{type:"number",value:S,onChange:B=>C(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"K Kltsg"}),l.jsx(_t,{type:"number",value:N,onChange:B=>j(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Tgla Kltsg"}),l.jsx(_t,{type:"number",value:T,onChange:B=>O(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:h==="house"?"Lakk Szma":"Dolgozk Szma"}),l.jsx(_t,{type:"number",value:L,onChange:B=>U(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]})]})]})}),l.jsx(Ar,{value:"graphics",className:"space-y-4 py-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Forrs Tpusa"}),l.jsxs(Ik,{value:Pe,onValueChange:B=>Oe(B),className:"flex gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(sd,{value:"tileset",id:"r-tileset",className:"border-slate-400 text-white"}),l.jsx(ht,{htmlFor:"r-tileset",className:"text-slate-200",children:"Tileset"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(sd,{value:"url",id:"r-url",className:"border-slate-400 text-white"}),l.jsx(ht,{htmlFor:"r-url",className:"text-slate-200",children:"Kp URL"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(sd,{value:"file",id:"r-file",className:"border-slate-400 text-white"}),l.jsx(ht,{htmlFor:"r-file",className:"text-slate-200",children:"Fjl Feltlts"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Felbonts / Grid Mret"}),l.jsxs(Ps,{value:String(he),onValueChange:B=>$(Number(B)),children:[l.jsx(us,{className:"bg-slate-800 border-slate-700 text-white",children:l.jsx(Rs,{})}),l.jsxs(ds,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsx(_n,{value:"32",children:"32x32 pixel"}),l.jsx(_n,{value:"48",children:"48x48 pixel"})]})]})]}),Pe==="tileset"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Tileset Kivlasztsa"}),l.jsxs(Ps,{value:Z,onValueChange:ke,children:[l.jsx(us,{className:"bg-slate-800 border-slate-700 text-white",children:l.jsx(Rs,{})}),l.jsx(ds,{className:"bg-slate-800 border-slate-700 text-white",children:Lt.map(B=>l.jsx(_n,{value:B.id,children:B.name},B.id))})]})]}),Pe==="url"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Kp URL cme"}),l.jsx(_t,{value:De,onChange:B=>Ke(B.target.value),placeholder:"https://example.com/image.png",className:"bg-slate-800 border-slate-700 text-white"})]}),Pe==="file"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Kpfjl kivlasztsa"}),l.jsx(_t,{type:"file",accept:"image/*",onChange:Ot,className:"bg-slate-800 border-slate-700 text-white"})]}),l.jsx("p",{className:"text-sm text-slate-400 mt-4",children:"Kattints a jobb oldali kpre a pozci kivlasztshoz! A piros keret jelzi a kivlasztott terletet. Ha sajt kpet hasznlsz, akkor is ki kell jellnd a megfelel terletet."})]}),l.jsx("div",{className:"border border-slate-700 rounded overflow-auto max-h-[400px] bg-slate-800 flex items-center justify-center",children:l.jsx("canvas",{ref:$e,onClick:Kt,className:"cursor-crosshair shadow-lg"})})]})}),l.jsx(Ar,{value:"production",className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-slate-400",children:'Itt llthatod be, hogy az plet milyen termket lltson el, s ehhez milyen alapanyagot hasznljon fel. Csak "Munkahely" tpus pleteknl rtelmezhet.'}),h!=="office"&&l.jsx("div",{className:"p-4 bg-yellow-900/30 text-yellow-200 rounded border border-yellow-900",children:"Figyelem: A termels belltsa csak Munkahely tpus pleteknl aktv!"}),l.jsxs("div",{className:h!=="office"?"opacity-50 pointer-events-none":"",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4 border border-slate-700 p-4 rounded",children:[l.jsx("h3",{className:"font-semibold text-white",children:"Termels (Kimenet)"}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Termelt ru"}),l.jsxs(Ps,{value:fe,onValueChange:B=>ne(B),children:[l.jsx(us,{className:"bg-slate-800 border-slate-700 text-white",children:l.jsx(Rs,{})}),l.jsxs(ds,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsx(_n,{value:"none",children:"Nincs termels"}),Ds.map(B=>l.jsx(_n,{value:B.type,children:B.name},B.type))]})]})]}),fe!=="none"&&l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Mennyisg (per ciklus)"}),l.jsx(_t,{type:"number",min:1,value:ee,onChange:B=>re(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]})]}),l.jsxs("div",{className:"space-y-4 border border-slate-700 p-4 rounded",children:[l.jsx("h3",{className:"font-semibold text-white",children:"Felhasznls (Bemenet) - Opcionlis"}),l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Szksges Alapanyag"}),l.jsxs(Ps,{value:ce,onValueChange:B=>Ee(B),children:[l.jsx(us,{className:"bg-slate-800 border-slate-700 text-white",children:l.jsx(Rs,{})}),l.jsxs(ds,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsx(_n,{value:"none",children:"Nincs szksg alapanyagra"}),Ds.map(B=>l.jsx(_n,{value:B.type,children:B.name},B.type))]})]})]}),ce!=="none"&&l.jsxs("div",{children:[l.jsx(ht,{className:"text-slate-200",children:"Mennyisg (per ciklus)"}),l.jsx(_t,{type:"number",min:1,value:me,onChange:B=>be(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"})]})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(ht,{className:"text-slate-200",children:"Gyrtsi Ciklus Ideje (ms)"}),l.jsx(_t,{type:"number",min:1e3,step:1e3,value:X,onChange:B=>G(Number(B.target.value)),className:"bg-slate-800 border-slate-700 text-white"}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Hny ezredmsodperc alatt kszl el a termk."})]})]})]})})]}),l.jsxs(Wr,{children:[l.jsx(_e,{variant:"ghost",onClick:t,className:"text-slate-300 hover:text-white hover:bg-slate-800",children:"Mgsem"}),l.jsx(_e,{onClick:$t,className:"bg-green-600 hover:bg-green-700 text-white",children:s?"Mdostsok Mentse":"plet Ltrehozsa"})]})]})})},t5=()=>{const e=Cc(),[t,n]=p.useState(()=>{const w=localStorage.getItem("customBuildings");return w?JSON.parse(w):[]}),[s,a]=p.useState(!1),[i,u]=p.useState(void 0),[d,h]=p.useState(-1);p.useEffect(()=>{localStorage.setItem("customBuildings",JSON.stringify(t))},[t]);const m=()=>{u(void 0),h(-1),a(!0)},y=(w,_)=>{u(w),h(_),a(!0)},v=w=>{if(confirm("Biztosan trlni szeretnd ezt az pletet?")){const _=[...t];_.splice(w,1),n(_),Xe("plet trlve!")}},x=w=>{const _=[...t];d>=0?(_[d]=w,Xe("plet mdostva!")):(_.push(w),Xe("j egyedi plet ltrehozva!")),n(_),a(!1)};return l.jsx("div",{className:"min-h-screen bg-slate-950 text-white p-8",children:l.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>e("/"),children:l.jsx(bm,{className:"h-6 w-6"})}),l.jsx("h1",{className:"text-3xl font-bold",children:"plettervez"})]}),l.jsxs(_e,{onClick:m,className:"bg-green-600 hover:bg-green-700",children:[l.jsx(nE,{className:"mr-2 h-4 w-4"})," j plet"]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-300",children:"Egyedi pletek"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.length===0?l.jsx("div",{className:"col-span-full text-center py-6 text-slate-500 bg-slate-900/50 rounded-lg border border-slate-800 border-dashed",children:l.jsx("p",{children:"Mg nincsenek egyedi pleteid."})}):t.map((w,_)=>l.jsxs(dn,{className:"bg-slate-900 border-slate-800",children:[l.jsxs(Pr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx($n,{className:"text-lg font-medium text-white",children:w.name}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-400",onClick:()=>y(w,_),children:l.jsx(Mv,{className:"h-4 w-4"})}),l.jsx(_e,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-400",onClick:()=>v(_),children:l.jsx(ad,{className:"h-4 w-4"})})]})]}),l.jsx(dr,{children:l.jsxs("div",{className:"text-sm text-slate-300 space-y-1",children:[l.jsxs("p",{children:["Tpus: ",w.category==="residential"?"Lakplet":"Vllalkozs"]}),l.jsxs("p",{children:["Mret: ",w.width,"x",w.height]}),l.jsxs("p",{children:["Kltsg: ",w.cost," pnz"]}),w.customGraphics&&l.jsx("div",{className:"mt-4 p-2 bg-slate-800 rounded flex justify-center",children:l.jsxs("span",{className:"text-xs",children:["Grafika: ",w.customGraphics.tileset==="custom_url"||w.customGraphics.tileset==="custom_file"?"Egyedi kp":"Tileset"]})})]})})]},`custom-${_}`))})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-300",children:"Alaprtelmezett pletek (Sablonknt szerkeszthet)"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Oi.map((w,_)=>l.jsxs(dn,{className:"bg-slate-900/50 border-slate-800",children:[l.jsxs(Pr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx($n,{className:"text-lg font-medium",children:w.name}),l.jsxs(_e,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-400",onClick:()=>y(w,-2),children:[" ",l.jsx(Mv,{className:"h-4 w-4"})]})]}),l.jsx(dr,{children:l.jsxs("div",{className:"text-sm text-slate-400 space-y-1",children:[l.jsxs("p",{children:["Tpus: ",w.category==="residential"?"Lakplet":"Vllalkozs"]}),l.jsxs("p",{children:["Mret: ",w.width,"x",w.height]}),l.jsxs("p",{children:["Kltsg: ",w.cost," pnz"]})]})})]},`default-${_}`))})]}),s&&l.jsx(e5,{isOpen:s,onClose:()=>a(!1),onSave:x,initialData:i})]})})},n5=()=>{const e=Cc(),[t,n]=p.useState(30),[s,a]=p.useState(0),[i,u]=p.useState(0),[d,h]=p.useState(0);p.useEffect(()=>{const y=localStorage.getItem("gameRules_cycleTime"),v=localStorage.getItem("gameRules_winMoney"),x=localStorage.getItem("gameRules_winCompanies"),w=localStorage.getItem("gameRules_loseInsolvencyCycles");y&&n(parseInt(y,10)/1e3),v&&a(parseInt(v,10)),x&&u(parseInt(x,10)),w&&h(parseInt(w,10))},[]);const m=()=>{localStorage.setItem("gameRules_cycleTime",(t*1e3).toString()),localStorage.setItem("gameRules_winMoney",s.toString()),localStorage.setItem("gameRules_winCompanies",i.toString()),localStorage.setItem("gameRules_loseInsolvencyCycles",d.toString()),Xe("Jtkszablyok mentve!")};return l.jsxs("div",{className:"min-h-screen bg-slate-950 text-white p-8",children:[l.jsxs(_e,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[l.jsx(bm,{className:"mr-2 h-4 w-4"})," Vissza a menbe"]}),l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs(dn,{className:"bg-slate-900 border-slate-800",children:[l.jsx(Pr,{children:l.jsx($n,{className:"text-2xl text-cyan-400",children:"Jtktervez"})}),l.jsxs(dr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Gazdasgi ciklus ideje (msodperc)"}),l.jsx(_t,{type:"number",value:t,onChange:y=>n(parseInt(y.target.value)||0),className:"bg-slate-800 border-slate-700 text-white"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Milyen gyakran kelljen brt/fizetst fizetni."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Gyzelmi felttel: Pnzsszeg"}),l.jsx(_t,{type:"number",value:s,onChange:y=>a(parseInt(y.target.value)||0),className:"bg-slate-800 border-slate-700 text-white"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Ha 0, nincs ilyen felttel."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Gyzelmi felttel: Vllalatok szma"}),l.jsx(_t,{type:"number",value:i,onChange:y=>u(parseInt(y.target.value)||0),className:"bg-slate-800 border-slate-700 text-white"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Ha 0, nincs ilyen felttel."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ht,{className:"text-slate-200",children:"Veresg felttel: Fizetskptelensg (ciklusok szma)"}),l.jsx(_t,{type:"number",value:d,onChange:y=>h(parseInt(y.target.value)||0),className:"bg-slate-800 border-slate-700 text-white"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Hny ciklus utn veszt a jtkos, ha mnuszban van az egyenlege. Ha 0, nincs veresg."})]}),l.jsxs(_e,{onClick:m,className:"w-full bg-cyan-600 hover:bg-cyan-700 mt-4",children:[l.jsx(oE,{className:"mr-2 h-4 w-4"})," Ments"]})]})]})})]})},r5=({onStart:e})=>l.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-green-800 to-blue-900 text-white",children:[l.jsx("div",{className:"absolute inset-0 opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white via-transparent to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[length:32px_32px]"}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center p-12 bg-black/40 backdrop-blur-md rounded-2xl border border-white/10 shadow-2xl max-w-2xl w-full mx-4 animate-in fade-in zoom-in duration-700",children:[l.jsxs("div",{className:"flex gap-6 mb-8 text-yellow-400 animate-bounce delay-75 duration-1000",children:[l.jsx(od,{className:"w-16 h-16 drop-shadow-lg"}),l.jsx(ex,{className:"w-16 h-16 drop-shadow-lg"}),l.jsx(sc,{className:"w-16 h-16 drop-shadow-lg"})]}),l.jsx("h1",{className:"text-7xl font-extrabold mb-6 tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-orange-400 to-amber-500 drop-shadow-sm filter",children:"Tile-o-Polis"}),l.jsx("p",{className:"text-2xl text-gray-100 mb-10 max-w-lg font-light leading-relaxed",children:"ptsd fel lmaid vrost, gazdlkodj, kereskedj s vlj a vidk leggazdagabb polgrmesterv!"}),l.jsxs("div",{className:"space-y-6 w-full max-w-sm",children:[l.jsx(_e,{size:"lg",className:"w-full h-14 text-xl font-bold bg-gradient-to-r from-green-500 to-emerald-700 hover:from-green-600 hover:to-emerald-800 text-white shadow-xl transition-all hover:scale-105 border-2 border-green-400/30",onClick:e,children:"Jtk Indtsa"}),l.jsx("div",{className:"pt-2 text-sm text-gray-300 italic",children:'"Minden nagy vros egyetlen tglval kezddik..."'})]})]}),l.jsx("div",{className:"absolute bottom-6 text-sm text-gray-400 font-mono",children:"v1.0.0  Tile-o-Polis"})]}),s5="/tile-o-polis/assets/Boogie%20in%20the%20Happy%20City%202-tIQKvdcy.mp3",o5=new F2,a5=()=>{const[e,t]=p.useState(!1),n=p.useRef(null),s=ol();p.useEffect(()=>{const i=new Audio(s5);i.loop=!0,i.volume=.5,n.current=i;const u=()=>{i.play().catch(h=>{console.log("Autoplay prevented, waiting for interaction",h)})};s.pathname!=="/game"&&u();const d=()=>{i.paused&&s.pathname!=="/game"&&i.play().catch(console.error),document.removeEventListener("click",d)};return document.addEventListener("click",d),()=>{i.pause(),document.removeEventListener("click",d)}},[]),p.useEffect(()=>{if(!n.current)return;const i=n.current;if(s.pathname==="/game"){const u=setInterval(()=>{i.volume>.05?i.volume=Math.max(0,i.volume-.05):(clearInterval(u),i.pause())},100);return()=>clearInterval(u)}else{i.paused&&(i.volume=0,i.play().catch(console.error));const u=setInterval(()=>{i.volume<.5?i.volume=Math.min(.5,i.volume+.05):clearInterval(u)},100);return()=>clearInterval(u)}},[s.pathname]);const a=()=>{t(!0)};return e?l.jsx(l.Fragment,{children:l.jsxs(MT,{children:[l.jsx(ma,{path:"/",element:l.jsx(F3,{})}),l.jsx(ma,{path:"/select-player",element:l.jsx(V3,{})}),l.jsx(ma,{path:"/building-designer",element:l.jsx(t5,{})}),l.jsx(ma,{path:"/game-designer",element:l.jsx(n5,{})}),l.jsx(ma,{path:"/game",element:l.jsx(JO,{})}),l.jsx(ma,{path:"*",element:l.jsx(ZO,{})})]})}):l.jsx(r5,{onStart:a})},i5=()=>l.jsx(B2,{client:o5,children:l.jsxs(h2,{children:[l.jsx(GE,{}),l.jsx(Ej,{}),l.jsx(LT,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(a5,{})})]})});F_.createRoot(document.getElementById("root")).render(l.jsx(i5,{}));
